define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojvalidation"],function(a,f){function c(a,b){this.NR=b;this.TS=a;this.FN="/"}a.be=function(a){this.Init(a)};o_("AttributeGroupHandler",a.be,a);a.b.qa(a.be,a.b,"oj.AttributeGroupHandler");a.be.prototype.Init=function(b){a.be.t.Init.call(this);this.mn=b?b:{};this.vm={};this.zr=0;this.Zo=this.yl();for(var c in this.mn)b=this.Zo.indexOf(this.mn[c]),-1!==b&&this.Zo.splice(b,1)};a.be.prototype.yl=function(){return[]};a.b.g("AttributeGroupHandler.prototype.getValueRamp",
{yl:a.be.prototype.yl});a.be.prototype.wg=function(a){if(this.mn[a])return this.mn[a];this.vm[a]||(this.vm[a]=this.Zo[this.zr],this.zr==this.Zo.length-1?this.zr=0:this.zr++);return this.vm[a]};a.b.g("AttributeGroupHandler.prototype.getValue",{wg:a.be.prototype.wg});a.be.prototype.kH=function(){var a=[],b;for(b in this.vm)a.push({category:b,value:this.vm[b]});return a};a.b.g("AttributeGroupHandler.prototype.getCategoryAssignments",{kH:a.be.prototype.kH});a.be.prototype.AG=function(a,b){this.mn[a]=
b};a.b.g("AttributeGroupHandler.prototype.addMatchRule",{AG:a.be.prototype.AG});var b={CSS_TEXT_PROPERTIES:function(a,c){var f={};a&&(a.hasClass("oj-gaugeMetricLabel")&&a.hasClass(a.parentNode,"oj-ledGauge")&&(f["font-size"]=!0,f.color=!0),a.hasClass(a,"oj-chartSliceLabel")&&(f.color=!0));return b.MD(a,c,!1,f)},CSS_BACKGROUND_PROPERTIES:function(a,c){return b.MD(a,c,!0,{})},CSS_URL:function(a){return b.MR(a)},iz:"rgb(254, 0, 254)",jz:"Times",gK:"1px",lz:"1",kz:"normal",bK:4,WU:function(a,b){return a.css(b)},
MR:function(a){return(a=a.css("background-image"))&&-1!==a.indexOf("url(")?a.slice(a.indexOf("url(")+4,a.length-1).replace(/"/g,""):a},pM:function(a){var b="";a.css("border-top-color")&&(b+="border-color: "+a.css("border-top-color")+";");a.css("border-width")&&a.css("border-style")&&"none"!=a.css("border-style")&&(b+="border-width: "+a.css("border-width")+";");a.css("background-color")&&(b+="background-color: "+a.css("background-color")+";");return b},tM:function(a,c){var f="",h=a.css("font-family");
h&&h!==b.jz&&(f+="font-family: "+h.replace(/"/g,"'")+";");h=a.css("font-size");!h||-1<h.indexOf("px")&&parseFloat(h)<b.bK||c["font-size"]||(f+="font-size: "+h+";");(h=a.css("font-weight"))&&h!==b.lz&&(f+="font-weight: "+h+";");(h=a.css("color"))&&h!==b.iz&&!c.color&&(f+="color: "+h+";");(h=a.css("font-style"))&&h!==b.kz&&(f+="font-style: "+h+";");return f},MD:function(a,b,c,f){f||(f={});if(!a)return b;var k;b&&((k=a.attr("style"))?a.attr("style",k+b):a.attr("style",b));b="";!0!==c&&(b+=this.tM(a,
f));!1!==c&&(b+=this.pM(a));k&&a.attr("style",k);return b},aW:function(a,c,g,h){var k=f(document.createElement("div"));k.attr("style","display:none;");a.append(k);a="";for(var l=0;l<g.length;l++)a=a+g[l]+" ";k.attr("class",a);g=f(document.createElement("div"));k.append(g);g.css("font-family",b.jz);g.css("font-size",b.gK);g.css("color",b.iz);g.css("font-weight",b.lz);g.css("font-style",b.kz);for(var m in h)k=f(document.createElement("div")),k.addClass(m),g.append(k),b.cS(c,k,h[m])},cS:function(a,c,
f){if(f instanceof Array)for(var h=0;h<f.length;h++)b.fF(a,c,f[h]);else b.fF(a,c,f)},fF:function(a,e,f){a=new c(a,f.path);var h;f.property&&(h=(h=b[f.property])?h(e,a.wg()):b.WU(e,f.property));null==h||"string"==typeof h&&""==h.replace(/^\s+/g,"")||a.sW(h)}};a.Ia("oj.dvtBaseComponent",f.oj.baseComponent,{_ComponentCreate:function(){this._super();this.ew=f(document.createElement("div"));this.ew.attr("style","visibility:hidden;");this.element.append(this.ew);this.ej=new DvtContext(this.element[0],null,
this.ew[0]);this.ej.setReadingDirection(this.Ec());this.ej.setTooltipStyleClass("oj-dvt-tooltip");this.ej.setDatatipStyleClass("oj-dvt-datatip");f(document.body).hasClass("oj-hicontrast")&&DvtAgent.setHighContrast(!0);this.element.attr("tabIndex",0);this.Pa=this.Af(this.ej,this.Vi,this);this.ej.getStage().addChild(this.Pa);this.Mz();this.qE();this.Vs();this.gg();a.fa.vh(this.element[0],f.proxy(this.ig,this))},refresh:function(){this._super();this.ej.setReadingDirection(this.Ec());this.qE();this.gg()},
getNodeBySubId:function(a){var b;this.Pa&&this.Pa.getAutomation&&(b=this.Pa.getAutomation());return b?b.getDomElementForSubId(a.subId):null},getSubIdByNode:function(a){var b;this.Pa&&this.Pa.getAutomation&&(b=this.Pa.getAutomation());return b?b.getSubIdForDomElement(a):null},Mz:function(){for(var a=this.af(),c=0;c<a.length;c++)this.element.addClass(a[c]);b.aW(this.element,this.options,this.af(),this.Ti())},af:function(){return["oj-dvtbase"]},Ti:function(){return{}},Ui:function(){return[]},hm:function(){var b=
{"DvtUtilBundle.CLEAR_SELECTION":this.Gc("labelClearSelection"),"DvtUtilBundle.STATE_SELECTED":this.Gc("stateSelected"),"DvtUtilBundle.STATE_UNSELECTED":this.Gc("stateUnselected"),"DvtUtilBundle.STATE_MAXIMIZED":this.Gc("stateMaximized"),"DvtUtilBundle.STATE_MINIMIZED":this.Gc("stateMinimized"),"DvtUtilBundle.STATE_EXPANDED":this.Gc("stateExpanded"),"DvtUtilBundle.STATE_COLLAPSED":this.Gc("stateCollapsed"),"DvtUtilBundle.STATE_ISOLATED":this.Gc("stateIsolated"),"DvtUtilBundle.STATE_HIDDEN":this.Gc("stateHidden"),
"DvtUtilBundle.STATE_VISIBLE":this.Gc("stateVisible"),"DvtUtilBundle.SCALING_SUFFIX_THOUSAND":this.Gc("labelScalingSuffixThousand"),"DvtUtilBundle.SCALING_SUFFIX_MILLION":this.Gc("labelScalingSuffixMillion"),"DvtUtilBundle.SCALING_SUFFIX_BILLION":this.Gc("labelScalingSuffixBillion"),"DvtUtilBundle.SCALING_SUFFIX_TRILLION":this.Gc("labelScalingSuffixTrillion"),"DvtUtilBundle.SCALING_SUFFIX_QUADRILLION":this.Gc("labelScalingSuffixQuadrillion")},c=a.Da.Rr("abbreviated");b["DvtUtilBundle.MONTH_SHORT_JANUARY"]=
c[0];b["DvtUtilBundle.MONTH_SHORT_FEBRUARY"]=c[1];b["DvtUtilBundle.MONTH_SHORT_MARCH"]=c[2];b["DvtUtilBundle.MONTH_SHORT_APRIL"]=c[3];b["DvtUtilBundle.MONTH_SHORT_MAY"]=c[4];b["DvtUtilBundle.MONTH_SHORT_JUNE"]=c[5];b["DvtUtilBundle.MONTH_SHORT_JULY"]=c[6];b["DvtUtilBundle.MONTH_SHORT_AUGUST"]=c[7];b["DvtUtilBundle.MONTH_SHORT_SEPTEMBER"]=c[8];b["DvtUtilBundle.MONTH_SHORT_OCTOBER"]=c[9];b["DvtUtilBundle.MONTH_SHORT_NOVEMBER"]=c[10];b["DvtUtilBundle.MONTH_SHORT_DECEMBER"]=c[11];return b},nc:function(b,
c){var f=this.Gc(b);if(c){for(var h={},k=0;k<c.length;k++)h[c[k]]="{"+k+"}";f=a.ca.tb(f,h)}return f},qE:function(){var a=this.hm();DvtBundle.addLocalizedStrings(a)},_destroy:function(){this.Pa.destroy&&this.Pa.destroy();a.fa.Uj(this.element[0],f.proxy(this.ig,this));this.element.children().remove();this.element.removeAttr("role").removeAttr("tabIndex");for(var b=this.af(),c=0;c<b.length;c++)this.element.removeClass(b[c]);this._super()},_setOptions:function(a){this._superApply(arguments);if(!this.ut){var b=
!1,c=this.Ui();f.each(a,function(a){if(0>c.indexOf(a))return b=!0,!1});b&&this.gg()}},_setOption:function(b,c){var f=this.mk(b),h=this.options[b],k=this._superApply(arguments);f&&(f=this.options[b],a.b.Yi(h,f)||this._trigger("optionChange",null,{option:b,previousValue:h,value:f,optionMetadata:{writeback:this.ut?"shouldWrite":"shouldNotWrite"}}));return k},Af:function(){return null},Vi:function(){},ig:function(){var a=this.element.width(),b=this.element.height();5<=Math.abs(a-this.Tw)+Math.abs(b-this.sv)&&
(this.Pa.render(null,a,b),this.Tw=a,this.sv=b)},Vs:function(){},gg:function(){this.ej.isReadyToRender()?(this.Tw=this.element.width(),this.sv=this.element.height(),this.Pa.render(this.options,this.Tw,this.sv)):a.C.error(this.Gc("notReadyToRender").summary)},mk:function(){return!1},Wg:function(a,b){this.ut=!0;this.option(a,b);this.ut=!1}});a.Yl=function(a){this.Init(a)};o_("ShapeAttributeGroupHandler",a.Yl,a);a.b.qa(a.Yl,a.be,"oj.ShapeAttributeGroupHandler");a.Yl.wm="square circle diamond plus triangleDown triangleUp human".split(" ");
a.Yl.prototype.yl=function(){return a.Yl.wm.slice()};a.Kg=function(b){this.wm=[];if(f(document.body).hasClass("oj-hicontrast"))this.wm=a.Kg.DN.slice();else{var c=f(document.createElement("div"));c.attr("style","display:none;");c.attr("id","attrGps");f(document.body).append(c);for(var g=0;g<a.Kg.WF.length;g++){var h=f(document.createElement("div"));h.addClass(a.Kg.WF[g]);c.append(h);this.wm.push(h.css("color"))}c.remove()}this.Init(b)};o_("ColorAttributeGroupHandler",a.Kg,a);a.b.qa(a.Kg,a.be,"oj.ColorAttributeGroupHandler");
a.Kg.WF="oj-dvt-category1 oj-dvt-category2 oj-dvt-category3 oj-dvt-category4 oj-dvt-category5 oj-dvt-category6 oj-dvt-category7 oj-dvt-category8 oj-dvt-category9 oj-dvt-category10 oj-dvt-category11 oj-dvt-category12".split(" ");a.Kg.DN="#267db3 #68c182 #fad55c #ed6647 #8561c8 #6ddbdb #ffb54d #e371b2 #47bdef #a2bf39 #a75dba #f7f37b".split(" ");a.Kg.prototype.yl=function(){return this.wm.slice()};c.prototype.OS=function(a,b,c,f){for(var k={};a&&-1<b.indexOf(c);){var l=b.substring(0,b.indexOf(c));f&&
void 0===a[l]&&(a[l]={});a=a[l];b=b.substring(b.indexOf(c)+1,b.length)}a&&(k.object=a,k.parameter=b);return k};c.prototype.eF=function(a){void 0===this.ln&&(a=this.OS(this.TS,this.NR,this.FN,a),this.ln=a.object,this.Wv=a.parameter)};c.prototype.wg=function(){this.eF(!1);return void 0===this.ln?void 0:this.ln[this.Wv]};c.prototype.sW=function(a){this.eF(!0);this.ln[this.Wv]!==a&&(this.ln[this.Wv]=a)}});
//# sourceMappingURL=oj-modular.map