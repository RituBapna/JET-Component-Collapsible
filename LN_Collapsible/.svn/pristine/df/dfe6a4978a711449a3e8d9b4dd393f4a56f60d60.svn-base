/*
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
*/
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojvalidation","ojs/ojpopup"],function(a,f){a.Ta=function(a){this.Init(a)};a.Sa.Xx(a.Sa.cd.Wo,a.Ta);a.b.qa(a.Ta,a.Pb,"oj.PopupMessagingStrategy");a.Ta.Sg={ojRadioset:{position:"launcher",ug:{open:"focusin mouseover",close:"mouseout"}},ojCheckboxset:{position:"launcher",ug:{open:"focusin mouseover",close:"mouseout"}},"default":{ug:{open:"focusin"}}};a.Ta.RJ="oj-component-icon oj-message-status-icon ";a.Ta.prototype.oi=function(b){a.Ta.t.oi.call(this,
b);this.aD()};a.Ta.prototype.Go=function(b){a.Ta.t.Go.call(this,b);this.pG()};a.Ta.prototype.update=function(){a.Ta.t.update.call(this);this.pG()};a.Ta.prototype.tg=function(){var b=a.Ta.Sg[this.Ve().widgetName],b=b?b.ug:a.Ta.Sg["default"].ug;b.open&&(this.td().off(b.open,this.ZD),this.td().off(b.open,this.Br));b.close&&this.td().off(b.close,this.Tt);this.MN();a.Ta.t.tg.call(this)};a.Ta.prototype.Tt=function(a){a=a.data&&a.data.strategy;a.Jd.ojPopup("close",a.td())};a.Ta.prototype.aD=function(){var b=
this.td(),c=a.Ta.Sg[this.Ve().widgetName],c=c?c.ug:a.Ta.Sg["default"].ug;if(!this.Nk())b.on(c.open,{strategy:this},this.Br)};a.Ta.prototype.ZD=function(a){(a.data&&a.data.strategy).lu()};a.Ta.prototype.lu=function(){var b=this.wA(),c;this.Nk()&&b&&(c=this.Jd[0],c.innerHTML="",c.innerHTML=b,b=this.td(),c=b.is("[id]")?b.attr("id"):b.uniqueId().attr("id"),this.Jd.ojPopup("widget").attr(a.fa.Pg,c),this.Jd.ojPopup("open",b))};a.Ta.prototype.Tt=function(a){a=a.data&&a.data.strategy;a.Jd.ojPopup("close",
a.td())};a.Ta.prototype.aD=function(){var b=this.td(),c=a.Ta.Sg[this.Ve().widgetName],c=c?c.ug:a.Ta.Sg["default"].ug;if(!this.Nk())b.on(c.open,{strategy:this},this.Br)};a.Ta.prototype.pG=function(){var a;a=!1;var b,c;this.Nk()&&(a=this.Jd.ojPopup("isOpen"),b=this.wA(),c=document.activeElement===this.td()[0]?!0:!1,a?b?(a=this.Jd[0],a.innerHTML="",a.innerHTML=b):this.Jd.ojPopup("close",this.td()):c&&b&&this.lu())};a.Ta.prototype.Br=function(b){b=b.data&&b.data.strategy;if(!b.Nk()){var c=b.td(),d=b.hP(),
e=a.Ta.Sg[b.Ve().widgetName],e=e?e.ug:a.Ta.Sg["default"].ug;b.Ve().widget();b.Jd=f("\x3cdiv class\x3d'oj-messaging-popup-container'\x3e\x3c/div\x3e");f("body").append(b.Jd);b.Jd.ojPopup({rootAttributes:{"class":"oj-messaging-popup"},initialFocus:"none",tail:"simple",autoDismiss:"focusLoss",position:{my:"start bottom",at:"end top",collision:"flip",of:d}});d={strategy:b};if(e.open)c.on(e.open,d,b.ZD);if(e.close)c.on(e.close,d,b.Tt);b.td().off(e.open,b.Br);b.lu()}};a.Ta.prototype.hP=function(){var b=
a.Ta.Sg[this.Ve().widgetName];return b&&b.position&&"launcher"===b.position?this.td():this.Ve().widget()};a.Ta.prototype.MN=function(){this.Nk()&&this.Jd&&(this.Jd.ojPopup("destroy"),this.Jd.remove())};a.Ta.prototype.wA=function(){var a="",b=this.Ve().document[0],c=[],d=!1,e=this;this.CJ()&&c.push(this.rM());(this.Fs()||this.My()||this.Ly())&&c.push(this.qM(b));f.each(c,function(c,g){g&&(d?a=a.concat(e.oP(b)):d=!0,a=a.concat(g))});return a};a.Ta.prototype.rM=function(){var b,c="",d,e,g,f,h;e=this.Ay();
var k,t={};b=[];if(this.Cy()){b=this.By();for(d=0;d<b.length;d++)h=b[d],h=h instanceof a.U?h:new a.U(h.summary,h.detail,h.severity),f=a.U.vl(h.severity),t[f]||(t[f]=[]),t[f].push(h);for(d=e;d>=a.U.Ib.CONFIRMATION;d--)for(b=t[d]||[],e=0;e<b.length;e++)h=b[e],a.i.jb(h,a.U),f=a.U.vl(h.severity),g=this.qP(f),k=h.summary||g,h=h.detail||"",c=c.concat("\x3cdiv class\x3d'oj-message'\x3e").concat("\x3cspan class\x3d'"+this.pP(f)+"' title\x3d'"+g+"' role\x3d'img'\x3e\x3c/span\x3e").concat("\x3cspan class\x3d'oj-message-content'\x3e").concat("\x3cdiv class\x3d'oj-message-summary'\x3e"+
k+"\x3c/div\x3e"),h&&(c=c.concat("\x3cdiv class\x3d'oj-message-detail'\x3e"+h+"\x3c/div\x3e")),c=c.concat("\x3c/div\x3e")}return c};a.Ta.prototype.qM=function(a){var b=[],c,d="";this.Fs()&&(b=this.zy(),b=b.length?b[0]:"",d+=this.yt(a,"oj-form-control-hint-converter",b));if(this.My())for(b=this.lJ(),c=0;c<b.length;c++)d+=this.yt(a,"oj-form-control-hint-validator",b[c]);this.Ly()&&(d+=this.yt(a,"oj-form-control-hint-title",this.kJ()));return d?"\x3cdiv class\x3d'oj-form-control-hints'\x3e"+d+"\x3c/div\x3e":
""};a.Ta.prototype.yt=function(a,b,c){var d,e="oj-form-control-hint";c&&(d=f(a.createElement("div")),d.addClass(e+(" "+b)),d.append(this.PO(a,c)));return d?d.get(0).outerHTML:""};a.Ta.prototype.PO=function(b,c){var d=null;a.fa.KV(c)?d=a.fa.FU(c.substring(6,c.length-7)):(d=f(b.createElement("div")),d.text(c),d=d.get(0));return d};a.Ta.prototype.oP=function(a){return(a=f(a.createElement("hr")))?a.get(0).outerHTML:""};a.Ta.prototype.qP=function(b){var c;switch(b){case a.U.Ib.FATAL:c=a.ca.N("oj-message.fatal");
break;case a.U.Ib.ERROR:c=a.ca.N("oj-message.error");break;case a.U.Ib.WARNING:c=a.ca.N("oj-message.warning");break;case a.U.Ib.INFO:c=a.ca.N("oj-message.info");break;case a.U.Ib.CONFIRMATION:c=a.ca.N("oj-message.confirmation")}return c};a.Ta.prototype.pP=function(b){var c;switch(b){case a.U.Ib.FATAL:c="oj-message-error-icon";break;case a.U.Ib.ERROR:c="oj-message-error-icon";break;case a.U.Ib.WARNING:c="oj-message-warning-icon";break;case a.U.Ib.INFO:c="oj-message-info-icon";break;case a.U.Ib.CONFIRMATION:c=
"oj-message-confirmation-icon"}return a.Ta.RJ+c};a.Ta.prototype.Nk=function(){return this.Jd?this.Jd.is(":oj-popup"):!1};var c={bJ:1,ty:2,vy:3,Gy:4,Hy:5,Iy:6,xJ:7,EJ:8,Oy:9,Py:10,FJ:11},b={ql:!0,xf:c.ty},d={ql:!0,xf:c.vy},e={ql:!0,xf:c.Iy},g={ql:!0,xf:c.Gy},h={ql:!0,xf:c.Hy},k={ql:!0,xf:c.Py};a.Ia("oj.editableValue",f.oj.baseComponent,{widgetEventPrefix:"oj",options:{disabled:void 0,displayOptions:void 0,help:{definition:null,source:null},messagesCustom:void 0,messagesHidden:void 0,messagesShown:void 0,
required:void 0,title:void 0,validators:void 0,value:void 0,optionChange:void 0},getNodeBySubId:function(a){return this._super(a)},isValid:function(){return void 0===this.Qw?!0:this.Qw},refresh:function(){this._super();this.AB(!0)},reset:function(){this.Jp();this.Hn(this.Ff.xJ);this.hw(this.options.value,!0)},showMessages:function(){var b=this.options.messagesHidden,c,d=!1,e,g=[];for(e=0;e<b.length;e++)d=!0,c=b[e],c instanceof a.Ob&&c.rO(),g.push(c.clone());d&&(this.Rt(),this.Pw(g))},validate:function(){return this.ee(this.Tg(),
null,this.kt)},Wi:{wy:1,Hs:2,Jy:3},Ff:c,kt:{Zn:!1,xf:c.Oy},_InitOptions:function(a,b){this._super(a,b);this.Uv=[]},_ComponentCreate:function(){var a=this.element,b=this.Ss(a);this._super();this.options.messagesCustom=this.options.messagesCustom||[];this.options.messagesHidden=[];this.options.messagesShown=0<this.options.messagesCustom.length?this.NM(this.options.messagesCustom):[];"boolean"===typeof this.options.disabled&&a.prop("disabled",this.options.disabled);this.options.placeholder&&(this._SetPlaceholder(this.options.placeholder),
this.du=!0);f.each(["required","title"],function(c,d){d in b&&a.removeAttr(d)})},Rg:function(){this._super();this.eN();this.AB(!1);this.Cq();this.$L();this.US();this.widget().addClass("oj-form-control")},Uy:function(a,b,c){switch(a){case "converter":this.GJ(a);break;case "disabled":this.Vy(a,d);break;case "displayOptions":this.Cq();break;case "help":this.Ef(a,this.options[a]);break;case "messagesCustom":this.pR(b,c);break;case "placeholder":this.RR(c);break;case "readOnly":this.Vy(a,g);break;case "required":this.HJ(a);
break;case "title":this.MT();break;case "translations":this.refresh();break;case "value":this.IJ(a,b,c);break;case "validators":this.ek(a)}},GJ:function(a){var c=!1;this.fL();this.zq()&&(c=!0);c?(this.Kp(),this.yr(b)):this.Ef(a,this.options[a],!0)},Vy:function(a,b){var c=!this.options[a];this.Ef(a,this.options[a]);c&&this.iF(b)},HJ:function(a){this.Ef(a,this.options[a]);this.iF(e)},IJ:function(a,b,c){var d=!1,e;this.hU(b,c);c&&(d=c._oj_originalEvent?!0:!1,e=c._oj_doNotClearMessages||!1);d||(e||this.Jp(null),
this.Hn(this.Ff.FJ));this.Ef(a,this.options[a],!0)},ek:function(){var a=!1;this.Nz();this.zq()&&(a=!0);a&&(this.Kp(),this.yr(k))},Ns:function(){var a=this.options.readOnly||!1;return this.options.disabled||a?!1:!0},_destroy:function(){var a=this.widget();this.Jp(null,!0);this.Ak().tg();f.each(this.Vg,function(){a.removeClass(this.toString())});a.removeClass("oj-form-control");this.element.removeAttr("aria-required");this.Nb&&this.Nb._ojLabel("destroy");return this._super()},Focus:function(){this.Cf().focus();
return!0},_setOption:function(b,c,d){var e,g;e=!1;if("string"===typeof b&&void 0!==c)switch(b){case "messagesCustom":g=this.options.messagesCustom||[];break;case "messagesHidden":e=!0;break;case "messagesShown":e=!0;break;case "value":g=this.options.value}if(e)return a.C.error(b+" option cannot be set"),this;e=this._superApply(arguments);this.Uy(b,g,d);return e},Cf:function(){return this.element},dK:function(){var a=this.RB(this.element);if(null!==a&&0!==a.length)return a;a=this.element.prop("id");
if(void 0!==a&&(a=f("label[for\x3d'"+a+"']"),0!==a.length))return a;a=this.element.closest("[aria-labelledby]");return 0!==a.length&&(a=this.RB(a),null!==a&&0!==a.length)?a:null},hk:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this.Cf()},Dc:function(){this.kc||(this.kc=a.Zc.getConverterInstance(this.options.converter));return this.kc||null},gm:function(){this.TC||(this.TC={});return this.TC},Tg:function(){return this.Cf().val()},fz:function(){if(!this.tm){var b=
[],c=this.options.validators,d,e=!0,g=this.gm(),f=[],h,k;k=Object.keys(g);for(h in k)d=k[h],f.push(g[d]);b=b.concat(f);if(c){f=[];for(k=0;k<c.length;k++)d=c[k],"object"===typeof d?(d.validate&&"function"===typeof d.validate||(e=!1),e||(h=d.type)&&"string"===typeof h&&((g=a.ba.Wf(h))?(d=a.jc.kf({},d.options)||{},d.converter=d.converter||this.Dc(),d.label=d.label||this.Nu(),d=g.createValidator(d)):a.C.error("Unable to locate a validatorFactory for the requested type: "+h)),f.push(d)):a.C.error("Unable to parse the validator provided:"+
d);b=b.concat(f)}this.tm=b}return this.tm||[]},Nz:function(){this.tm&&(this.tm.length=0);this.tm=null;this.Ak().update(this.df(this.ye.Qy))},fL:function(){this.kc=null;this.Ak().update(this.df(this.ye.sy))},lK:function(a,b){this.Uv.push({option:a,previousValue:b})},im:function(){return this.options.required},cp:function(a){var b=this.Tg();this.ee(b,a)},Ef:function(a,b,c){switch(a){case "converter":b=this.options.value;this.hw(b,c);break;case "disabled":this.JE("disabled",this.options.disabled);break;
case "help":a=this.options.help.definition;b=this.options.help.source;c=this.sA(b);this.Nb&&(this.Nb._ojLabel("option","describedById",c),this.Nb._ojLabel("option","help",{definition:a,source:b}));break;case "required":this.JE("required",this.im());this.et(b);this.Nb&&this.Nb._ojLabel("option","required",b);break;case "value":this.hw(b,c)}},et:function(a){var b=this.Cf();a&&b?b.attr("aria-required",a):b.removeAttr("aria-required")},Oz:function(){this.kc=this.wv=null;this.Nz()},hg:function(a){this.Cf().val(a)},
_SetPlaceholder:function(a){this.Cf().attr("placeholder",a)},kL:function(a){this.options.placeholder=a},ee:function(b,c,d){var e=d&&"boolean"===typeof d.Zn?d.Zn:!0;if(void 0===b)return a.C.warn("Attempt to set a value of undefined"),!1;if(e&&b===this.UD)a.C.yo>a.C.Lh&&a.C.info("Validation skipped and value option not updated as submitted value '"+b.toString?b.toString():b+" same as previous.");else if(b=this.Yz(b,c,d),void 0!==b&&this.isValid())return this.rG(b,c,d&&d.xf),!0;return!1},Yz:function(b,
c,d){var e=d&&d.py?d.py:this.Wi.wy,g=d&&d.xf?d.xf:this.Ff.EJ;d=d&&d.ql||!1;if(void 0===b)a.C.warn("Attempt to set a value of undefined");else if(this.Ns()){d||this.Jp(c);this.zF(b);try{return this.VS(b,e,g,c)}catch(f){}}else a.C.yo>a.C.Lh&&a.C.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.")},jt:function(b,c,d,e){a.i.EG(b,"");d=d?{writeback:"shouldWrite"}:{writeback:"shouldNotWrite"};c={option:b,
component:a.Components.Vr(this.element),previousValue:c,value:this.options[b],optionMetadata:d};switch(b){case "messagesShown":case "messagesHidden":case "messagesCustom":this._trigger("optionChange",e||null,c);break;case "value":this._trigger("optionChange",e||null,c)}},Zz:function(b,c){return a.b.Hr(b,c)},_GetDefaultStyleClass:function(){a.i.da();return""},ye:{Ql:1,Ry:2,sy:3,Qy:4,Ny:5},Vg:{disabled:"oj-disabled",required:"oj-required"},$L:function(){var a=this;f.each(this.Uv,function(b,c){a.jt(c.option,
c.previousValue,!0)});this.Uv=null},Jp:function(a,b){b?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this.Rt(a),this.IM(a),this.HM(a))},Kp:function(){var b=this.options.messagesShown,c=b.length,d,e={};this.Rt();for(var g=c-1;0<=g;g--)d=b[g],d instanceof a.Ob&&b.splice(g,1);e.changed=this.options.messagesShown.length!==c?!0:!1;this.rn("messagesShown",this.options.messagesShown,e)},Rt:function(a){var b={};b.changed=0<this.options.messagesHidden.length?
!0:!1;a&&(b._oj_originalEvent=a);this.options.messagesHidden=[];this.ND(this.options.messagesHidden,b)},IM:function(a){var b={};b.changed=0<this.options.messagesShown.length?!0:!1;a&&(b._oj_originalEvent=a);this.options.messagesShown=[];this.Nv(this.options.messagesShown,b)},HM:function(a){var b={},c={};c.changed=0<this.options.messagesCustom.length?!0:!1;b.messagesCustom=[];a&&(c._oj_originalEvent=a);this.option(b,c)},NM:function(b){var c,d=[],e;if(b&&0<b.length)for(e=0;e<b.length;e++)c=b[e],c instanceof
a.U?d.push(c.clone()):(c=new a.U(c.summary,c.detail,c.severity),c=Object.freeze?Object.freeze(c):c,d.push(c));return d},eN:function(){if(this.Nb=this.dK()){var a=this.options.help.definition,b=this.options.help.source,c=this.sA(b);this.Nb._ojLabel({rootAttributes:{"class":this._GetDefaultStyleClass()+"-label"},describedById:c,required:this.options.required,help:{definition:a,source:b}})}},AB:function(a){var b=!1;a?(this.Nb&&this.Nb._ojLabel("refresh"),this.Oz(),this.Cq(),this.zq()&&(b=!0),this.Kp(),
b?this.yr(h):(this.im()&&this.Hn(h.xf),this.Ef("value",this.options.value,!0))):(this.Ef("value",this.options.value),this.Ef("required",this.options.required));this.Ef("disabled",this.options.disabled)},oX:function(){return this.VD},nX:function(){return this.UD},RB:function(a){a=a.attr("aria-labelledby");return void 0!==a?f("label[id\x3d'"+a+"']"):null},sA:function(a){this.element.uniqueId();var b=this.element.prop("id")+"Icons";a&&this.Cf().each(function(){var a=f(this).attr("aria-describedby");
a?f(this).attr("aria-describedby",a+" "+b):f(this).attr("aria-describedby",b)});return b},oq:function(){return this.options.messagesShown.concat(this.options.messagesHidden)},Nu:function(){if(this.Nb)return this.Nb.text()},HC:function(){this.vG||(this.vG=new a.zf(this.isValid(),this.oq()));return this.vG},yq:function(){return!a.U.isValid(this.oq())},zq:function(){return!this.isValid()&&0<this.options.messagesShown.length},oQ:function(){for(var b=this.options.messagesShown,c,d,e=0;e<b.length;e++)c=
b[e],c instanceof a.Ob&&c.pD()&&(d=d||[],d.push(c));return void 0===d?!1:!a.U.isValid(d)},Cq:function(){var a=this.Ak(),b=this._GetMessagingLauncherElement(),c=this.df(this.ye.Ql);this.du||(this.kL(""),this._SetPlaceholder(""));a.oi(b,c)},ND:function(a,b){this.rn("messagesHidden",a,b)},Nv:function(a,b){this.rn("messagesShown",a,b)},pR:function(b,c){var d=this.options.messagesCustom,e=this.options.messagesShown,g,f=[],h;for(h=0;h<e.length;h++)g=e[h],g instanceof a.Ob&&g.pD()&&f.push(g);this.options.messagesShown=
f;for(h=0;h<d.length;h++)this.options.messagesShown.push(d[h]);this.rn("messagesCustom",b,c);this.rn("messagesShown",e,c)},rn:function(a,b,c){var d=!1,e=this.options[a],g;c&&(d=c.changed||!1,g=c._oj_originalEvent||null);this.cU();this.Ak().update(this.df());!d&&this.qR(b,e)||this.jt(a,b,!1,g)},RR:function(a){a=a&&a._oj_messaging_update?!1:!0;this._SetPlaceholder(this.options.placeholder);a?(this.du=!0,this.Cq()):this.du=!1},mT:function(a){this.VD=a},zF:function(a){this.UD=a},MT:function(){this.Ak().update(this.df(this.ye.Ny))},
$T:function(b,c){var d={},e,g;a.i.jb(b,a.U);if("object"===typeof b&&Array.isArray(b))for(d.changed=!0,e=b.length,g=0;g<e;g++)this.options.messagesHidden.push(b[g]);c&&(d._oj_originalEvent=c);this.ND(this.options.messagesHidden,d)},Pw:function(b,c){var d={},e,g;a.i.jb(b,a.U);if("object"===typeof b&&Array.isArray(b))for(d.changed=!0,e=b.length,g=0;g<e;g++)this.options.messagesShown.push(b[g]);c&&(d._oj_originalEvent=c);this.Nv(this.options.messagesShown,d)},rG:function(a,b,c){var d={},e={},g=!1;d.value=
a;b&&(e._oj_originalEvent=b);switch(c){case this.Ff.ty:case this.Ff.vy:case this.Ff.Gy:case this.Ff.Hy:case this.Ff.Iy:case this.Ff.Oy:case this.Ff.Py:g=!0,e._oj_doNotClearMessages=!0}e.shouldWriteback=g;this.option(d,e)},cU:function(){var a=this.oq(),a=a&&0!==a.length;this.Qw=!0;a&&(this.Qw=!this.yq())},hU:function(a,b){var c=this.options.value,d=!1,e=!1,g;b&&(d=b.changed||!1,g=b._oj_originalEvent||null,e=b.shouldWriteback||g?!0:!1);!d&&this.Zz(a,c)||this.jt("value",a,e,g)},tO:function(b){var c=
b,d=this.Dc();d&&"object"===typeof d&&(d.format&&"function"===typeof d.format?c=d.format(b):a.C.yo>a.C.Lh&&a.C.info("converter does not support the format method."));return c},Ak:function(){this.dj||(this.dj=new a.Sa(this));return this.dj},QO:function(a){var b,c=[];b="";var d;this.im()&&(b=this.eC(),b.getHint&&"function"===typeof b.getHint&&(b=b.getHint())&&c.push(b));for(d=0;d<a.length;d++)b=a[d],"object"===typeof b&&b.getHint&&"function"===typeof b.getHint&&(b=b.getHint())&&c.push(b);return c},
eC:function(){var b;b={};var c;null==this.wv&&(b=this.options.translations?this.options.translations.required||{}:{},c={hint:b.hint||null,label:this.Nu(),messageSummary:b.messageSummary||null,messageDetail:b.messageDetail||null},this.wv=(b=a.ba.Wf(a.Rb.VALIDATOR_TYPE_REQUIRED))?b.createValidator(c):null);return this.wv},df:function(a){var b={},c=this.Dc(),d=[];a=a||this.ye.Ry;if(a===this.ye.Ql||a===this.ye.Ry)d=this.oq(),this.HC().update(this.isValid(),d),b.validityState=this.HC();(a===this.ye.Ql||
a===this.ye.sy)&&c&&"object"===typeof c&&c.getHint&&"function"===typeof c.getHint&&(c=c.getHint()||"",b.converterHint=c);if(a===this.ye.Ql||a===this.ye.Qy)c=this.fz(),d=this.QO(c)||[],b.validatorHint=d;if(a===this.ye.Ql||a===this.ye.Ny)b.title=this.options.title||"";return b},qR:function(b,c){var d=-1,e,g=!0,p=f.extend([],b),h=f.extend([],c);if(p===h)return!0;if(null==p||null==h||p.length!==h.length)return!1;f.each(p,function(b,c){c instanceof a.U?e=c:(e=new a.U(c.summary,c.detail,c.severity),e=Object.freeze?
Object.freeze(e):e);d=-1;f.each(h,function(a,b){e.wi(b)&&(d=a)});-1<d?h.splice(d,1):g=!1});return g},dE:function(b){var c=this.Dc(),d=b;c&&"object"===typeof c&&(c.parse&&"function"===typeof c.parse?d=c.parse(b):a.C.yo>a.C.Lh&&a.C.info("converter does not support the parse method."));return d},qt:function(b,c){var d,e,g;b instanceof a.qd||b instanceof a.xe?(d=b.ul(),a.i.jb(d,a.U),g=d.severity,e=d.summary,d=d.detail):(g=a.U.Ib.ERROR,e=a.ca.N("oj-message.error"),d=b.message||a.ca.N("oj-converter.detail"));
c.push({summary:e,detail:d,severity:g})},aw:function(b,c,d){var e={},g=[],f=b.qn||[];e.context=c||0;e.display=d||a.Ob.ak.Cs;0===f.length&&this.qt(b,f);for(c=0;c<f.length;c++)b=f[c],g.push(this.$M(b.summary,b.detail,b.severity,e));return g||null},$M:function(b,c,d,e){b=new a.Ob(b,c,d,e);return b=Object.seal?Object.seal(b):b},hw:function(a,b){var c=a||this.options.value,d;d=this.VD;(b||c!==d)&&this.YT(c)},JE:function(a,b){-1!=Object.keys(this.Vg).indexOf(a)&&this.widget().toggleClass(this.Vg[a],!!b)},
Hn:function(b){if(this.Ns())try{this.uG(this.options.value,this.Wi.Jy)}catch(c){(b=this.aw(c,b,a.Ob.ak.As))&&this.$T(b)}else a.C.yo>a.C.Lh&&a.C.info("Deferred validation skipped as component is readonly or disabled.")},US:function(){this.Hn(this.Ff.bJ);0<this.options.messagesShown.length&&this.Nv([],{changed:!0})},VS:function(a,b,c,d){var e=a;try{b===this.Wi.wy&&(e=this.dE(a)),this.uG(e,b===this.Wi.Jy)}catch(g){throw a=this.aw(g,c),this.Pw(a,d),g;}return e},iF:function(a){var b=!0;this.zq()&&(b=!1);
this.Kp();b?this.im()&&this.Hn(a.xf):this.yr(a)},YT:function(a,b){var c,d;this.mT(a);c=a;try{c=this.tO(a)}catch(e){d=this.aw(e),this.Pw(d,b)}this.hg(c);this.zF(this.Tg())},yr:function(a){var b;b=this.Yz(this.Tg(),null,a);void 0===b||!this.isValid()&&this.oQ()||this.rG(b,null,a.xf)},uG:function(b,c){var d=this.fz(),e,g,f=[];if(this.im()){e=this.eC();try{e.validate(a.fb.trim(b))}catch(h){this.qt(h,f)}}if(!c)for(g=0;g<d.length;g++)if(e=d[g],"object"===typeof e)if(e.validate&&"function"===typeof e.validate)try{e.validate(b)}catch(k){this.qt(k,
f)}else a.C.yo>a.C.Lh&&a.C.info("validator does not support the validate method.");if(0<f.length)throw d=Error(),d.qn=f,d;}});a.Components.ey({editableValue:{displayOptions:a.Components.Mj(function(){return{messages:["notewindow"],converterHint:["placeholder","notewindow"],validatorHint:["notewindow"],title:["notewindow"]}})}});a.Ia("oj._ojLabel",f.oj.baseComponent,{version:"1.0.0",defaultElement:"\x3clabel\x3e",widgetEventPrefix:"oj",options:{describedById:null,help:{definition:null,source:null},
required:null,rootAttributes:void 0},ab:{xL:"tooltipHelp",zL:"tooltipRequired"},widget:function(){return this.Hg},refresh:function(){this._super();this.BE();this.yE()},_create:function(){this._super();this.XN()},XN:function(){var a=this.options.help.source||this.options.required,b=null;this.Hg=this.element.wrap(this.ST()).closest(".oj-component");this.AR();a&&(b=this.Zt());if(this.options.help.definition||this.options.help.source)this.dD(b),this.cA();this.options.required&&b.append(this.ZE())},AR:function(){var a=
this.element.attr("class");this.Px=[];if(a)for(var a=a.split(/\s+/),b=a.length,c=0;c<b;c++){var d=a[c];0<d.indexOf("-label")&&(this.Hg.addClass(d),this.element.removeClass(d),this.Px.push(d))}},Zt:function(){return this.Hg.find(".oj-label-group").prepend("\x3cspan id\x3d'"+this.options.describedById+"'\x3e\x3c/span\x3e").children().first()},ST:function(){var a;this.options.rootAttributes&&(a=this.options.rootAttributes["class"]);return null!==a?"\x3cdiv class\x3d'oj-label oj-component "+a+"'\x3e\x3cdiv class\x3d'oj-label-group'\x3e\x3c/div\x3e\x3c/div\x3e":
"\x3cdiv class\x3d'oj-label oj-component'\x3e\x3cdiv class\x3d'oj-label-group'\x3e\x3c/div\x3e\x3c/div\x3e"},ZE:function(){return"\x3cspan class\x3d'oj-label-required-icon oj-component-icon' title\x3d'"+this.N(this.ab.zL)+"' role\x3d'img'\x3e\x3c/span\x3e"},pQ:function(a,b){if(b){var c;c="\x3ca href\x3d'"+b+"' target\x3d'_blank' class\x3d'oj-label-help-icon-anchor'\x3e\x3cspan class\x3d'oj-label-help-icon oj-component-icon oj-clickable-icon' title\x3d'";if(a)c+=a;else{var d=this.N(this.ab.xL);c+=
d}c+="' role\x3d'img'\x3e\x3c/span\x3e";c+="\x3c/a\x3e"}return c},cA:function(){var a=this.options.help.definition;if(a){this.element.addClass("oj-label-help-def");var b=this.element.attr("title");b?this.element.attr("title",b+" "+a):this.element.attr("title",a)}},SE:function(){this.element.removeClass("oj-label-help-def");this.element.attr("title","")},dD:function(a){var b=this.options.help.source;b&&a.prepend(this.pQ(this.options.help.definition,b))},yE:function(){var a="#"+this.options.describedById;
this.SE();var b=this.Hg.find(".oj-label-help-icon");1===b.length&&b.parent().remove();b=this.options.help.source;a=this.Hg.find(a);null!=b&&0===a.length?a=this.Zt():null==b&&0<a.length&&0===a.children().size()&&a.remove();this.dD(a);this.cA()},BE:function(){var a="#"+this.options.describedById;this.options.required?0===this.Hg.find(".oj-label-required-icon").length&&(a=this.Hg.find(a),0===a.length&&(a=this.Zt()),a.append(this.ZE())):(this.Hg.find(".oj-label-required-icon").remove(),a=this.Hg.find(a),
0<a.length&&0===a.children().size()&&a.remove())},_setOption:function(a,b){this._superApply(arguments);"required"===a&&this.BE();"help"===a&&this.yE()},getNodeBySubId:function(a){var b=this._super(a);b||(a=a.subId,"oj-label-help-icon"===a&&(b=this.widget().find(".oj-label-help-icon")[0]),"oj-label-help-icon-anchor"===a&&(b=this.widget().find(".oj-label-help-icon").parent()[0]),"oj-label-required-icon"===a&&(b=this.widget().find(".oj-label-required-icon")[0]));return b||null},_destroy:function(){this._super();
for(var a=0;a<this.Px.length;a++)this.element.addClass(this.Px[a]);this.SE();this.Hg.replaceWith(this.element)}});a.sd={};o_("EditableValueUtils",a.sd,a);a.sd.dV=function(a,b){var c,d,e={};if(a&&b)switch(b){case "disabled":c=void 0!==a.attr("disabled")?!!a.prop("disabled"):void 0;break;case "pattern":c=a.prop("pattern")||void 0;break;case "placeholder":c=a.prop("placeholder")||void 0;break;case "readonly":c=void 0!==a.attr("readonly")?!!a.prop("readonly"):void 0;break;case "required":c=a.attr("required");
d=a.prop("required");c=void 0!==c?void 0!==d?!!d:!!c:void 0;break;case "title":c=a.prop("title");break;case "value":c=a.val()||void 0;break;default:c=a.attr(b)||void 0}void 0!==c?(e.gH=!0,e.value=c):e.gH=!1;return e};a.sd.Di=function(b,c,d){f.each(b,function(b,e){var g=e.attribute,f=e.option||g,h=e.coerceDomValue,l=e.validateOption,k=d.element,y=d.options[f];void 0===c[f]&&(y=d.options[f],g=a.sd.dV(k,g),g.gH?(g=g.value,h&&("boolean"===typeof h?g=a.sd.HU(f,g):"function"===typeof h&&(g=h.call(d,g))),
d.options[f]=g,d.lK(f,y)):void 0===y&&(d.options[f]=e.defaultOptionValue));l&&("boolean"===typeof l?a.sd.LW(f,d.options[f]):"function"===typeof l&&l.call(d))})};a.sd.LW=function(a,b){var c=!1;switch(a){case "required":null!==b&&"boolean"!==typeof b&&(c=!0);break;case "readOnly":case "disabled":null!==b&&"boolean"!==typeof b&&(c=!0)}if(c)throw"Option '"+a+" 'has invalid value set: "+b;};a.sd.HU=function(a,b){var c=b;switch(a){case "required":c=b?!0:!1}return c}});
//# sourceMappingURL=oj-modular.map