/*
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
*/
define("ojs/ojcore jquery knockout jqueryui ojs/ojknockout ojs/ojmessaging".split(" "),function(a,f,c){a.Kd=function(){this.Init()};o_("InvalidComponentTracker",a.Kd,a);a.b.qa(a.Kd,a.b,"oj.InvalidComponentTracker");a.Kd.prototype.Init=function(){a.Kd.t.Init.call(this);this.rr=[];this.wj=[];this.hn=[];this.invalidHidden=this.invalidShown=!1};a.Kd.prototype.cH=function(){var a=null,c=this,e=this.ur;this.invalidShown&&(a=this.Iu());setTimeout(function(){(a=e===c.ur?a||c.Iu():c.Iu())&&a.call(a,"Focus")},
1);return a?!0:!1};a.b.g("InvalidComponentTracker.prototype.focusOnFirstInvalid",{cH:a.Kd.prototype.cH});a.Kd.prototype.showMessages=function(){var a,c,e;if(this.invalidHidden)for(c=this.hn.length,e=0;e<c;e++)this.hn[e]&&(a=this.rr[e].call(a,"showMessages"))};a.b.g("InvalidComponentTracker.prototype.showMessages",{showMessages:a.Kd.prototype.showMessages});a.Kd.prototype.Iu=function(){for(var a,c=0,e=this.wj.length,c=0;c<e;c++)if(a=this.wj[c])return this.rr[c];return null};a.Kd.prototype.Qn=function(b,
c,e){var g=b.call(b,"isValid"),h=-1;f.each(this.rr,function(a,c){0>h&&c===b&&(h=a)});if(e){0>h&&(h=this.rr.push(b)-1);this.wr(this.wj,h,!1);this.wr(this.hn,h,!1);if(!g)switch(c){case "messagesShown":a.Kd.yq(e)&&this.wr(this.wj,h||0,!0);break;case "messagesHidden":a.Kd.yq(e)&&this.wr(this.hn,h||0,!0)}this.invalidShown=0<=this.wj.indexOf(!0);this.invalidHidden=0<=this.hn.indexOf(!0);void 0===this.ur&&(this.ur=0);this.ur++}return!0};a.Kd.prototype.wr=function(a,c,e){0<=c?a.splice(c,1,e):a.push(e)};a.Kd.yq=
function(b){return!a.U.isValid(b)};a.ac=function(){};a.ac.Ty="invalidComponentTracker";a.ac.ez="ojoptionchange";a.ac.Ys="messagesShown";a.ac.Xs="messagesHidden";a.ac.RL=function(b,c,e,g){g=g.call();g[b]&&a.ac.uS(b,g,c,e);return{}};a.ac.mG=function(b,d){var e=b.data.IW,g=c.utils.unwrapObservable(e),f=b.data.ta,k=d.option,l=d.value;(k===a.ac.Ys||k===a.ac.Xs)&&c.isWriteableObservable(e)&&g.Qn.call(g,f,k,l)&&e.valueHasMutated()};a.ac.mM=function(b){(b=f(b))&&b.off(a.ac.ez,a.ac.mG)};a.ac.uS=function(b,
d,e,g){b=d[b];var h,k;d=c.utils.unwrapObservable(b);e=f(e);if(c.isObservable(b))null==d&&(d=new a.Kd,b(d));else throw Error("Binding attribute "+a.ac.Ty+" should be bound to a ko observable.");null!==d&&(c.isWriteableObservable(b)&&(h=g.call(g,"option",a.ac.Ys),k=g.call(g,"option",a.ac.Xs),d.Qn.call(d,g,a.ac.Ys,h),d.Qn.call(d,g,a.ac.Xs,k),b.valueHasMutated()),g={IW:b,ta:g},e.on(a.ac.ez,g,a.ac.mG))};a.ia.xh().Hh({"for":"editableValue",attributes:[a.ac.Ty],afterCreate:a.ac.RL,beforeDestroy:a.ac.mM})});
//# sourceMappingURL=oj-modular.map