/*
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
*/
define("ojs/ojcore jquery ojs/ojeditablevalue ojs/ojinputtext ojs/ojvalidation ojs/ojpopup ojs/ojbutton".split(" "),function(a,f){function c(a,b){var c=a.filter("span");b?c.addClass("oj-disabled").removeClass("oj-enabled oj-default"):c.removeClass("oj-disabled").addClass("oj-enabled oj-default")}function b(a,b){b.setHours(a.getHours());b.setMinutes(a.getMinutes());b.setSeconds(a.getSeconds());b.setMilliseconds(a.getMilliseconds());return b}function d(a){return a.delegate(".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon.oj-component-icon, .oj-datepicker-calendar td a",
"mouseout",function(){f(this).removeClass("oj-hover")}).delegate(".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon.oj-component-icon, .oj-datepicker-calendar td a","mouseover",function(){f(this).addClass("oj-hover")}).delegate(".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon.oj-component-icon, .oj-datepicker-calendar td a",
"focus",function(){f(this).addClass("oj-focus")}).delegate(".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon.oj-component-icon, .oj-datepicker-calendar td a","blur",function(){f(this).removeClass("oj-focus")})}var e=a.ba.ri(a.Yf.CONVERTER_TYPE_DATETIME).createConverter({year:"numeric"});a.Ia("oj.ojInputDate",f.oj.inputBase,{version:"1.0.0",widgetEventPrefix:"oj",_CLASS_NAMES:"oj-inputdatetime-input",
_WIDGET_CLASS_NAMES:"oj-inputdatetime-date-only oj-component oj-inputdatetime",_INPUT_HELPER_KEY:"inputHelp",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],it:"oj-inputdatetime-input-trigger",AL:"oj-inputdatetime-calendar-icon",cz:"oj-datepicker-current-day",Os:"oj-datepicker-days-cell-over",Xz:"oj-datepicker-unselectable",dz:"oj-datepicker-desc",Ls:"oj-datepicker-calendar",CK:"oj-datepicker-div",hK:"oj-datepicker-inline",jK:" oj-inputdatetime-input-container",options:{datePicker:{footerLayout:"",
calculateWeek:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},changeMonth:"select",changeYear:"select",currentMonthPos:0,daysOutsideMonth:"hidden",numberOfMonths:1,showOn:"image",stepMonths:"numberOfMonths",stepBigMonths:12,weekDisplay:"none",yearRange:"c-10:c+10"},converter:a.ba.ri(a.Yf.CONVERTER_TYPE_DATETIME).createConverter({day:"2-digit",month:"2-digit",year:"2-digit"}),max:void 0,
min:void 0,dayFormatter:null},_InitOptions:function(b,c){function d(a){var b=null;try{b=Date.parse(a),isNaN(b)||(b=new Date(b))}catch(c){}return b}var e=[{attribute:"disabled",defaultOptionValue:!1,validateOption:!0},{attribute:"title",defaultOptionValue:""},{attribute:"placeholder",defaultOptionValue:""},{attribute:"value",defaultOptionValue:null,coerceDomValue:d},{attribute:"required",defaultOptionValue:!1,coerceDomValue:!0,validateOption:!0},{attribute:"min",defaultOptionValue:null,coerceDomValue:d},
{attribute:"max",defaultOptionValue:null,coerceDomValue:d}];this._super(b,c);a.sd.Di(e,c,this)},dp:function(){this.gf=null;this.vv=!1;this.nn=4;this.Th=this.cf=this.gh=this.bf=this.Gf=0;this.Km={};var a=this.element[0].nodeName.toLowerCase();this.zd="div"===a||"span"===a;this.xc=d(f("\x3cdiv id\x3d'"+this.Mh(this.CK)+"' role\x3d'region' aria-describedby\x3d'"+this.Mh(this.dz)+"' class\x3d'oj-datepicker-content'\x3e\x3c/div\x3e"));f("body").append(this.xc);if(this.zd)this._CLASS_NAMES="";else{this._WIDGET_CLASS_NAMES+=
this.jK;var b=this;this.Zq=this.xc.ojPopup({initialFocus:"none",rootAttributes:{"class":"datetimepicker-dropdown"},open:function(){b.xc.find(".oj-datepicker-calendar").focus()}})}},_ComponentCreate:function(){this.dp();var a=this._super();this.hr(this.Qm());this.zd?(this.element.append(this.xc),this.element.addClass(this.hK),this.xc.css("display","block")):this.st();return a},Rg:function(){var a=this._superApply(arguments);this.options.disabled&&this.wB(!0);return a},_setOption:function(b,c,d){var e=
null,m={},m={};if("value"===b)return c||(c=null),e=this._super(b,c,d),this.hr(c),this.eh()&&this.mi(),e;"datePicker"===b&&(c=f.widget.extend({},this.options[b],c));e=this._super(b,c,d);"disabled"===b?(c&&this.hide(),this.wB(c)):"max"===b||"min"===b?(m={min:this.options.min,max:this.options.max,converter:this.Dc()},this.Km[a.Rb.VALIDATOR_TYPE_DATETIMERANGE]=a.ba.Wf(a.Rb.VALIDATOR_TYPE_DATETIMERANGE).createValidator(m),this.ek()):"readOnly"===b&&c?this.hide():"dayFormatter"===b&&(m={dayFormatter:this.options.dayFormatter,
converter:this.Dc()},this.Km[a.Rb.VALIDATOR_TYPE_DATERESTRICTION]=a.ba.Wf(a.Rb.VALIDATOR_TYPE_DATERESTRICTION).createValidator(m),this.ek());"datePicker"===b&&"currentMonthPos"in c&&this.hr(this.options.value);m={max:!0,min:!0,dayFormatter:!0};d={footerLayout:!0,changeMonth:!0,changeYear:!0,currentMonthPos:!0,daysOutsideMonth:!0,numberOfMonths:!0,weekDisplay:!0,yearRange:!0};if(this.eh()){m=b in m;if(!m&&"datePicker"===b)for(var n in d)if(n in c){m=!0;break}m&&this.mi()}return e},_destroy:function(){var a=
this._super();this.element.off("focus");this.gf&&this.gf.remove();this.zd&&(this.element.removeProp("disabled"),this.element.removeProp("readonly"));this.xc.remove();return a},eh:function(){return this.zd||this.Zq.ojPopup("isOpen")},st:function(){var a=this.options.datePicker.showOn,b=f("\x3cspan\x3e").addClass(this.it);if("focus"===a)this.element.on("focus",f.proxy(this.show,this));a=f("\x3cspan/\x3e").addClass(this.AL+" oj-clickable-icon oj-component-icon");b.append(a);var c=this;a.on("click",function(){c.eh()?
c.hide():c.show();return!1}).on("mouseenter",function(){f(this).addClass("oj-hover")}).on("mousedown",function(){f(this).addClass("oj-active")}).on("mouseleave",function(){f(this).removeClass("oj-hover oj-active")});this.gf=b;this.element.after(b)},RN:function(a){var b;b=!1;var c=f.ui.keyCode,d=this.ep();if(this.eh())switch(a.keyCode){case 84:a.altKey&&a.ctrlKey&&(this.xc.find(".oj-datepicker-current").focus(),b=!0);break;case c.TAB:this.hide();break;case c.ENTER:return b=f("td."+this.Os+":not(."+
this.cz+")",this.xc),b[0]&&this.mF(this.bf,this.cf,b[0],a),a.preventDefault(),a.stopPropagation(),!1;case c.ESCAPE:this.hide();this.element.focus();b=!0;break;case c.PAGE_UP:a.ctrlKey&&a.altKey?this.yd(-this.options.datePicker.stepBigMonths,"M",!0):a.altKey?this.yd(-1,"Y",!0):this.yd(-this.Zm(),"M",!0);b=!0;break;case c.PAGE_DOWN:a.ctrlKey&&a.altKey?this.yd(+this.options.datePicker.stepBigMonths,"M",!0):a.altKey?this.yd(1,"Y",!0):this.yd(+this.Zm(),"M",!0);b=!0;break;case c.END:this.Gf=this.lq(this.cf,
this.bf);this.mi(!0);b=!0;break;case c.HOME:this.Gf=1;this.mi(!0);b=!0;break;case c.LEFT:this.yd(d?1:-1,"D",!0);a.originalEvent.altKey&&this.yd(a.ctrlKey?-this.options.datePicker.stepBigMonths:-this.Zm(),"M",!0);b=!0;break;case c.UP:this.yd(-7,"D",!0);b=!0;break;case c.RIGHT:this.yd(d?-1:1,"D",!0);a.originalEvent.altKey&&this.yd(a.ctrlKey?+this.options.datePicker.stepBigMonths:+this.Zm(),"M",!0);b=!0;break;case c.DOWN:this.yd(7,"D",!0),b=!0}else a.keyCode===c.HOME&&a.ctrlKey&&(this.show(),b=!0);b&&
(a.preventDefault(),a.stopPropagation())},mi:function(a){this.nn=4;var b=this.uO();this.xc.empty().append(b.html);var c=f("button",this.xc);0<c.length&&f.each(c,function(a,b){f(b).ojButton()});this.eM();this.xc.find("."+this.Os+" a").mouseover();b.XG&&this.xc.find(".oj-datepicker-calendar").attr("aria-activedescendant",b.XG);b=this.Uu();c=b[1];this.xc.removeClass("oj-datepicker-multi-2 oj-datepicker-multi-3 oj-datepicker-multi-4").width("");1<c&&this.xc.addClass("oj-datepicker-multi-"+c).css("width",
17*c+"em");this.xc[(1!==b[0]||1!==b[1]?"add":"remove")+"Class"]("oj-datepicker-multi");this.eh()&&this.element.is(":visible")&&!this.element.is(":disabled")&&(a||this.zd?(a=this.xc.find(".oj-datepicker-calendar"),a[0]!==document.activeElement&&a.focus()):this.element[0]!==document.activeElement&&this.element.focus())},yd:function(a,b,c){this.options.disabled||(this.hA(a+("M"===b?this.options.datePicker.currentMonthPos:0),b),this.mi(c))},yP:function(){var a=new Date;this.Gf=a.getDate();this.gh=this.bf=
a.getMonth();this.Th=this.cf=a.getFullYear();this.yd()},nF:function(a,b){var c=parseInt(a.options[a.selectedIndex].value,10);"M"===b?this.bf=this.gh=c:this.cf=this.Th=c;f("#"+this.Mh(this.Ls)).html(this.options.monthWide[this.gh]+" "+e.format(new Date(this.Th,this.gh,1)));this.yd()},mF:function(a,c,d,e){f(d).hasClass(this.Xz)||this.options.disabled||(this.Gf=f("a",d).html(),this.bf=a,this.cf=c,(a=this.options.value)?(c=new Date(this.cf,this.bf,this.Gf),b(a,c),a=c):a=new Date(this.cf,this.bf,this.Gf),
this.hg(this.Dc().format(a)),this.ee(a,e,{py:this.Wi.Hs}),this.hide())},hu:function(a,b){var c;null==a||""===a?c=b:"number"===typeof a?isNaN(a)?c=b:(c=this.iv(),c.setDate(c.getDate()+a)):c=new Date(a.getTime());return c=c||b},hr:function(a){a=this.hu(a,this.iv());this.Gf=a.getDate();this.gh=this.bf=a.getMonth();this.Th=this.cf=a.getFullYear();this.hA()},hX:function(){return this.cf&&""!==this.element.val()?new Date(this.cf,this.bf,this.Gf):null},Zm:function(){var a=this.options.datePicker.stepMonths;
return f.isNumeric(a)?a:this.options.datePicker.numberOfMonths},eM:function(){var a=this.Zm(),b=this;this.xc.find("[data-handler]").map(function(){f(this).bind(this.getAttribute("data-event"),{prev:function(c){b.yd(-a,"M",!0);c.preventDefault()},next:function(c){b.yd(+a,"M",!0);c.preventDefault()},today:function(a){if("keyup"===a.type&&13===a.keyCode||"click"===a.type)b.yP(),a.preventDefault(),a.stopPropagation()},selectDay:function(a){b.mF(+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this,a);return!1},selectMonth:function(){b.nF(this,"M");return!1},selectYear:function(){b.nF(this,"Y");return!1},calendarKey:function(a){b.RN(a)}}[this.getAttribute("data-handler")])})},uO:function(){var a,b,c,d,e,f,q=this.options.dayWide,r=this.options.dayNarrow,p=this.options.monthWide,s=this.options.monthAbbreviated,u=this.options.firstDayOfWeek,t,w,y,v,D,A,H,I="",z,K,x,B,P,J,E,F,N=new Date,N=new Date(N.getFullYear(),N.getMonth(),N.getDate()),O=this.ep();f=this.options.datePicker.footerLayout;
var G=this.Uu(),C=this.options.datePicker.currentMonthPos,S=this.options.dayFormatter;F=null;var Y=1!==G[0]||1!==G[1],W=this.Dk("min"),T=this.Dk("max"),C=this.gh-C,Q=this.Th,da=new Date(this.cf,this.bf,this.Gf),R=new Date(this.Qm()),L=R.getDate(),aa=R.getMonth(),ea=R.getFullYear(),U=this.options.disabled,ba=this.N("weekText");R.setHours(0);R.setMinutes(0);R.setSeconds(0);R.setMilliseconds(0);0>C&&(C+=12,Q--);if(T)for(a=new Date(T.getFullYear(),T.getMonth()-G[0]*G[1]+1,T.getDate()),a=W&&a<W?W:a;new Date(Q,
C,1)>a;)C--,0>C&&(C=11,Q--);this.gh=C;this.Th=Q;a=this.N("prevText");a=this.FA(-1,Q,C)&&!U?"\x3ca href\x3d'#' class\x3d'oj-datepicker-prev-icon oj-enabled oj-default oj-component-icon oj-clickable-icon' data-handler\x3d'prev' data-event\x3d'click' title\x3d'"+a+"'\x3e\x3c/a\x3e":"\x3ca class\x3d'oj-datepicker-prev-icon oj-disabled oj-component-icon oj-clickable-icon' title\x3d'"+a+"'\x3e\x3c/a\x3e";b=this.N("nextText");b=this.FA(1,Q,C)&&!U?"\x3ca href\x3d'#' class\x3d'oj-datepicker-next-icon oj-enabled oj-default oj-component-icon oj-clickable-icon' data-handler\x3d'next' data-event\x3d'click' title\x3d'"+
b+"'\x3e\x3c/a\x3e":"\x3ca class\x3d'oj-datepicker-next-icon oj-disabled oj-component-icon oj-clickable-icon' title\x3d'"+b+"'\x3e\x3c/a\x3e";c=this.N("currentText");e="";d="\x3cbutton type\x3d'button' class\x3d'oj-datepicker-current oj-priority-secondary' data-handler\x3d'today' data-event\x3d'click keyup'\x3e"+c+"\x3c/button\x3e";if(1<f.length){c=0;f=[{index:f.indexOf("today"),content:this.mD(N)?d:""}];for(f.sort(function(a,b){return a.index-b.index});c<f.length&&0>f[c].index;)c++;for(;c<f.length;)e+=
f[c++].content;0<e.length&&(e="\x3cdiv class\x3d'oj-datepicker-buttonpane'\x3e"+e+"\x3c/div\x3e")}f=this.options.datePicker.weekDisplay;c=this.options.datePicker.daysOutsideMonth;d="";t="all";for(w=0;w<G[0];w++){y="";this.nn=4;for(v=0;v<G[1];v++){t="all";z="";if(Y){z+="\x3cdiv class\x3d'oj-datepicker-group";if(1<G[1])switch(v){case 0:z+=" oj-datepicker-group-first";t=O?"right":"left";break;case G[1]-1:z+=" oj-datepicker-group-last";t=O?"left":"right";break;default:z+=" oj-datepicker-group-middle",
t=""}z+="'\x3e"}z+="\x3cdiv class\x3d'oj-datepicker-header"+(U?" oj-disabled ":" oj-enabled oj-default ")+"'\x3e"+(/all|left/.test(t)&&0===w?O?b:a:"")+(/all|right/.test(t)&&0===w?O?a:b:"")+this.vO(C,Q,W,T,0<w||0<v,p,s)+"\x3c/div\x3e\x3ctable class\x3d'oj-datepicker-calendar"+(U?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex\x3d-1 data-handler\x3d'calendarKey' data-event\x3d'keydown' aria-readonly\x3d'true' role\x3d'grid' aria-labelledby\x3d'"+this.Mh(this.Ls)+"'\x3e\x3cthead role\x3d'presentation'\x3e\x3ctr role\x3d'row'\x3e";
K="number"===f?"\x3cth class\x3d'oj-datepicker-week-col'\x3e"+this.N("weekHeader")+"\x3c/th\x3e":"";for(t=0;7>t;t++)x=(t+parseInt(u,10))%7,K+="\x3cth role\x3d'columnheader' aria-label\x3d'"+q[x]+"'"+(5<=(t+u+6)%7?" class\x3d'oj-datepicker-week-end'":"")+"\x3e\x3cspan title\x3d'"+q[x]+"'\x3e"+r[x]+"\x3c/span\x3e\x3c/th\x3e";z+=K+"\x3c/tr\x3e\x3c/thead\x3e\x3ctbody role\x3d'presentation'\x3e";K=this.lq(Q,C);Q===ea&&C===aa&&(L=Math.min(L,K));t=(this.LO(Q,C)-u+7)%7;K=Math.ceil((t+K)/7);this.nn=K=Y?this.nn>
K?this.nn:K:K;x=new Date(Q,C,1-t);for(B=0;B<K;B++){z+="\x3ctr role\x3d'row'\x3e";t=this.options.datePicker.calculateWeek(x);P="none"===f?"":"\x3ctd class\x3d'oj-datepicker-week-col' role\x3d'rowheader' aria-label\x3d'"+ba+" "+t+"'\x3e"+t+"\x3c/td\x3e";for(t=0;7>t;t++){E=x.getMonth()!==C;D=x.getTime()===R.getTime();A="oj-dp-"+B+"-"+t;(H=x.getTime()===da.getTime()&&C===this.bf)&&(I=A);J=[!0,""];F=x.getFullYear();var X=x.getMonth(),ca=x.getDate();S&&(F=S({fullYear:F,month:X+1,date:ca}))&&(J=[!F.disabled,
F.className||""],F.tooltip&&J.push(F.tooltip));X=x.getTime()===R.getTime();F=E&&"selectable"!==c||!J[0]||W&&x<W||T&&x>T;P+="\x3ctd role\x3d'gridcell' aria-disabled\x3d'"+!!F+"' aria-selected\x3d'"+D+"' id\x3d'"+A+"' class\x3d'"+(5<=(t+u+6)%7?" oj-datepicker-week-end":"")+(E?" oj-datepicker-other-month":"")+(H?" "+this.Os:"")+(F||U?" "+this.Xz+" oj-disabled":" oj-enabled ")+(E&&"hidden"===c?"":" "+J[1]+(D?" "+this.cz:"")+(x.getTime()===N.getTime()?" oj-datepicker-today":""))+"'"+(E&&"hidden"===c||
!J[2]?"":" title\x3d'"+J[2].replace(/'/g,"\x26#39;")+"'")+(F?"":" data-handler\x3d'selectDay' data-event\x3d'click' data-month\x3d'"+x.getMonth()+"' data-year\x3d'"+x.getFullYear()+"'")+"\x3e"+(E&&"hidden"===c?"\x26#xa0;":F||U?"\x3cspan class\x3d'oj-disabled'\x3e"+x.getDate()+"\x3c/span\x3e":"\x3ca class\x3d'oj-enabled"+(X?" oj-selected":"")+(E?" oj-priority-secondary":"")+"' "+(X||H?"":"tabindex\x3d'-1' ")+" href\x3d'#'\x3e"+x.getDate()+"\x3c/a\x3e")+"\x3c/td\x3e";x.setDate(x.getDate()+1)}z+=P+"\x3c/tr\x3e"}C++;
11<C&&(C=0,Q++);z+="\x3c/tbody\x3e\x3c/table\x3e"+(Y?"\x3c/div\x3e"+(0<G[0]&&v===G[1]-1?"\x3cdiv class\x3d'oj-datepicker-row-break'\x3e\x3c/div\x3e":""):"");y+=z}d+=y}return{html:d+e,XG:I}},vO:function(b,c,d,f,m,n,q){var r,p,s,u,t=this.options.datePicker.changeMonth,w=this.options.datePicker.changeYear,y=a.Da.aI()?"before":"after",v="\x3cdiv class\x3d'oj-datepicker-title' role\x3d'header'\x3e",D="",A=this.options.disabled;if(m||"none"===t)D+="\x3cspan class\x3d'oj-datepicker-month'\x3e"+n[b]+"\x3c/span\x3e";
else{r=d&&d.getFullYear()===c;p=f&&f.getFullYear()===c;D+="\x3cselect tabindex\x3d'-1' class\x3d'oj-datepicker-month "+(A?"oj-disabled' disabled":"oj-enabled'")+" data-handler\x3d'selectMonth' data-event\x3d'change' role\x3d'listbox'\x3e";for(s=0;12>s;s++)(!r||s>=d.getMonth())&&(!p||s<=f.getMonth())&&(D+="\x3coption role\x3d'option' value\x3d'"+s+"' aria-selected\x3d'"+(s===b?"true' selected\x3d'selected'":"false'")+"\x3e"+q[s]+"\x3c/option\x3e");D+="\x3c/select\x3e"}"before"===y&&(v+=D+(m||"select"!==
t||"select"!==w?"\x26#xa0;":""));if(!this.Jh)if(this.Jh="",m||"none"===w)v+="\x3cspan class\x3d'oj-datepicker-year'\x3e"+e.format(new Date(c,b,1))+"\x3c/span\x3e";else{r=this.options.datePicker.yearRange.split(":");u=(new Date).getFullYear();p=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?u+parseInt(a,10):parseInt(a,10);return isNaN(a)?u:a};q=p(r[0]);r=Math.max(q,p(r[1]||""));q=d?Math.max(q,d.getFullYear()):q;r=f?Math.min(r,f.getFullYear()):r;for(this.Jh+="\x3cselect tabindex\x3d'-1' class\x3d'oj-datepicker-year "+
(A?"oj-disabled' disabled":"oj-enabled'")+" data-handler\x3d'selectYear' data-event\x3d'change' role\x3d'listbox'\x3e";q<=r;q++)this.Jh+="\x3coption role\x3d'option' value\x3d'"+q+"' aria-selected\x3d'"+(q===c?"true' selected\x3d'selected'":"false'")+"\x3e"+e.format(new Date(q,b,1))+"\x3c/option\x3e";this.Jh+="\x3c/select\x3e";v+=this.Jh;this.Jh=null}"after"===y&&(v+=(m||"select"!==t||"select"!==w?"\x26#xa0;":"")+D);v+="\x3cspan class\x3d'oj-helper-hidden-accessible' id\x3d'"+this.Mh(this.Ls)+"'\x3e"+
n[b]+" "+e.format(new Date(c,b,1))+"\x3c/span\x3e";v+="\x3cspan class\x3d'oj-helper-hidden-accessible' id\x3d'"+this.Mh(this.dz)+"'\x3e"+this.N("datePicker")+"\x3c/span\x3e";return v+"\x3c/div\x3e"},hA:function(a,b){var c=this.Th+("Y"===b?a:0),d=this.gh+("M"===b?a:0),e=Math.min(this.Gf,this.lq(c,d))+("D"===b?a:0),c=new Date(c,d,e);this.Gf=c.getDate();this.gh=this.bf=c.getMonth();this.Th=this.cf=c.getFullYear()},Uu:function(){var a=this.options.datePicker.numberOfMonths,a="string"===typeof a?parseInt(a,
10):a;return null==a?[1,1]:"number"===typeof a?[1,a]:a},Dk:function(a){return this.hu(this.options[a],null)},lq:function(a,b){return 32-(new Date(a,b,32)).getDate()},LO:function(a,b){return(new Date(a,b,1)).getDay()},FA:function(a,b,c){var d=this.Uu();b=new Date(b,c+(0>a?a:d[0]*d[1]),1);0>a&&b.setDate(this.lq(b.getFullYear(),b.getMonth()));return this.mD(b)},mD:function(a){var b,c,d=this.Dk("min"),e=this.Dk("max"),f=null,q=null;if(b=this.options.datePicker.yearRange)b=b.split(":"),c=(new Date).getFullYear(),
f=parseInt(b[0],10),q=parseInt(b[1],10),b[0].match(/[+\-].*/)&&(f+=c),b[1].match(/[+\-].*/)&&(q+=c);return(!d||a.getTime()>=d.getTime())&&(!e||a.getTime()<=e.getTime())&&(!f||a.getFullYear()>=f)&&(!q||a.getFullYear()<=q)},fX:function(a){function b(a){return{xY:1,cY:2,wY:3}[a]||a}return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},wB:function(a){this.gf&&c(this.gf.children(),a);this.zd&&this.mi()},Is:function(){this.zd||this._superApply(arguments)},Tv:function(a){this.zd||
this._superApply(arguments)},Wq:function(a){if(!this.zd){this._superApply(arguments);var b=f.ui.keyCode,c=!1;if(this.eh())switch(a.keyCode){case b.TAB:this.hide();break;case b.ESCAPE:this.hide();c=!0;break;case b.UP:case b.DOWN:this.xc.find(".oj-datepicker-calendar").focus(),c=!0}else switch(a.keyCode){case b.UP:case b.DOWN:this.show(),c=!0}if(c)return a.preventDefault(),a.stopPropagation(),!1}},hg:function(a){this.zd||this._superApply(arguments);this.hr(this.Qm());this.eh()&&this.mi()},Dc:function(){return this.options.converter?
this._superApply(arguments):f.oj.ojInputDate.prototype.options.converter},hk:function(){return this.options.value||""},_GetDefaultStyleClass:function(){return"oj-inputdate"},gm:function(){var b=this._superApply(arguments),c=this.Dk("min"),d=this.Dk("max"),e={},e={};if(null!=c||null!=d)e={min:this.options.min,max:this.options.max,converter:this.Dc()},this.Km[a.Rb.VALIDATOR_TYPE_DATETIMERANGE]=a.ba.Wf(a.Rb.VALIDATOR_TYPE_DATETIMERANGE).createValidator(e);null!=this.options.dayFormatter&&(e={dayFormatter:this.options.dayFormatter,
converter:this.Dc()},this.Km[a.Rb.VALIDATOR_TYPE_DATERESTRICTION]=a.ba.Wf(a.Rb.VALIDATOR_TYPE_DATERESTRICTION).createValidator(e));return f.extend(this.Km,b)},iv:function(){var a=new Date;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},Qm:function(){return this.hu(this.options.value,this.iv())},getNodeBySubId:function(a){var b=null,c=a.subId,d=this.xc;if(c)switch(c){case "oj-datepicker-content":b=d;break;case "oj-inputdatetime-calendar-icon":b=f(".oj-inputdatetime-calendar-icon",
this.gf);break;case "oj-datepicker-prev-icon":b=f(".oj-datepicker-prev-icon",d);break;case "oj-datepicker-next-icon":b=f(".oj-datepicker-next-icon",d);break;case "oj-datepicker-month":b=f(".oj-datepicker-month",d);break;case "oj-datepicker-year":b=f(".oj-datepicker-year",d);break;case "oj-datepicker-current":b=f(".oj-datepicker-current",d);break;default:b=null}return b||this._superApply(arguments)},hide:function(){this.eh()&&!this.zd&&(this.Zq.ojPopup("close"),"focus"===this.options.datePicker.showOn&&
(this.vv=!0),this.element.focus());return this},refresh:function(){return this._superApply(arguments)||this},show:function(){if(!this.eh()&&!this.options.disabled)if(this.vv)this.vv=!1;else{var b=this.ep();this.xc.empty();this.mi();var c=this.widget(),c=c.is("[id]")?c.attr("id"):c.uniqueId().attr("id");this.Zq.ojPopup("widget").attr(a.fa.Pg,c);this.Zq.ojPopup("open",this.element,{my:b?"right top":"left top",at:b?"right bottom":"left bottom",collision:"fit"});return this}}});a.Components.ey({ojInputDate:{firstDayOfWeek:a.Components.Mj(function(){return a.Da.sH()}),
dayWide:a.Components.Mj(function(){return a.Da.px("wide")}),dayNarrow:a.Components.Mj(function(){return a.Da.px("narrow")}),monthWide:a.Components.Mj(function(){return a.Da.Rr("wide")}),monthAbbreviated:a.Components.Mj(function(){return a.Da.Rr("abbreviated")})}});a.Ia("oj.ojInputTime",f.oj.inputBase,{version:"1.0.0",widgetEventPrefix:"oj",_CLASS_NAMES:"oj-inputdatetime-input",_WIDGET_CLASS_NAMES:"oj-inputdatetime-time-only oj-component oj-inputdatetime oj-inputdatetime-input-container",_INPUT_HELPER_KEY:"inputHelp",
_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],pL:"ojInputTime",it:"oj-inputdatetime-input-trigger",BL:"oj-inputdatetime-time-icon",options:{converter:a.ba.ri(a.Yf.CONVERTER_TYPE_DATETIME).createConverter({hour:"2-digit",hour12:!0,minute:"2-digit"}),max:void 0,min:void 0,datePickerComp:null,timePicker:{timeIncrement:"00:30:00:00"}},_InitOptions:function(b,c){function d(a){var b=null;try{b=Date.parse(a),isNaN(b)||(b=new Date(b))}catch(c){}return b}var e=[{attribute:"disabled",defaultOptionValue:!1,
validateOption:!0},{attribute:"title",defaultOptionValue:""},{attribute:"placeholder",defaultOptionValue:""},{attribute:"value",defaultOptionValue:null,coerceDomValue:d},{attribute:"required",defaultOptionValue:!1,coerceDomValue:!0,validateOption:!0},{attribute:"min",defaultOptionValue:null,coerceDomValue:d},{attribute:"max",defaultOptionValue:null,coerceDomValue:d}];this._super(b,c);a.sd.Di(e,c,this)},dp:function(){this.Gw={};this.Jm=this.options.datePickerComp;this.Rd=f("\x3cdiv id\x3d'"+this.Mh(this.pL)+
"' class\x3d'oj-listbox-drop' style\x3d'display:none'\x3e\x3c/div\x3e");f("body").append(this.Rd);var a=this;this.$q=this.Rd.ojPopup({initialFocus:"none",rootAttributes:{"class":"datetimepicker-dropdown"},open:function(){var b=f("[aria-selected]",a.Rd);1===b.length&&f(b);f("ul",a.Rd).focus()}})},On:function(){return this.$q.ojPopup("isOpen")},_ComponentCreate:function(){this.dp();var a=this._superApply(arguments);this.Hq()&&!this.hD()&&(this._CLASS_NAMES="");this.st();return a},Rg:function(){var a=
this._superApply(arguments);this.options.disabled&&c(this.gf.children(),!0);return a},_setOption:function(b,d,e){var f=null,m={};if("value"===b)return d||(d=null),f=this._super(b,d,e),this.gq(),f;f=this._superApply(arguments);"disabled"===b?(d&&this.hide(),c(this.gf.children(),d)):"max"===b||"min"===b?(m={min:this.options.min,max:this.options.max,converter:this.Dc()},this.Gw[a.Rb.VALIDATOR_TYPE_DATETIMERANGE]=a.ba.Wf(a.Rb.VALIDATOR_TYPE_DATETIMERANGE).createValidator(m),this.ek()):"readOnly"===b&&
d&&this.hide();(b in{max:!0,min:!0,converter:!0}||"timePicker"===b&&"timeIncrement"in d)&&this.gq();return f},_destroy:function(){var a=this._super();this.gf&&this.gf.remove();this.Rd.remove();return a},Is:function(){this.xj()&&this._superApply(arguments)},Wq:function(a){if(this.xj()){this._superApply(arguments);var b=f.ui.keyCode,c=!1;if(this.On())switch(a.keyCode){case b.TAB:this.hide();break;case b.ESCAPE:this.hide();c=!0;break;case b.UP:case b.DOWN:f("ul",this.Rd).focus(),c=!0}else switch(a.keyCode){case b.UP:case b.DOWN:this.show(),
c=!0}if(c||a.keyCode===b.ENTER)return a.preventDefault(),a.stopPropagation(),!1}},st:function(){var a=this.xj(),b=a?f(f("\x3cspan\x3e").addClass(this.it)):f("+ span",this.element),c=f("\x3cspan/\x3e").addClass(this.BL+" oj-clickable-icon oj-component-icon");b.append(c);var d=this;c.on("click",function(){d.On()?d.hide():d.show()}).on("mouseenter",function(){f(this).addClass("oj-hover")}).on("mousedown",function(){f(this).addClass("oj-active")}).on("mouseleave",function(){f(this).removeClass("oj-hover oj-active")});
this.gf=b;a&&this.element.after(b)},qQ:function(a){var b=this.options.min,c=this.options.max;return null!==b&&a<b||null!==c&&a>c},gq:function(){var a=this.options.value?new Date(this.options.value):new Date,b=f("\x3cul class\x3d'oj-listbox-results' tabindex\x3d'-1' role\x3d'listbox'\x3e\x3c/ul\x3e"),c=this.MO(),d=[],e;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);d=this.uP(a);c=c||d[0].value;this.Rd.empty();a=0;for(e=d.length;a<e;a++){var n=d[a].value,q=d[a].minMaxRange,r=f("\x3cli class\x3d'oj-listbox-result "+
(q?"oj-disabled":"")+"' role\x3d'presentation'\x3e"),p=this.uuid+"_sel"+a,q=f("\x3cdiv class\x3d'oj-listbox-result-label' "+(q?"aria-disabled ":"")+"data-value\x3d'"+n+"' role\x3d'option' id\x3d'"+p+"'\x3e"+d[a].label+"\x3c/li\x3e");c===n&&(q.attr("aria-selected","true"),r.addClass("oj-hover"),b.attr("aria-activedescendant",p));r.append(q);b.append(r)}this.Rd.append(b);f(".oj-listbox-result",b).on("mousemove",function(){var a=f(this);a.hasClass("oj-disabled")||(f(".oj-hover",b).removeClass("oj-hover"),
a.addClass("oj-hover"),b.attr("aria-activedescendant",a.children()[0].id))});var s=this;b.on("click",function(a){var b=f(a.target);b.hasClass("oj-disabled")||void 0!==b.attr("aria-disabled")||(s.hide(),s.pE(a))}).on("keydown",function(a){s.KT(a)})},uP:function(a){var b=[],c=this.Dc();if(a){var d=this.options.timePicker.timeIncrement.split(":");if(4===d.length){var e=parseInt(d[0].substring(0),10),f=parseInt(d[1],10),q=parseInt(d[2],10),d=parseInt(d[3],10),r=new Date(a),p="";do p=c.format(r),b.push({label:p,
value:p,minMaxRange:this.qQ(r)}),r.setHours(r.getHours()+e),r.setMinutes(r.getMinutes()+f),r.setSeconds(r.getSeconds()+q),r.setMilliseconds(r.getMilliseconds()+d);while(r.getDate()===a.getDate())}else throw Error("timeIncrement value should be in the format of hh:mm:ss:SS");}return b},KT:function(a){if(this.On()){var b=f.ui.keyCode,c=!1;switch(a.keyCode){case b.TAB:this.hide();break;case b.ESCAPE:this.hide();this.element.focus();c=!0;break;case b.UP:this.lE(a,"prev");c=!0;break;case b.DOWN:this.lE(a,
"next");c=!0;break;case b.ENTER:this.pE(a),c=!0}if(c)return a.preventDefault(),a.stopPropagation(),!1}},lE:function(a,b){var c=f(".oj-hover",this.Rd),d=f("ul",this.Rd);if(1===c.length){var e=c[b]();1===e.length&&(c.removeClass("oj-hover"),e.addClass("oj-hover"),d.attr("aria-activedescendant",e.children()[0].id))}},pE:function(a){var b=this.Rd,c=f("[aria-selected]",b),d=f("ul",b),b=f(".oj-hover div",b);1===b.length&&(1===c.length&&(c.removeAttr("aria-selected"),c.parent().removeClass("oj-hover")),
b.attr("aria-selected","true"),b.parent().addClass("oj-hover"),this.hg(b.attr("data-value")),this.ee(b.attr("data-value"),a),d.attr("aria-activedescendant",b[0].id),this.hide(),this.element.focus(),this.Hq()&&this.Jm.widget.hide())},Tv:function(a){this.xj()&&this._superApply(arguments)},show:function(){if(!this.options.disabled&&!this.options.readOnly){this.Hq()&&this.Jm.widget.hide();0===this.Rd.children().length&&this.gq();this.Rd.width(this.element.parent().width());this.Rd.css({position:"relative"});
var b=this.ep(),c=this.widget(),c=c.is("[id]")?c.attr("id"):c.uniqueId().attr("id");this.$q.ojPopup("widget").attr(a.fa.Pg,c);this.$q.ojPopup("open",this.element,{my:b?"right top":"left top",at:b?"right bottom":"left bottom",collision:"fit"})}},hide:function(){this.On()&&(this.$q.ojPopup("close"),this.element.focus())},refresh:function(){return this._superApply(arguments)||this},hg:function(a){this.xj()&&this._superApply(arguments);this.On()&&this.gq()},fm:function(){return this.xj()},xj:function(){return!this.Hq()||
this.hD()},_GetDefaultStyleClass:function(){return"oj-inputtime"},hk:function(){return this.options.value||""},gm:function(){var b=this._superApply(arguments),c=this.options.min,d=this.options.max,e={};if(null!=c||null!=d)e={min:c,max:d,converter:this.Dc()},this.Gw[a.Rb.VALIDATOR_TYPE_DATETIMERANGE]=a.ba.Wf(a.Rb.VALIDATOR_TYPE_DATETIMERANGE).createValidator(e);return f.extend(this.Gw,b)},Dc:function(){return this.options.converter?this._superApply(arguments):f.oj.ojInputTime.prototype.options.converter},
bX:function(){},MO:function(){var a=this.Dc(),b=this.options.value;return b?a.format(b):""},Hq:function(){return null!==this.Jm},hD:function(){return this.Jm.inline},getNodeBySubId:function(a){var b=null,c=a.subId;"oj-listbox-drop"===c?b=this.Rd:"oj-inputdatetime-time-icon"===c&&(b=f(".oj-inputdatetime-time-icon",this.gf));return b||this._superApply(arguments)},widget:function(){return this.xj()?this._super():this.Jm.widget.widget()}});a.Ia("oj.ojInputDateTime",f.oj.ojInputDate,{version:"1.0.0",widgetEventPrefix:"oj",
_WIDGET_CLASS_NAMES:"oj-inputdatetime-date-time oj-component oj-inputdatetime",_INPUT_HELPER_KEY:"inputHelpBoth",options:{converter:a.ba.ri(a.Yf.CONVERTER_TYPE_DATETIME).createConverter({day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit"}),timePicker:{timeIncrement:"00:30:00:00"}},dp:function(){this._super();this.Nn=this.element;this.qr=this.ie=null},_ComponentCreate:function(){var a=this._super(),b=this.EC(this.Dc());if(null===b)throw Error("Plase use ojInputDate if you do not have time portion");
if(this.zd){var c=f("\x3cinput type\x3d'text'\x3e");c.insertAfter(this.element);this.Nn=c}this.ie=this.Nn.ojInputTime({converter:b,optionChange:f.proxy(this.LT,this),timePicker:this.options.timePicker,datePickerComp:{widget:this,inline:this.zd}});return a},Rg:function(){var a=this._superApply(arguments);this.ie.ojInputTime("option","disabled",this.options.disabled);this.zd&&this.Nn.ojInputTime("option","value",this.Qm());return a},_setOption:function(a,b,c){this.ie&&(a in{disabled:!0,min:!0,max:!0}?
this.ie.ojInputTime("option",a,b):"timePicker"===a&&"timeIncrement"in b?this.ie.ojInputTime("option","timePicker.timeIncrement",b.timeIncrement):"converter"===a&&(this.qr=null,this.ie.ojInputTime("option",a,this.EC(b))));return this._superApply(arguments)},_destroy:function(){var a=this._super();this.ie.ojInputTime("destroy");this.zd&&this.Nn.remove();return a},EC:function(b){if(null!==this.qr)return this.qr;b=b.resolvedOptions();var c={},d="hour hour12 minute second millisecond timeFormat".split(" "),
e,m;e=0;for(m=d.length;e<m;e++)d[e]in b&&("timeFormat"===d[e]&&(c.formatType="time"),c[d[e]]=b[d[e]]);return f.isEmptyObject(c)?null:this.qr=b=a.ba.ri(a.Yf.CONVERTER_TYPE_DATETIME).createConverter(c)},LT:function(a,c){"value"===c.option&&c.value&&this.ee(b(c.value||new Date,new Date(this.Qm())),a,{py:this.Wi.Hs})},Wq:function(a){var b=f.ui.keyCode,c=!1;switch(a.keyCode){case b.UP:case b.DOWN:a.shiftKey&&(this.ie.ojInputTime("show"),c=!0)}return c?(a.preventDefault(),a.stopPropagation(),!1):this._superApply(arguments)},
show:function(){this.ie.ojInputTime("hide");return this._super()},showTimePicker:function(){this.hide();return this.ie.ojInputTime("show")},hideTimePicker:function(){return this.ie.ojInputTime("hide")},refresh:function(){return this._superApply(arguments)||this},hg:function(a){this._superApply(arguments);this.ie&&this.ie.ojInputTime("option","value",this.options.value)},getNodeBySubId:function(a){var b=a.subId;return"oj-listbox-drop"===b||"oj-inputdatetime-time-icon"===b?this.ie.ojInputTime("getNodeBySubId",
a):this._superApply(arguments)},Dc:function(){return this.options.converter?this._superApply(arguments):f.oj.ojInputDateTime.prototype.options.converter},_GetMessagingLauncherElement:function(){return this.zd?this.Nn:this._super()},_GetDefaultStyleClass:function(){return"oj-inputdatetime"},gz:function(){return"oj-ojInputDate"}})});
//# sourceMappingURL=oj-modular.map