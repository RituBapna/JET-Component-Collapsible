/*
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
*/
define("ojs/ojcore jquery ojs/internal-deps/datagrid/DvtDataGrid ojs/ojcomponentcore ojs/ojdatacollection-common ojs/ojinputnumber ojs/ojmenu ojs/ojdialog ojs/ojpagingcontrol".split(" "),function(a,f,c){a.$a=function(b,c){null!=c&&(this.Wj=c.rowHeader);a.$a.t.constructor.call(this,b)};o_("ArrayDataGridDataSource",a.$a,a);a.b.qa(a.$a,a.Hb,"oj.ArrayDataGridDataSource");a.$a.prototype.Init=function(){this.columns=this.CO(this.data);this.HQ();a.$a.t.Init.call(this)};a.b.g("ArrayDataGridDataSource.prototype.Init",
{Init:a.$a.prototype.Init});a.$a.prototype.HQ=function(){var a;this.Yd=[];for(a=0;a<this.data.length;a+=1)this.Yd[a]=a.toString()};a.$a.prototype.CO=function(a){var c,e;if("number"!==typeof a.length||0===a.length)return[];e=[];for(c in a[0])a[0].hasOwnProperty(c)&&(void 0!=this.Wj&&c==this.Wj||e.push(c));return e};a.$a.prototype.Z=function(a){return"row"===a?this.data.length:"column"===a?this.columns.length:0};a.b.g("ArrayDataGridDataSource.prototype.getCount",{Z:a.$a.prototype.Z});a.$a.prototype.uH=
function(a,c){if("row"===a)return void 0!=this.Wj?this.data[c][this.Wj]:0<this.data.length&&this.data[0]instanceof Array?void 0===this.Yd[c]?c.toString():this.Yd[c]:null;if("column"===a)return this.columns[c]};a.$a.prototype.mV=function(a,c){return"row"===a&&void 0!=this.Wj?{key:c.toString()}:{key:this.uH(a,c)}};a.$a.prototype.Vd=function(b,c,e){var f,h,k;f=b.axis;h=b.start;k=b.count;a.i.assert("row"===f||"column"===f);a.i.assert(h<this.Z(f));a.i.assert(0<k);h=Math.max(0,h);k="column"===f?Math.min(this.columns.length,
h+k):void 0!==this.Wj||0<this.data.length&&this.data[0]instanceof Array?Math.min(this.data.length,h+k):h;f=new a.ve(h,k,f,this);null!=c&&null!=c.success&&(null==e&&(e={}),c.success.call(e.success,f,b))};a.b.g("ArrayDataGridDataSource.prototype.fetchHeaders",{Vd:a.$a.prototype.Vd});a.$a.prototype.gV=function(a,c){return this.data[a][this.columns[c]]};a.$a.prototype.hV=function(a,c){return{keys:{row:this.Yd[a],column:this.columns[c]}}};a.$a.prototype.Td=function(b,c,e){var f,h,k,l,m,n;for(f=0;f<b.length;f+=
1)h=b[f],a.i.assert("row"===h.axis||"column"===h.axis),a.i.assert(h.start<this.Z(h.axis)),a.i.assert(0<h.count),"row"===h.axis?(k=h.start,l=Math.min(this.data.length,k+h.count)):"column"===h.axis&&(m=h.start,n=Math.min(this.columns.length,m+h.count));void 0===l||void 0===n?null!=c&&null!=c.error&&(null==e&&(e={}),c.error.call(e.error)):(f=new a.ae(k,l,m,n,this),null!=c&&null!=c.success&&(null==e&&(e={}),c.success.call(e.success,f,b)))};a.b.g("ArrayDataGridDataSource.prototype.fetchCells",{Td:a.$a.prototype.Td});
a.$a.prototype.keys=function(a){return{row:this.Yd[a.row],column:this.columns[a.column]}};a.b.g("ArrayDataGridDataSource.prototype.keys",{keys:a.$a.prototype.keys});a.$a.prototype.Xd=function(a){var c=a.column;return{row:this.Yd.indexOf(a.row),column:this.columns.indexOf(c)}};a.b.g("ArrayDataGridDataSource.prototype.indexes",{Xd:a.$a.prototype.Xd});a.$a.prototype.sort=function(a,c,e){var f=[],h=[],k=[],l=[],m=[],n,q;n=a.axis;q=a.key;a=a.direction;null!=c&&null==e&&(e={});if("column"===n){q=this.columns.indexOf(q);
for(n=0;n<this.data.length;n+=1)f[n]=this.data[n][this.columns[q]],h[n]=n;h.sort(this.SD(f,a));for(n=0;n<this.data.length;n+=1)k[n]=this.data[h[n]],m[n]=this.Yd[h[n]];this.data=k;this.Yd=m;null!=c&&null!=c.success&&c.success.call(e.success)}else if("row"===n){q=this.Yd.indexOf(q);for(n=0;n<this.columns.length;n+=1)f[n]=this.data[q][this.columns[n]],h[n]=n;h.sort(this.SD(f,a));for(n=0;n<this.columns.length;n+=1)l[n]=this.columns[h[n]];this.columns=l;null!==c&&null!=c.success&&c.success.call(e.success)}else null!==
c&&null!=c.error&&c.error.call(e.error,"Invalid axis value")};a.b.g("ArrayDataGridDataSource.prototype.sort",{sort:a.$a.prototype.sort});a.$a.prototype.getCapability=function(a){return"sort"===a?"column":"move"===a?"row":null};a.b.g("ArrayDataGridDataSource.prototype.getCapability",{getCapability:a.$a.prototype.getCapability});a.$a.prototype.SD=function(a,c){if("ascending"===c)return function(c,d){var f,k;c=a[c];d=a[d];f=isNaN(c);k=isNaN(d);c instanceof Date&&(c=c.toISOString(),f=!0);d instanceof
Date&&(d=d.toISOString(),k=!0);return f&&k?c<d?-1:c===d?0:1:f?1:k?-1:c-d};if("descending"===c)return function(c,d){var f,k;c=a[c];d=a[d];f=isNaN(c);k=isNaN(d);c instanceof Date&&(c=c.toISOString(),f=!0);d instanceof Date&&(d=d.toISOString(),k=!0);return f&&k?c>d?-1:c===d?0:1:f?-1:k?1:d-c}};a.$a.prototype.move=function(a,c){var e,f;e=this.Yd.indexOf(a);this.Yd.splice(e,1);e=this.data.splice(e,1)[0];f={source:this,operation:"delete",keys:{row:a,column:null}};this.handleEvent("change",f);null===c?(this.Yd.push(a),
this.data.push(e)):(f=this.Yd.indexOf(c),this.Yd.splice(f,0,a),this.data.splice(f,0,e));f={source:this,operation:"insert",keys:{row:a,column:null}};this.handleEvent("change",f)};a.b.g("ArrayDataGridDataSource.prototype.move",{move:a.$a.prototype.move});a.$a.prototype.xH=function(){return this.Wj};a.b.g("ArrayDataGridDataSource.prototype.getRowHeaderKey",{xH:a.$a.prototype.xH});a.$a.prototype.yi=function(){return this.columns};a.b.g("ArrayDataGridDataSource.prototype.getColumns",{yi:a.$a.prototype.yi});
a.$a.prototype.yH=function(){return this.Yd};a.b.g("ArrayDataGridDataSource.prototype.getRowKeys",{yH:a.$a.prototype.yH});a.$a.prototype.getData=function(){return this.data};a.b.g("ArrayDataGridDataSource.prototype.getData",{getData:a.$a.prototype.getData});a.Te=function(b,c){this.lW=b;this.JW=c;this.Aa={};this.Aa.datagrid="oj-datagrid";this.Aa.cell="oj-datagrid-cell";this.Aa.cellcontent="oj-datagrid-cell-content";this.Aa.celltext="oj-datagrid-cell-text";this.Aa.banded="oj-datagrid-banded";this.Aa.row=
"oj-datagrid-row";this.Aa.databody="oj-datagrid-databody";this.Aa.topcorner="oj-datagrid-top-corner";this.Aa.bottomcorner="oj-datagrid-bottom-corner";this.Aa.rowheaderspacer="oj-datagrid-row-header-spacer";this.Aa.colheaderspacer="oj-datagrid-column-header-spacer";this.Aa.status="oj-datagrid-status";this.Aa.emptytext="oj-datagrid-empty-text";this.Aa.header="oj-datagrid-header";this.Aa.headercell="oj-datagrid-header-cell";this.Aa.headercelltext="oj-datagrid-header-cell-text";this.Aa.headercellcontent=
"oj-datagrid-header-cell-content";this.Aa.rowheader="oj-datagrid-row-header";this.Aa.colheader="oj-datagrid-column-header";this.Aa.colheadercell="oj-datagrid-column-header-cell";this.Aa.rowheadercell="oj-datagrid-row-header-cell";this.Aa["scroller-mobile"]="oj-datagrid-scroller-touch";this.Aa.scroller="oj-datagrid-scroller";this.Aa.scrollers="oj-datagrid-scrollers";this.Aa.focus="oj-focus";this.Aa.hover="oj-hover";this.Aa.active="oj-active";this.Aa.selected="oj-selected";this.Aa.disabled="oj-disabled";
this.Aa.enabled="oj-enabled";this.Aa["default"]="oj-default";this.Aa.sortcontainer="oj-datagrid-sort-icon-container";this.Aa.sortascending="oj-datagrid-sort-ascending-icon";this.Aa.sortdescending="oj-datagrid-sort-descending-icon";this.Aa.icon="oj-component-icon";this.Aa.clickableicon="oj-clickable-icon-nocontext";this.Aa.info="oj-helper-hidden-accessible";this.Aa.rowexpander="oj-rowexpander";this.Aa.cut="oj-datagrid-cut";this.Aa.selectaffordancetop="oj-datagrid-touch-selection-affordance-top";this.Aa.selectaffordancebottom=
"oj-datagrid-touch-selection-affordance-bottom";this.Aa.toucharea="oj-datagrid-touch-area";this.Aa.draggable="oj-draggable";this.Aa.drag="oj-drag";this.Aa.drop="oj-drop";this.Aa.activedrop="oj-active-drop";this.Aa.validdrop="oj-valid-drop";this.Aa.invaliddrop="oj-invalid-drop";this.He={};this.He.sortCol="oj-datagrid-sortCol";this.He.sortColAsc="oj-datagrid-sortColAsc";this.He.sortColDsc="oj-datagrid-sortColDsc";this.He.sortRow="oj-datagrid-sortRow";this.He.sortRowAsc="oj-datagrid-sortRowAsc";this.He.sortRowDsc=
"oj-datagrid-sortRowDsc";this.He.resize="oj-datagrid-resize";this.He.resizeWidth="oj-datagrid-resizeWidth";this.He.resizeHeight="oj-datagrid-resizeHeight";this.He.cut="oj-datagrid-cut";this.He.paste="oj-datagrid-paste";this.attributes={};this.attributes.key="data-oj-key";this.attributes.resizable="data-oj-resizable";this.attributes.sortable="data-oj-sortable";this.attributes.sortDir="data-oj-sortdir";this.attributes.expander="data-oj-expander";this.attributes.expanderIndex="data-oj-expander-index";
this.attributes.container=a.Components.lp};o_("DataGridResources",a.Te,a);a.Te.prototype.bI=function(){return"rtl"===this.lW?!0:!1};a.b.g("DataGridResources.prototype.isRTLMode",{bI:a.Te.prototype.bI});a.Te.prototype.JH=function(a,c){return this.JW(a,c)};a.b.g("DataGridResources.prototype.getTranslatedText",{JH:a.Te.prototype.JH});a.Te.prototype.sx=function(a){return null!=a?this.Aa[a]:null};a.b.g("DataGridResources.prototype.getMappedStyle",{sx:a.Te.prototype.sx});a.Te.prototype.Qr=function(a){return null!=
a?this.He[a]:null};a.b.g("DataGridResources.prototype.getMappedCommand",{Qr:a.Te.prototype.Qr});a.Te.prototype.rx=function(a){return null!=a?this.attributes[a]:null};a.b.g("DataGridResources.prototype.getMappedAttribute",{rx:a.Te.prototype.rx});a.Ia("oj.ojDataGrid",f.oj.baseComponent,{widgetEventPrefix:"oj",options:{bandingInterval:{row:0,column:0},data:null,emptyText:null,gridlines:{horizontal:"visible",vertical:"visible"},scrollPosition:null,selectionMode:null,dnd:{Jl:{row:"disable"}},scrollPolicy:"auto",
selection:[],header:{row:{className:null,renderer:null,resizable:{width:"disable",height:"disable"},sortable:"auto",style:null},column:{className:null,renderer:null,resizable:{width:"disable",height:"disable"},sortable:"auto",style:null}},cell:{className:null,renderer:null,style:null},select:null,resize:null,sort:null},_create:function(){f(this.root).addClass("oj-component");this._super();this.root=this.element[0];this.Se=this.root.getAttribute("id");this.grid=new c;this.Wx={data:"all",header:["className",
"renderer","style","template"]}},_init:function(){var b=this;this.Kw(this.root);f(this.root).empty();this._super();this.Vj=new a.Te(this.Ec(),this.FC.bind(b));this.vF();this.tw();this.GL();null!=this.fc&&this.grid.SetDataSource(this.fc);this.grid.SetOptions(this.options);this.grid.SetResources(this.Vj);this.grid.SetCreateContextCallback(this.tR.bind(b));this.grid.addListener("resize",function(a){b._trigger("resize",a.event,a.ui)});this.grid.addListener("select",function(a){b._trigger("select",a.event,
a.ui)});this.grid.addListener("sort",function(a){b._trigger("sort",a.event,a.ui)});this.grid.addListener("keydown",function(a){b._trigger("keydown",a.event,a.ui)});this.grid.addListener("active",function(a){b._trigger("active",a.event,a.ui)});this.grid.render(this.root);null!=this.fc&&this.Xk(this.root)},refresh:function(){this._super();this.Kw(this.root);f(this.root).empty();this.vF();null!=this.fc&&this.grid.SetDataSource(this.fc);this.grid.SetOptions(this.options);this.grid.SetResources(this.Vj);
this.grid.refresh(this.root);null!=this.fc&&this.Xk(this.root)},_destroy:function(){this.grid.destroy();this.Kw(this.root);f(this.root).empty()},_setOptions:function(a,c){var e;if(this.fc)this.vT(a,c);else for(e in a)this._setOption(e,a[e],c)},vT:function(b,c){var e,f,h,k,l,m;h=!1;for(f in b)if(f in this.Wx)if("data"===f){h=!0;break}else if("header"==f)for(k in b.header){if("column"==k||"row"==k||"cell"==k)for(l in b.header[k]){for(e=0;e<this.Wx.header.length;e++)if(l==this.Wx.header[e])for(m in this.options.header[k])if(m==
l&&b.header[k][l]!=this.options.header[k][l]){h=!0;break}if(h)break}if(h)break}else for(m in this.options)if(m==f&&!a.b.Hr(b[f],this.options[m])){h=!0;break}for(f in b)this._setOption(f,b[f],c);h?this.refresh():this.grid.UpdateOptions(b)},_setOption:function(a,c,e){this._super(a,c,e)},Ok:function(a,c){return"disable"!==this.options.header[a].resizable[c]},sD:function(a){return"disable"!==this.options.header[a].sortable},GL:function(){var a,c,e=null,g=null,h=null,k;a=this;if(null==this.options.contextMenu){if(null!=
this.fc){c=f("\x3cul\x3e");c.css("display","none").attr("id",this.Se+"contextmenu");f(this.root).append(c);if(this.Ok("column","width")||this.Ok("column","height")||this.Ok("row","width")||this.Ok("row","height"))e=this.$g("resize");k=this.fc.getCapability("sort");!this.sD("column")||"column"!==k&&"full"!==k||(g=this.$g("sortCol"));!this.sD("row")||"row"!==k&&"full"!==k||(g=null!=g?g.add(this.$g("sortRow")):this.$g("sortRow"));if("enable"===this.options.dnd.reorder)switch(this.fc.getCapability("move")){case "none":break;
default:h=f(this.fe("cut")).add(f(this.fe("paste")))}c.append(e).append(g).append(h);c.ojMenu();this._setOption("contextMenu","#"+c.attr("id"));c.on("ojbeforeopen",this.nh.bind(this));c.on("ojselect",this.oh.bind(this))}}else c=f(this.options.contextMenu),e=c.find("[data-oj-command]"),e.each(function(){var c;0===f(this).children("a").length&&(c=f(this).attr("data-oj-command").split("-"),f(this).replaceWith(a.$g(c[c.length-1])))}),c.ojMenu("refresh"),c.on("ojbeforeopen",this.nh.bind(this)),c.on("ojselect",
this.oh.bind(this))},$g:function(a){if("resize"===a)return f(this.fe("resize")).append(f("\x3cul\x3e\x3c/ul\x3e").append(f(this.fe("resizeWidth"))).append(f(this.fe("resizeHeight"))));if("sortCol"===a)return f(this.fe("sortCol")).append(f("\x3cul\x3e\x3c/ul\x3e").append(f(this.fe("sortColAsc"))).append(f(this.fe("sortColDsc"))));if("sortRow"===a)return f(this.fe("sortRow")).append(f("\x3cul\x3e\x3c/ul\x3e").append(f(this.fe("sortRowAsc"))).append(f(this.fe("sortRowDsc"))));if(-1!=Object.keys(this.Vj.He).indexOf(a))return f(this.fe(a))},
fe:function(a){return"\x3cli data-oj-command\x3d"+this.jh(a)+"\x3e"+this.xt(a)+"\x3c/li\x3e"},xt:function(a){a="label"+a.charAt(0).toUpperCase()+a.slice(1);return'\x3ca href\x3d"#"\x3e'+this.FC(a)+"\x3c/a\x3e"},Bu:function(){return f(this.options.contextMenu).get(0)},FC:function(a,c){return this.N(a,c)},dQ:function(){var a=f("#"+this.Se+"spinner").ojInputNumber("option","value");f("#"+this.Se+"dialog").remove();this.grid.handleContextMenuReturn(this.sg,this.Bg,a);this.sg.target.focus()},sM:function(a,
c){var e,g,h,k,l;e=f("#"+this.Se+"dialog");h=f("#"+this.Se+"spinner");if(0===e.length||0===h.length)e=f("\x3cdiv\x3e"),e.attr("id",this.Se+"dialog"),e.attr("title",a),g=f('\x3cdiv class\x3d"oj-dialog-body"\x3e\x3c/div\x3e'),k=f('\x3cdiv class\x3d"oj-dialog-footer"\x3e\x3c/div\x3e'),e.append(g).append(k),h=f('\x3cinput id\x3d"'+this.Se+'spinner"/\x3e'),l=f("\x3cbutton\x3e"),g.append(h),k.append(l),f(this.root).append(e),l.ojButton({ta:"ojButton",label:"OK"}),l.on("click",this.dQ.bind(this));h.ojInputNumber({ta:"ojInputNumber",
max:1E3,min:20,step:1,value:c});e.ojDialog({initialVisibility:"show",position:{my:"center center",at:"center center",collision:"none",of:f(this.root)}})},oh:function(a,c){var e;this.Bg=c.item.attr("data-oj-command");if(this.Bg===this.jh("sortColAsc")||this.Bg===this.jh("sortColDsc")||this.Bg===this.jh("cut")||this.Bg===this.jh("paste"))this.grid.handleContextMenuReturn(this.sg,this.Bg,null);else if(this.Bg===this.jh("resizeWidth")||this.Bg===this.jh("resizeHeight"))e=this.su(f(this.sg.target),"oj-datagrid-headercell"),
e=null!=e?this.Bg===this.jh("resizeWidth")?e.outerWidth():e.outerHeight():this.Bg===this.jh("resizeWidth")?f(this.sg.target).outerWidth():f(this.sg.target).outerHeight(),this.sM(c.item.text(),e)},nh:function(a,c){var e;f(this.Bu());this.sg=a.originalEvent.originalEvent;c.openOptions.position="keydown"===this.sg.type?{my:"start top",at:"start bottom",of:this.sg.target}:{my:"start top",at:"start bottom"};e=this.su(f(this.sg.target).eq(0),this.mj("cell"));null!=e?e=this.xO(e):(e=this.su(f(this.sg.target).eq(0),
this.mj("headercell")),e=this.OO(e));this.mR(e)},HL:function(a){var c;c=f(this.Bu());c.find("[data-oj-command\x3d"+a+"]").hasClass("oj-disabled")||c.find("[data-oj-command\x3d"+a+"]").addClass("oj-disabled")},AS:function(a){f(this.Bu()).find("[data-oj-command\x3d"+a+"]").removeClass("oj-disabled")},mR:function(a){var c,e;for(c in a)a.hasOwnProperty(c)&&(e=this.Vj.Qr(c),"disable"===a[c]?this.HL(e):this.AS(e))},su:function(a,c){var e;if(a.hasClass(c))return a;e=a.parents("."+c);return 0!=e.length?e.eq(0):
null},mO:function(a){var c;c=a.parent();a=c.children().index(a);return{rowIndex:c.parent().children().index(c)-1,columnIndex:a}},nO:function(a){var c;c=this.lP().children().eq(0).children().eq(a.rowIndex+1);a=this.BO().children().eq(0).children().eq(a.columnIndex);return{rowHeader:c,columnHeader:a}},jX:function(){return f(this.root)},BO:function(){return f("#"+this.Se+"\\:columnHeader")},lP:function(){return f("#"+this.Se+"\\:rowHeader")},iX:function(){return f("#"+this.Se+"\\:databody")},EO:function(){return f("#"+
this.Se+"\\:databody ."+this.mj("row"))},xO:function(a){var c,e;a=this.mO(a);c=this.nO(a);a={hW:"disable",gW:"disable",vW:"disable",uW:"disable"};e=c.rowHeader;c=c.columnHeader;0!==c.length&&("true"===c.attr(this.Xh("resizable"))&&(a.resizeWidth="enable"),"true"===c.attr(this.Xh("sortable"))&&(a.sortCol="enable"));0!==e.length&&("true"===e.attr(this.Xh("resizable"))&&(a.resizeHeight="enable"),"true"===e.attr(this.Xh("sortable"))&&(a.sortRow="enable"));return a},OO:function(a){var c;c={hW:"disable",
gW:"disable",vW:"disable",uW:"disable"};null!==a&&(a.hasClass(this.mj("colheadercell"))?("true"===a.attr(this.Xh("resizable"))&&(c.resizeWidth="enable"),c.resizeHeight=this.Ok("column","height")?"enable":"disable","true"===a.attr(this.Xh("sortable"))&&(c.sortCol="enable")):("true"===a.attr(this.Xh("resizable"))&&(c.resizeHeight="enable"),c.resizeWidth=this.Ok("row","width")?"enable":"disable","true"===a.attr(this.Xh("sortable"))&&(c.sortRow="enable")));return c},vF:function(){this.fc=null!=this.options.data?
this.options.data:null},tw:function(){var a=this.options.selection;null!=a&&this.grid.SetSelection(a)},tR:function(a){a.component=this},gr:function(a){this.grid.SetAccessibleContext(a)},Kw:function(b){b&&this.rh&&a.fa.Uj(b,this.rh)},Xk:function(b){b&&(null==this.rh&&(this.rh=this.ig.bind(this)),a.fa.vh(b,this.rh))},ig:function(a,c){0<a&&0<c&&this.grid.HandleResize(a,c)},getNodeBySubId:function(a){var c,e,g;if(null==a)return this.element?this.element[0]:null;c=a.subId;return"oj-datagrid-cell"===c?
(c=a.rowIndex-this.grid.getStartRow(),a=a.columnIndex-this.grid.getStartColumn(),this.EO().eq(c).children().eq(a).get(0)):"oj-datagrid-sort-icon"===c||"oj-datagrid-header"===c?(g=a.axis,a=a.index,"column"===g?e=f("#"+this.Se+"\\:columnHeader ."+this.mj("headercell")).eq(a-this.grid.getStartColumnHeader()):"row"===g&&(e=f("#"+this.Se+"\\:rowHeader ."+this.mj("headercell")).eq(a-this.grid.getStartRowHeader())),"oj-datagrid-sort-icon"===c?e.children("."+this.mj("sortcontainer")).children().get(0):e.get(0)):
null},mj:function(a){return this.Vj.sx(a)},Xh:function(a){return this.Vj.rx(a)},jh:function(a){return this.Vj.Qr(a)}});a.Ue=function(b,c,e,f,h,k){a.i.dc(b,null);a.i.dc(c,null);a.i.dc(e,null);a.i.dc(f,null);a.i.Vn(k);this.tf=b;this.Qj=c;this.Ag=e;this.Pj=f;this.hb=h;this.Ic=k};o_("FlattenedTreeCellSet",a.Ue,a);a.Ue.prototype.getData=function(b){var c;c=this.rC(b);if(null==c)return null;b=c[0];c=c[1];a.i.assert(b<this.hb.Ga()+this.hb.Z()&&c<this.Ic.length);c=this.Ic[c];b=this.hb.getData(b);return null!=
b?b.get?b.get(c):b[c]:null};a.b.g("FlattenedTreeCellSet.prototype.getData",{getData:a.Ue.prototype.getData});a.Ue.prototype.getMetadata=function(b){var c;c=this.rC(b);if(null==c)return null;b=c[0];c=c[1];a.i.assert(b<this.hb.Ga()+this.hb.Z()&&c<this.Ic.length);c=this.Ic[c];b=this.hb.getMetadata(b);b.keys={row:b.key,column:c};return b};a.b.g("FlattenedTreeCellSet.prototype.getMetadata",{getMetadata:a.Ue.prototype.getMetadata});a.Ue.prototype.rC=function(b){var c;a.i.je(b);if(null==this.hb||0==this.hb.length)return null;
c=b.row-this.tf+this.hb.Ga();b=b.column;a.i.dc(c,null);a.i.dc(b,null);a.i.assert(0<=c&&0<=b);return[c,b]};a.Ue.prototype.Ga=function(a){return"row"===a?this.tf:"column"===a?this.Ag:0};a.b.g("FlattenedTreeCellSet.prototype.getStart",{Ga:a.Ue.prototype.Ga});a.Ue.prototype.Z=function(a){return"row"===a?Math.min(this.Qj-this.tf,this.hb.Z()):"column"===a?this.Pj-this.Ag:0};a.b.g("FlattenedTreeCellSet.prototype.getCount",{Z:a.Ue.prototype.Z});a.Lg=function(b,c,e,f,h){a.i.dc(b,null);a.i.dc(c,null);a.i.Vn(e);
this.tc=b;this.Qf=c;this.bs=e;this.hb=f;this.sf=h};o_("FlattenedTreeHeaderSet",a.Lg,a);a.Lg.prototype.getData=function(b){a.i.assert(b<=this.Qf&&b>=this.tc);return null!=this.sf&&null!=this.hb?(b=this.hb.getData(b),null!=b?b.get(this.sf):null):this.bs[b]};a.b.g("FlattenedTreeHeaderSet.prototype.getData",{getData:a.Lg.prototype.getData});a.Lg.prototype.getMetadata=function(a){return null!=this.sf&&null!=this.hb?this.hb.getMetadata(a):{key:this.getData(a)}};a.b.g("FlattenedTreeHeaderSet.prototype.getMetadata",
{getMetadata:a.Lg.prototype.getMetadata});a.Lg.prototype.Z=function(){return null!=this.sf&&null!=this.hb?Math.min(this.hb.Z(),this.Qf-this.tc):Math.max(0,this.Qf-this.tc)};a.b.g("FlattenedTreeHeaderSet.prototype.getCount",{Z:a.Lg.prototype.Z});a.ae=function(b,c,e,f,h){a.i.dc(b,null);a.i.dc(c,null);a.i.dc(e,null);a.i.dc(f,null);this.tf=b;this.Qj=c;this.Ag=e;this.Pj=f;this.Pf=h};o_("ArrayCellSet",a.ae,a);a.ae.prototype.getData=function(a){return this.Pf.gV(a.row,a.column)};a.b.g("ArrayCellSet.prototype.getData",
{getData:a.ae.prototype.getData});a.ae.prototype.getMetadata=function(a){return this.Pf.hV(a.row,a.column)};a.b.g("ArrayCellSet.prototype.getMetadata",{getMetadata:a.ae.prototype.getMetadata});a.ae.prototype.Ga=function(a){return"row"==a?this.tf:"column"==a?this.Ag:-1};a.b.g("ArrayCellSet.prototype.getStart",{Ga:a.ae.prototype.Ga});a.ae.prototype.Z=function(a){return"row"===a?Math.max(0,this.Qj-this.tf):"column"===a?Math.max(0,this.Pj-this.Ag):0};a.b.g("ArrayCellSet.prototype.getCount",{Z:a.ae.prototype.Z});
a.ae.prototype.getStartRow=function(){return this.tf};a.b.g("ArrayCellSet.prototype.getStartRow",{getStartRow:a.ae.prototype.getStartRow});a.ae.prototype.getStartColumn=function(){return this.Ag};a.b.g("ArrayCellSet.prototype.getStartColumn",{getStartColumn:a.ae.prototype.getStartColumn});a.Ja=function(b,c){a.Ja.t.constructor.call(this,b,c)};o_("FlattenedTreeDataGridDataSource",a.Ja,a);a.b.qa(a.Ja,a.ga,"oj.FlattenedTreeDataGridDataSource");a.Ja.prototype.Init=function(){a.Ja.t.Init.call(this);this.Ic=
a.Ja.t.Sr.call(this,"columns");this.sf=a.Ja.t.Sr.call(this,"rowHeader")};a.b.g("FlattenedTreeDataGridDataSource.prototype.Init",{Init:a.Ja.prototype.Init});a.Ja.prototype.nf=function(a){return"row"===a?"estimate":"actual"};a.b.g("FlattenedTreeDataGridDataSource.prototype.getCountPrecision",{nf:a.Ja.prototype.nf});a.Ja.prototype.Z=function(a){return"row"===a?-1:"column"===a?this.Ic.length:0};a.b.g("FlattenedTreeDataGridDataSource.prototype.getCount",{Z:a.Ja.prototype.Z});a.Ja.prototype.Vd=function(b,
c,e){var f,h;f=b.axis;if("column"===f)h=new a.Lg(b.start,b.start+b.count,this.Ic);else if("row"===f){if(null!=this.sf){this.zg={range:b,callbacks:c,callbackObjects:e};return}h=new a.ve(b.start,b.start,f,null)}null!=h&&null!=c&&null!=c.success&&(null==e&&(e={}),c.success.call(e.success,h,b))};a.b.g("FlattenedTreeDataGridDataSource.prototype.fetchHeaders",{Vd:a.Ja.prototype.Vd});a.Ja.prototype.Td=function(b,c,e){var f,h,k,l;for(f=0;f<b.length;f++)if(h=b[f],"row"==h.axis){k=h.start;l=h.count;break}a.Ja.t.$G.call(this,
{start:k,count:l},{success:function(a){this.ov(a,b,c,e,0)}.bind(this),error:function(a){this.KP(a,{start:k,count:l},c,e)}.bind(this)})};a.b.g("FlattenedTreeDataGridDataSource.prototype.fetchCells",{Td:a.Ja.prototype.Td});a.Ja.prototype.keys=function(b){var c;c=b.row;b=b.column;return c>a.Ja.t.lV.call(this).end||b>this.Ic.length?null:{row:a.Ja.t.getKey.call(this,c),column:this.Ic[b]}};a.b.g("FlattenedTreeDataGridDataSource.prototype.keys",{keys:a.Ja.prototype.keys});a.Ja.prototype.Xd=function(b){var c,
e,f;c=b.row;b=b.column;c=a.Ja.t.rl.call(this,c);for(f=0;f<this.Ic.length;f++)if(this.Ic[f]===b){e=f;break}return 0<=c&&0<=e?{row:c,column:e}:null};a.b.g("FlattenedTreeDataGridDataSource.prototype.indexes",{Xd:a.Ja.prototype.Xd});a.Ja.prototype.sort=function(b,c,e){return a.Ja.t.getWrappedDataSource.call(this).sort(b,{success:function(){this.gQ(c,e)}.bind(this),error:c.error})};a.b.g("FlattenedTreeDataGridDataSource.prototype.sort",{sort:a.Ja.prototype.sort});a.Ja.prototype.gQ=function(a,c){this.refresh();
a.success&&(null==c&&(c={}),a.success.call(c.success))};a.Ja.prototype.move=function(b,c,e,f){a.Ja.t.getWrappedDataSource.call(this).move(b,c,e,f)};a.b.g("FlattenedTreeDataGridDataSource.prototype.move",{move:a.Ja.prototype.move});a.Ja.prototype.getCapability=function(b){return"default"===a.Ja.t.getWrappedDataSource.call(this).getCapability(b)?"column":"none"};a.b.g("FlattenedTreeDataGridDataSource.prototype.getCapability",{getCapability:a.Ja.prototype.getCapability});a.Ja.prototype.lo=function(b,
c){a.Ja.t.lo.call(this,b,c)};a.Ja.prototype.ov=function(b,c,e,f){var h,k,l,m,n,q;for(h=0;h<c.length;h++)k=c[h],"row"==k.axis?(l=k.start,m=k.count):"column"==k.axis&&(n=k.start,q=k.count);this.zg&&(h=this.zg.range,h.start==l&&h.count==m&&this.eQ(b,h,this.zg.callbacks,this.zg.callbackObjects),this.zg=null);b=new a.Ue(l,l+m,n,n+q,b,this.Ic);e.success&&(null==f&&(f={}),e.success.call(f.success,b,c))};a.Ja.prototype.KP=function(a,c,e,f){var h;this.zg&&(h=this.zg.range,h.start==c.start&&h.count==c.count&&
(c=this.zg.callbacks,h=this.zg.callbackObjects,c.error&&(null==h&&(h={}),c.error.call(h.error,a))),this.zg=null);e.error&&(null==f&&(f={}),e.success.call(f.error,a))};a.Ja.prototype.eQ=function(b,c,e,f){b=new a.Lg(c.start,c.start+c.count,this.Ic,b,this.sf);e.success&&(null==f&&(f={}),e.success.call(f.success,b,c))};a.Ja.prototype.Xr=function(b,c,e){b=new a.Ue(b,b+e.Z(),0,this.Ic.length,e,this.Ic);e={source:this,operation:"insert"};e.result=b;e.keys={row:c};a.Ja.t.handleEvent.call(this,"change",e)};
a.Ja.prototype.ns=function(b){var c,e;c=[];for(e=0;e<b.length;e++)c.push({row:b[e].key});b={source:this,operation:"delete"};b.keys=c;a.Ja.t.handleEvent.call(this,"change",b)};a.Ja.prototype.xx=function(b,c){c.success.call(null,new a.Xc(null,b.start))};a.Oa=function(b){if(!(b instanceof a.ea))throw new a.U("Not a datagridatasource","Not a datagridatasource",a.U.Ib.ERROR);this.La=b;this.O=0;this.Init()};o_("PagingDataGridDataSource",a.Oa,a);a.b.qa(a.Oa,a.ib,"oj.PagingDataGridDataSource");a.Oa.prototype.Init=
function(){a.Oa.t.Init.call(this)};a.b.g("PagingDataGridDataSource.prototype.Init",{Init:a.Oa.prototype.Init});a.Oa.prototype.fetch=function(b){this.O=b.startIndex;this.La.setPageSize(this.gd);var c=this;return a.b.ma(function(a){c.La.fetch(b);a()})};a.b.g("PagingDataGridDataSource.prototype.fetch",{fetch:a.Oa.prototype.fetch});a.Oa.prototype.hasMore=function(){return this.La.hasMore()};a.b.g("PagingDataGridDataSource.prototype.hasMore",{hasMore:a.Oa.prototype.hasMore});a.Oa.prototype.next=function(){return this.La.totalSize()>
this.O?(this.gd+=this.Ra,this.La.setPageSize(this.gd),this.fetch({startIndex:this.O})):a.b.ma(function(a,c){c()})};a.b.g("PagingDataGridDataSource.prototype.next",{next:a.Oa.prototype.next});a.Oa.prototype.previous=function(){return 0!=this.O||-1!=this.O?(this.O-=this.Ra,this.O=0>this.O?0:this.O,this.gd+=this.Ra,this.La.setPageSize(this.gd),this.fetch({startIndex:this.O})):a.b.ma(function(a,c){c()})};a.b.g("PagingDataGridDataSource.prototype.previous",{previous:a.Oa.prototype.previous});a.Oa.prototype.setPageSize=
function(a){this.Ra=a;this.gd=this.O+a;this.La.setPageSize(this.gd)};a.Oa.prototype.startIndex=function(){return this.O};a.b.g("PagingDataGridDataSource.prototype.startIndex",{startIndex:a.Oa.prototype.startIndex});a.Oa.prototype.Z=function(a){return this.La.Z(a)};a.b.g("PagingDataGridDataSource.prototype.getCount",{Z:a.Oa.prototype.Z});a.Oa.prototype.nf=function(a){return this.La.nf(a)};a.b.g("PagingDataGridDataSource.prototype.getCountPrecision",{nf:a.Oa.prototype.nf});a.Oa.prototype.Vd=function(a,
c,e){this.La.Vd(a,c,e)};a.b.g("PagingDataGridDataSource.prototype.fetchHeaders",{Vd:a.Oa.prototype.Vd});a.Oa.prototype.Td=function(a,c,e){this.La.Td(a,c,e)};a.b.g("PagingDataGridDataSource.prototype.fetchCells",{Td:a.Oa.prototype.Td});a.Oa.prototype.keys=function(a){return this.La.keys(a)};a.b.g("PagingDataGridDataSource.prototype.keys",{keys:a.Oa.prototype.keys});a.Oa.prototype.Xd=function(a){return this.La.Xd(a)};a.b.g("PagingDataGridDataSource.prototype.indexes",{Xd:a.Oa.prototype.Xd});a.Oa.prototype.on=
function(a,c){this.La.on(a,c)};a.b.g("PagingDataGridDataSource.prototype.on",{on:a.Oa.prototype.on});a.Oa.prototype.off=function(a,c){this.La.off(a,c)};a.b.g("PagingDataGridDataSource.prototype.off",{off:a.Oa.prototype.off});a.Oa.prototype.getCapability=function(a){return this.La.getCapability(a)};a.b.g("PagingDataGridDataSource.prototype.getCapability",{getCapability:a.Oa.prototype.getCapability});a.Oa.prototype.size=function(){return this.La.size()};a.b.g("PagingDataGridDataSource.prototype.size",
{size:a.Oa.prototype.size});a.Oa.prototype.sort=function(a,c,e){this.La.sort(a,c,e)};a.b.g("PagingDataGridDataSource.prototype.sort",{sort:a.Oa.prototype.sort});a.Oa.prototype.totalSize=function(){return this.La.totalSize()};a.b.g("PagingDataGridDataSource.prototype.totalSize",{totalSize:a.Oa.prototype.totalSize});a.Oa.prototype.move=function(a,c){this.La.move(a,c)};a.b.g("PagingDataGridDataSource.prototype.move",{move:a.Oa.prototype.move});a.ve=function(b,c,e,f){a.i.dc(b,null);a.i.dc(c,null);this.tc=
b;this.Qf=c;this.fI=e;this.Pf=f};o_("ArrayHeaderSet",a.ve,a);a.ve.prototype.getData=function(b){if(null==this.Pf)return null;a.i.assert(b<=this.Qf&&b>=this.tc);return this.Pf.uH(this.fI,b)};a.b.g("ArrayHeaderSet.prototype.getData",{getData:a.ve.prototype.getData});a.ve.prototype.getMetadata=function(b){if(null==this.Pf)return null;a.i.assert(b<=this.Qf&&b>=this.tc);return this.Pf.mV(this.fI,b)};a.b.g("ArrayHeaderSet.prototype.getMetadata",{getMetadata:a.ve.prototype.getMetadata});a.ve.prototype.Z=
function(){return null==this.Pf?0:Math.max(0,this.Qf-this.tc)};a.b.g("ArrayHeaderSet.prototype.getCount",{Z:a.ve.prototype.Z});a.ve.prototype.Ga=function(){return this.tc};a.b.g("ArrayHeaderSet.prototype.getStart",{Ga:a.ve.prototype.Ga})});
//# sourceMappingURL=oj-modular.map