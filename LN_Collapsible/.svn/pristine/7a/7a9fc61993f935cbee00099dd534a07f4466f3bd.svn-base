/*
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
*/
define(["ojs/ojcore","jquery","promise"],function(a,f){a.X=window.oj.Events={on:function(a,b,d){return this.Og(a,b,d,!1,!1)},off:function(a,b,d){return this.Sv(a,b,d,!1)},trigger:function(c){var b=Array.prototype.slice.call(arguments);b.unshift(!1);return a.X.Qb.apply(this,b)},once:function(a,b,d){return this.XD(a,b,d,!1)},listenTo:function(c,b,d){var e,g,h,f,l={};b.constructor===String?l[b]=d:l=b;for(f in l)if(l.hasOwnProperty(f))for(b=a.X.kj(f),d=0;d<b.length;d+=1)e=b[d].event,g=b[d].Lb,h={event:e,
Lb:g,object:c,ec:l[f]},this.Mt(this.Vb,h,a.X.xD),e=g?e+":"+g:e,void 0===this.Vb&&(this.Vb=[]),this.Vb.push(h),c.Og(e,l[f],null,!0,!1);return this},listenToOnce:function(c,b,d){var e,g,h,f,l={};b.constructor===String?l[b]=d:l=b;for(f in l)if(l.hasOwnProperty(f))for(b=a.X.kj(f),d=0;d<b.length;d+=1)e=b[d].event,g=b[d].Lb,h={event:e,Lb:g,object:c,ec:l[f]},this.Mt(this.Vb,h,a.X.xD),e=g?e+":"+g:e,void 0===this.Vb&&(this.Vb=[]),this.Vb.push(h),c.XD(e,l[f],null,!0);return this},stopListening:function(c,b,
d){var e,g={},h,f,l,m,n,q,r,p,s;if(null==arguments||0==arguments.length){n=this.Vb?this.Vb.length:0;for(p=0;p<n;p++)q=this.Vb[p].object.Sv,q.apply(this.Vb[p].object,[this.Vb[p].event,this.Vb[p].ec,this.Vb[p].context,!0]);this.Vb=[];return this}e=b;c&&c.constructor===String&&(e=c);e.constructor===String?g[e]=d:g=e;for(s in g)if(g.hasOwnProperty(s))for(e=a.X.kj(s),h=0;h<e.length;h+=1)for(f=e[h].event,l=e[h].Lb,n=this.Vb?this.Vb.length:0,p=n-1;0<=p;p-=1)m=this.Vb[p],n=c?c===m.object:!0,q=f?f===m.event:
!0,r=d?g[s]===m.ec:!0,m=l?l===m.Lb:!0,n&&q&&r&&m&&(q=this.Vb[p].object.Sv,q.apply(this.Vb[p].object,[this.Vb[p].event,this.Vb[p].ec,this.Vb[p].context,!0]),this.Vb.splice(p,1));return this}};a.X.bind=a.X.on;a.X.unbind=a.X.off;a.X.v={ADD:"add",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",DESTROY:"destroy",ALLREMOVED:"allremoved",REQUEST:"request",SYNC:"sync",ERROR:"error",INVALID:"invalid",ALL:"all"};o_("Events.EventType",a.X.v,a);a.X.Vo=function(a,b){var d,e=b||this;
for(d in e)"function"===typeof e[d]&&(a[d]=e[d]);a.gc={};a.Vb=[]};a.X.XD=function(a,b,d,e){var g,h,f,l;f=this.Gu(a,b);for(l in f)if(f.hasOwnProperty(l))for(a=this.kj(l),b=0;b<a.length;b+=1)g=a[b].event,h=a[b].Lb,void 0===this.gc&&(this.gc=[]),void 0===this.gc[g]&&(this.gc[g]=[]),this.gc[g].push({ec:f[l],context:d,Lb:h,Eh:!0,fired:!1,Ei:e});return this};a.X.IF=function(a){return a.Eh?a.fired?!1:a.fired=!0:!0};a.X.Qb=function(c,b){var d=this.kj(b),e,g,h,f,l,m;f=[];for(e=0;e<d.length;e+=1)g=d[e].event,
h=d[e].Lb,f.push({event:g,Lb:h});for(e=0;e<f.length;e+=1){l=this.nq(this.gc,a.X.v.ALL);d=a.X.nq(this.gc,f[e].event,!1);for(g=0;g<(d?d.length:0);g+=1)d[g].Lb===f[e].Lb&&d[g].ec&&(h=Array.prototype.slice.call(arguments),d&&d[g]&&d[g].Eh&&this.RE(a.X.nq(this.gc,f[e].event,!0),d[g]),d&&d[g]&&this.IF(d[g])&&(m=d[g].ec,c&&!d[g].SH||m.apply(d[g].context||this,h.slice(2))));for(g=0;g<(l?l.length:0);g+=1)h=Array.prototype.slice.call(arguments),0<h.length&&(h[1]=f[e].Lb?f[e].event+":"+f[e].Lb:f[e].event),l&&
l[g]&&l[g].ec&&this.IF(l[g])&&(m=l[g].ec,c&&!l[g].SH||m.apply(l[g].context||this,h.slice(1))),l&&l[g]&&l[g].Eh&&this.RE(this.nq(this.gc,a.X.v.ALL,!0),l[g])}return this};a.X.Og=function(c,b,d,e,g){var h,f,l,m;c=this.Gu(c,b);for(h in c)if(c.hasOwnProperty(h))for(b=this.kj(h),f=0;f<b.length;f+=1)l=b[f].event,m=b[f].Lb,void 0===this.gc&&(this.gc=[]),void 0===this.gc[l]&&(this.gc[l]=[]),m={ec:c[h],context:d,Lb:m,Ei:e,SH:g},-1===this.Mt(this.gc[l],m,a.X.lQ)&&this.gc[l].push(m);return this};a.X.Sv=function(a,
b,d,e){var g,h;if(null==arguments||0==arguments.length)return this.gc={},this;if(null==a)return this.QE(a,b,d,e),this;g=this.Gu(a,b);for(h in g)g.hasOwnProperty(h)&&this.QE(h,g[h],d,e);return this};a.X.Gu=function(a,b){var d={};a.constructor===String?d[a]=b:d=a;return d};a.X.QE=function(c,b,d,e){var g=[],h,f,l,m,n,q,r,p;if(c)g=a.X.kj(c);else if(void 0!==this.gc)for(f in this.gc)this.gc.hasOwnProperty(f)&&g.push({event:f});for(c=0;c<g.length;c+=1)if(f=g[c].event,l=g[c].Lb,void 0!==this.gc&&this.gc[f]instanceof
Array){m=this.gc[f];for(h=m.length-1;0<=h;h-=1)n=void 0===b||null===b||m[h].ec==b,q=void 0===d||null===d||m[h].context==d,r=void 0===l||null===l||m[h].Lb==l,p=void 0===e||null===e||m[h].Ei==e,n&&q&&r&&p&&m.splice(h,1);0===m.length&&delete this.gc[f]}};a.X.RE=function(a,b){var d,e,g,f,k,l;for(d=a.length-1;0<=d;d-=1)e=void 0===b.ec||null===b.ec||a[d].ec==b.ec,g=void 0===b.context||null===b.context||a[d].context==b.context,f=void 0===b.Lb||null===b.Lb||a[d].Lb==b.Lb,k=void 0===b.Ei||null===b.Ei||a[d].Ei==
b.Ei,l=void 0===b.Eh||null===b.Eh||a[d].Eh==b.Eh,e&&g&&f&&k&&l&&a.splice(d,1)};a.X.kj=function(a){a=a?a.split(" "):[];var b=[],d,e,g;for(d=0;d<a.length;d+=1)e=a[d].split(":"),g=e[0],e=1<e.length?e[1]:null,b.push({event:g,Lb:e});return b};a.X.lQ=function(a,b){return a.ec===b.ec&&a.Lb===b.Lb&&a.context===b.context&&a.Ei===b.Ei&&a.Eh===b.Eh};a.X.xD=function(a,b){return a.event===b.event&&a.Lb===b.Lb&&a.context===b.context&&a.object===b.object};a.X.Mt=function(a,b,d){var e;if(void 0===a)return-1;for(e=
0;e<a.length;e+=1)if(d(a[e],b))return e;return-1};a.X.nq=function(a,b,d){if(a&&a[b]instanceof Array){if(d)return a[b];d=[];var e;for(e=0;e<a[b].length;e++)d.push(a[b][e]);return d}return null};a.q=function(c,b){a.q._init(this,c,b,null)};o_("Model",a.q,a);a.b.qa(a.q,a.b,"Model.Model");a.q.prototype.Init=function(){a.q.t.Init.call(this)};a.q.prototype.attributes={};a.b.g("Model.prototype.attributes",{attributes:a.q.prototype.attributes});a.q.prototype.sc={};a.b.g("Model.prototype.defaults",{sc:a.q.prototype.sc});
a.q.prototype.id=null;a.b.g("Model.prototype.id",{id:a.q.prototype.id});a.q.prototype.Oe=null;a.b.g("Model.prototype.idAttribute",{Oe:a.q.prototype.Oe});a.q.prototype.XI=null;a.b.g("Model.prototype.urlRoot",{XI:a.q.prototype.XI});a.q.prototype.Of=null;a.b.g("Model.prototype.customURL",{Of:a.q.prototype.Of});a.q.uv=0;a.q._init=function(c,b,d,e){var g=null,f;if(!a.q.kn){c.Init();a.X.Vo(c);c.sk();c.Tx={};c.fs=!1;c.index=-1;d=d||{};c.attributes={};c.defaults&&(c.attributes=a.q.bh(a.q.$c(c.defaults)?c.defaults():
c.defaults,null));for(g in e)e.hasOwnProperty(g)&&(c[g]=e[g]);if(b)if(e=d.parse,a.q.$c(e)&&(c.parse=e),f=a.q.bh(b,c.attributes),f=e?c.parse(f):f,null==f||void 0===f)c.attributes={};else for(g in f)f.hasOwnProperty(g)&&c.al(g,f[g],!1,!1,d);c.Xo();c.Xl(d.collection);d.customURL&&(c.customURL=d.customURL);d.url&&(c.url=d.url);d.urlRoot&&(c.urlRoot=d.urlRoot);c.initialize&&c.initialize(b,d);c.Qg()}};a.q.extend=function(c,b){a.q.kn=!0;var d,e;d=new a.q;a.q.kn=!1;a.X.Vo(d,this.prototype);c=c||{};for(e in c)c.hasOwnProperty(e)&&
(d[e]=c[e]);var g;g=c&&c.constructor&&c.hasOwnProperty("constructor")?c.constructor:function(b,d){a.q._init(this,b,d,c)};g.prototype=d;g.extend=a.q.extend;g.prototype.constructor=g;a.X.Vo(g,this);if(b)for(e in b)b.hasOwnProperty(e)&&(g[e]=b[e]);return g};o_("Model.extend",a.q.extend,a);a.q.prototype.Qb=function(){};a.q.prototype.Xo=function(){this.bk()||(this.cid="id"+a.q.uv,a.q.uv+=1)};a.q.prototype.bk=function(){return this.cid};a.q.prototype.Ds=function(a){this.index=a};a.q.prototype.Es=function(a){this.UV=
a};a.q.prototype.Yo=function(a){var b=this.Ux;this.Ux=a;return b};a.q.prototype.pJ=function(c,b,d){var e,g=!1,f=a.fb.Gd(b),k,l=!1;for(e in c.attributes)c.attributes.hasOwnProperty(e)&&(k=this.attributes[e]!=c.attributes[e],f?e===b&&k&&(g=!0):k&&(g=!0),k&&(l=!0,this.attributes[e]=c.attributes[e],this.pt(e,c.attributes[e]),this.cq(e,this.attributes[e],null,d)));this.Qg();l&&this.dq(null,d);return g};a.q.qj=function(a){var b;if(a&&a instanceof Object)for(b in a)if(a.hasOwnProperty(b))return!0;return!1};
a.q.prototype.Xl=function(a){null==a?delete this.collection:this.collection=a};a.q.prototype.Uo=function(){return this.collection};a.q.prototype.cq=function(c,b,d,e){null!=c&&this.Qb(e,a.X.v.CHANGE+":"+c,this,b,d)};a.q.prototype.dq=function(c,b){this.Qb(b,a.X.v.CHANGE,this,c,null)};a.q.prototype.Qg=function(){var a=this.Mu();this.id=null!=this.attributes?this.attributes[a]:null};a.q.prototype.rw=function(c,b,d){var e=a.b.Yi(this.attributes[c],b);return d||!e?(this.attributes[c]=b,this.Qg(),!e):!1};
a.q.prototype.sk=function(){this.changed={}};a.q.prototype.pt=function(a,b){this.changed[a]=b};a.q.prototype.al=function(c,b,d,e,g){if(null==c)return!0;var f={},k,l=this.fs;g=a.q.Op(g);if(e)for(k in c)c.hasOwnProperty(k)&&(f[k]=c[k]);else f[c]=b;g=g||{};if(!this.ym(f,{validate:g.validate},!1))return!1;l||(this.sk(),this.ax=[]);this.fs||(this.Tx=a.q.bh(this.attributes,null));this.fs=!0;for(k in f)f.hasOwnProperty(k)&&(this.rw(k,f[k],d)?(this.pt(k,f[k]),this.ax.push(k)):delete f[k]);c=g.silent;for(k in f)f.hasOwnProperty(k)&&
(!c&&(0<this.ax.length||l&&-1===this.ax.indexOf(k))&&(this.oI=!0),this.cq(k,f[k],g,c));if(l)return!0;if(!c&&!l)for(;this.oI;)this.oI=!1,this.dq(g,c);this.fs=!1;return!0};a.q.prototype.clear=function(c){var b,d={silent:!0},e;c=c||{};e=c.silent;d.validate=c.validate;this.sk();for(b in this.attributes)if(this.attributes.hasOwnProperty(b)){if(!this.tr(b,d,!0))return!1;this.Qb(e,a.X.v.CHANGE+":"+b,this,void 0,null)}this.attributes={};this.Qg();this.cq(null,null,null,e);this.dq(null,e);return this};a.b.g("Model.prototype.clear",
{clear:a.q.prototype.clear});a.q.bh=function(c,b){var d;if(null===c)return null;b=b||{};var e=!1;for(d in c)if(e=!0,c.hasOwnProperty(d))if("object"!==typeof c[d])b.hasOwnProperty(d)?void 0!==c[d]&&(b[d]=c[d]):b[d]=c[d];else if(a.q.Sl(c[d]))if(null===c[d])b[d]=null;else if(b[d]=[],0===c[d].length)b[d]=c[d];else for(var g=0;g<c[d].length;g++)b[d].push(a.q.bh(c[d][g],null));else b[d]=a.q.bh(c[d],null);return e||"object"===typeof c?b:c};a.q.prototype.clone=function(){var c=new this.constructor,b;for(b in this)this.hasOwnProperty(b)&&
this[b]!==this.attributes&&(c[b]=this[b]);c.attributes=a.q.bh(this.attributes,null);delete c.cid;c.Xo();c.Qg();return c};a.b.g("Model.prototype.clone",{clone:a.q.prototype.clone});a.q.prototype.ck=function(a,b){var d=this.we();if(void 0!==d&&d==a)return!0;d=this.cid;return void 0!==d&&d==b?!0:!1};a.q.prototype.set=function(c,b,d){var e={},g=!1,f,k=!0;if(arguments&&0<arguments.length)if(1<arguments.length&&arguments[arguments.length-1]&&(g=!0,e=arguments[arguments.length-1]||{}),a.q.qj(c))if(e.unset)for(f in c)c.hasOwnProperty(f)&&
this.tr(f,null,!1);else this.al(c,null,!0,!0,e)||(k=!1);else for(f=0;f<arguments.length;f+=2)if(void 0!==arguments[f]||f<arguments.length-1||!g&&f===arguments.length-1)e.unset?this.tr(arguments[f],null,!1):this.al(arguments[f],arguments[f+1],!1,!1,e)||(k=!1);return k?this:!1};a.b.g("Model.prototype.set",{set:a.q.prototype.set});a.q.prototype.VI=function(a,b){return this.tr(a,b,!1)};a.b.g("Model.prototype.unset",{VI:a.q.prototype.VI});a.q.prototype.tr=function(a,b,d){b=b||{};var e=b.silent,g={};if(this.has(a)){if(!this.ym(g,
b,!1))return!1;d||this.sk();delete this.attributes[a];this.pt(a,void 0);this.cq(a,null,null,e);this.dq(null,e)}this.Qg();return!0};a.q.prototype.get=function(a){return this.attributes[a]};a.b.g("Model.prototype.get",{get:a.q.prototype.get});a.q.prototype.has=function(a){return void 0!==this.attributes[a]&&null!==this.attributes[a]};a.b.g("Model.prototype.has",{has:a.q.prototype.has});a.q.prototype.fetch=function(c){c=c||{};var b=c.success,d=c.error,e=this,g;g=a.q.Op(c);g.error=function(b,g,l){e.Qb(!1,
a.X.v.ERROR,e,b,c);d&&d.call(e,arguments)};g.success=function(d){a.q.fq(e,d,g);a.q.$c(this.parse)&&this.set(this.parse(d),g);b&&b.call(e,this,d,c)};a.q.gn("read",this,g)};a.b.g("Model.prototype.fetch",{fetch:a.q.prototype.fetch});a.q.prototype.parse=function(a){return a};a.q.prototype.url=function(){var c=this.GC(),b=this.we();if(c)return b?c+"/"+encodeURIComponent(b):c;if(c=this.collection)return c=a.q.$c(c.url)?c.url():c.url,b&&c?(b="/"==a.q.SO(c)?"":"/",c+b+encodeURIComponent(this.we())):c;throw"No URL defined";
};a.b.g("Model.prototype.url",{url:a.q.prototype.url});a.q.prototype.keys=function(){var a,b=[];for(a in this.attributes)this.attributes.hasOwnProperty(a)&&b.push(a);return b};a.b.g("Model.prototype.keys",{keys:a.q.prototype.keys});a.q.prototype.values=function(){var a,b=[];for(a in this.attributes)this.attributes.hasOwnProperty(a)&&b.push(this.get(a));return b};a.b.g("Model.prototype.values",{values:a.q.prototype.values});a.q.prototype.pairs=function(){var a,b=[],d;for(a in this.attributes)this.attributes.hasOwnProperty(a)&&
(d=[],d.push(a),d.push(this.get(a)),b.push(d));return b};a.b.g("Model.prototype.pairs",{pairs:a.q.prototype.pairs});a.q.prototype.nI=function(a){var b=[],d,e,g={};if(a instanceof Array)b=a;else for(d=0;d<arguments.length;d++)b.push(arguments[d]);for(e in this.attributes)this.attributes.hasOwnProperty(e)&&-1==b.indexOf(e)&&(g[e]=this.get(e));return g};a.b.g("Model.prototype.omit",{nI:a.q.prototype.nI});a.q.prototype.pI=function(a){var b=[],d,e={};if(a instanceof Array)b=a;else for(d=0;d<arguments.length;d++)b.push(arguments[d]);
for(d=0;d<b.length;d++)this.attributes.hasOwnProperty(b[d])&&(e[b[d]]=this.get(b[d]));return e};a.b.g("Model.prototype.pick",{pI:a.q.prototype.pI});a.q.prototype.WH=function(){var a,b={},d;for(a in this.attributes)this.attributes.hasOwnProperty(a)&&(d=this.get(a),b[d]=a);return b};a.b.g("Model.prototype.invert",{WH:a.q.prototype.WH});a.q.SO=function(a){return a.charAt(a.length-1)};a.q.prototype.YS=function(){var a=this.GC();return a?a:this.Uo()?this.Uo().url:null};a.q.prototype.GC=function(){return a.q.$c(this.urlRoot)?
this.urlRoot():this.urlRoot};a.q.prototype.parseSave=function(a){return a};a.q.prototype.isValid=function(){var a={};a.validate=this.validate;return this.ym(this.attributes,a,!1)};a.b.g("Model.prototype.isValid",{isValid:a.q.prototype.isValid});a.q.UQ=function(a,b){a=a||{};return void 0!==a.validate&&null!==a.validate?a.validate:b};a.q.prototype.ym=function(c,b,d){b=b||{};var e=this.validate;return e&&a.q.UQ(b,d)&&(this.validationError=e.call(this,c,b))?(this.Qb(!1,a.X.v.INVALID,this,this.validationError,
b),!1):!0};a.q.ZR=function(c){var b=!1,d={},e,g={};if(c&&0<c.length){1<c.length&&c[c.length-1]&&a.q.qj(c[c.length-1])&&(b=!0,d=c[c.length-1]||{});if(null==c[0])return{attributes:null,options:d};if(a.q.qj(c[0]))for(e in c[0])c[0].hasOwnProperty(e)&&(g[e]=c[0][e]);else for(e=0;e<c.length;e+=2)if(void 0!==c[e]||e<c.length-1||!b&&e===c.length-1)g[c[e]]=c[e+1]}return{attributes:g,options:d}};a.q.Op=function(a){var b={},d;a=a||{};for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b};a.q.prototype.save=
function(c,b){var d,e,g,f,k,l;d=a.q.ZR(arguments);var m,n,q;q=void 0===c?void 0:d.attributes;m=a.q.Op(d.options);m.wait||this.set(q);if(!this.ym(this.attributes,m,!0))return!1;d=void 0===m.forceNew?!1:m.forceNew;f=this;k=m.error;l=m.patch;m.error=function(c,d,e){f.Qb(!1,a.X.v.ERROR,f,c,b);k&&k.call(f,arguments)};m.saveAttrs=m.wait?this.fM(q):this.attributes;n=this.attributes;this.attributes=m.saveAttrs;m.saveAttrs=this.toJSON();this.attributes=n;if(!d&&!this.Yr())return e=m.success,m.success=function(c){var d;
c&&(d=a.q.$c(this.parse)?this.parse(c):c,f.attributes=d,f.Qg());a.q.fq(f,c,m);e&&e.call(a.q.ag(m,f),f,c,b);f.sk()},m.attrs=void 0===q?void 0:l?q:m.saveAttrs,a.q.gn(l?"patch":"update",this,m);g=a.q.AC(m);m.success=function(c){var d;if(c){d=a.q.$c(f.parse)?f.parse(c):c;if(!f.ym(d,m,!0))return;f.attributes=d;f.Qg()}m.wait&&f.set(q);a.q.fq(f,c,m);g&&g.call(a.q.ag(m,f),f,c,b);f.sk()};m.attrs=m.saveAttrs;m.parse=!0;return a.q.gn("create",this,m)};a.b.g("Model.prototype.save",{save:a.q.prototype.save});
a.q.prototype.fM=function(a){var b={},d;for(d in this.attributes)this.attributes.hasOwnProperty(d)&&(b[d]=this.attributes[d]);for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b};a.q.Sl=function(a){return null!=a&&a.constructor===Array};a.q.$c=function(a){return a instanceof Function};a.q.Dy=function(a){return a&&a.hasOwnProperty("value")&&a.hasOwnProperty("comparator")};a.q.prototype.nQ=function(c){for(var b in c)if(c.hasOwnProperty(b)){if(!this.attributes.hasOwnProperty(b))return!1;for(var d=a.q.Sl(c[b])?
c[b]:[c[b]],e=0;e<d.length;e++)if(a.q.Dy(d[e])){var g=d[e].comparator,f=d[e].value;if(a.fb.Gd(g))throw Error("String comparator invalid for local where/findWhere");if(!g(this,b,f))return!1}else if(c[b]!==this.attributes[b])return!1}return!0};a.q.prototype.eJ=function(a){a=a.constructor===Array?a:[a];var b;for(b=0;b<a.length;b++)if(this.nQ(a[b]))return!0;return!1};a.q.AC=function(a){return null!=a&&a.success?a.success:null};a.q.ag=function(a,b){return void 0!==a&&void 0!==a.context?a.context:b};a.q.prototype.Yr=
function(){return void 0==this.we()};a.b.g("Model.prototype.isNew",{Yr:a.q.prototype.Yr});a.q.prototype.Mu=function(){return this.idAttribute||"id"};a.q.prototype.we=function(){return this.id};a.q.prototype.$w=function(c){if(c){var b={},d;for(d in c)c.hasOwnProperty(d)&&(a.b.Yi(c[d],this.attributes[d])||(b[d]=c[d]));return a.b.isEmpty(b)?!1:b}return a.b.isEmpty(this.changed)?!1:this.changed};a.b.g("Model.prototype.changedAttributes",{$w:a.q.prototype.$w});a.q.prototype.yx=function(c){return void 0!==
c?a.q.qj(this.changed)&&this.changed.hasOwnProperty(c):a.q.qj(this.changed)};a.b.g("Model.prototype.hasChanged",{yx:a.q.prototype.yx});a.q.prototype.destroy=function(c){c=c||{};var b=c.wait,d,e=c.error,g=this,f,k;k=a.q.Op(c);d=a.q.AC(k);k.success=function(e){b&&g.uu();a.q.fq(g,e,k);d&&d.call(a.q.ag(k,g),g,e,c)};k.error=function(c,b,d){g.Qb(!1,a.X.v.ERROR,g,c,k);e&&e.call(g,arguments)};if(!this.Yr())return f=a.q.gn("delete",this,k),b||this.uu(),f;b||this.uu();d&&d.call(a.q.ag(k,g),g,null,c);return!1};
a.b.g("Model.prototype.destroy",{destroy:a.q.prototype.destroy});a.q.prototype.uu=function(){this.Qb(!1,a.X.v.DESTROY,this,this.collection,null)};a.q.fq=function(c,b,d){c.Qb(!1,a.X.v.SYNC,c,b,d)};a.q.prototype.toJSON=function(){var a={},b;for(b in this.attributes)this.attributes.hasOwnProperty(b)&&(Array.isArray(this.attributes[b])?a[b]=this.attributes[b].slice(0):a[b]=this.attributes[b]);return a};a.b.g("Model.prototype.toJSON",{toJSON:a.q.prototype.toJSON});a.q.prototype.previous=function(a){return this.Tx[a]};
a.b.g("Model.prototype.previous",{previous:a.q.prototype.previous});a.q.prototype.uI=function(){return this.Tx};a.b.g("Model.prototype.previousAttributes",{uI:a.q.prototype.uI});a.q.prototype.sync=function(a,b,d){return window.oj.sync(a,b,d)};a.q.gn=function(a,b,d){d=d||{};b.oauth&&(d.oauthHeader=b.oauth.getHeader());!d.dataType&&b.dataType&&(d.dataType=b.dataType);!d.jsonpCallback&&b.jsonpCallback&&(d.jsonpCallback=b.jsonpCallback);if("create"===a||"patch"===a||"update"===a)d.Sx=b.parseSave.call(b,
"patch"===a?b.changed:d.saveAttrs);return b.sync(a,b,d)};a.FW=function(c,b,d){d=d||{};var e,g=d.success,f=d.error;e=b.customURL;if("create"===c.valueOf())return e=new a.Cb(b.YS(),e),e.nU(d.Sx,f,d,b);if("read"===c.valueOf()){if(b instanceof a.q)return e=new a.Cb(b.url(),e),e.oV(g,f,b.we(),d,a.q.ag(d,b));e=new a.Cb(b.jJ(d),e);return e.pV(g,f,d,b)}e=new a.Cb(b.url(),e);var k=null;b instanceof a.q&&(k=b.we());return"update"===c.valueOf()?e.WI(g,k,d.Sx,f,d,b,!1):"patch"===c.valueOf()?e.WI(g,k,d.Sx,f,d,
b,!0):"delete"===c.valueOf()?e.XU(k,f,d,b):null};o_("sync",a.FW,a);a.q.eU=function(a){if(!a.url)throw Error("The url property or function must be specified");};a.ajax=function(){arguments&&0<arguments.length&&a.q.eU(arguments[0]);return f.ajax.apply(window.oj,arguments)};a.l=function(c,b){a.l.kn||a.l._init(this,c,b,null)};o_("Collection",a.l,a);a.l.prototype.Ao=null;a.b.g("Collection.prototype.model",{Ao:a.l.prototype.Ao});a.l.prototype.length=0;a.b.g("Collection.prototype.length",{length:a.l.prototype.length});
a.l.prototype.jI=[];a.b.g("Collection.prototype.models",{jI:a.l.prototype.jI});a.l.prototype.url=null;a.b.g("Collection.prototype.url",{url:a.l.prototype.url});a.l.prototype.Of=function(){return null};a.b.g("Collection.prototype.customURL",{Of:a.l.prototype.Of});a.l.prototype.VG=function(){return null};a.b.g("Collection.prototype.customPagingOptions",{VG:a.l.prototype.VG});a.l.prototype.eI=0;a.b.g("Collection.prototype.lastFetchSize",{eI:a.l.prototype.eI});a.l.prototype.hasMore=!1;a.b.g("Collection.prototype.hasMore",
{hasMore:a.l.prototype.hasMore});a.l.prototype.QI=0;a.b.g("Collection.prototype.totalResults",{QI:a.l.prototype.QI});a.l.prototype.dI=0;a.b.g("Collection.prototype.lastFetchCount",{dI:a.l.prototype.dI});a.l.prototype.iI=-1;a.b.g("Collection.prototype.modelLimit",{iI:a.l.prototype.iI});a.l.prototype.offset=0;a.b.g("Collection.prototype.offset",{offset:a.l.prototype.offset});a.l.prototype.mx=-1;a.b.g("Collection.prototype.fetchSize",{mx:a.l.prototype.mx});a.l.prototype.Ll=1;a.b.g("Collection.prototype.sortDirection",
{Ll:a.l.prototype.Ll});a.l.prototype.jf=null;a.b.g("Collection.prototype.comparator",{jf:a.l.prototype.jf});a.l.prototype.Tf=!0;a.b.g("Collection.prototype.sortSupported",{Tf:a.l.prototype.Tf});a.b.qa(a.l,a.b,"Collection.Collection");a.l.prototype.Init=function(){a.l.t.Init.call(this)};a.l.extend=function(c){a.l.kn=!0;var b=new a.l;a.l.kn=!1;var d;d=c&&c.constructor&&c.hasOwnProperty("constructor")?c.constructor:function(b,d){a.l._init(this,b,d,c)};d.prototype=b;return d.prototype.constructor=d};
o_("Collection.extend",a.l.extend,a);a.l._init=function(c,b,d,e){var g,f;c.Init();a.X.Vo(c);if(e)for(g in e)e.hasOwnProperty(g)&&(c[g]=e[g]);d=d||{};f=["url","comparator","model",a.l.ed,"modelLimit","customURL"];for(g=0;g<f.length;g++)d.hasOwnProperty(f[g])&&void 0!==d[f[g]]&&(c[f[g]]=d[f[g]]);void 0===c.Rm(null)&&c.os(-1);void 0===c.modelLimit&&c.fy(-1);c.hasMore=!1;c.rf=0;c.Ej([]);d.parse&&(b=c.parse(b));if(null!=b&&void 0!==b)for(f=b instanceof Array?b:[b],g=0;g<f.length;g+=1)c.add(f[g],d);c.ji();
e&&e.initialize&&e.initialize.call(c,b,d)};a.l.prototype.on=function(){};a.l.prototype.Og=function(){};a.l.prototype.Qb=function(){};a.l.prototype.Ej=function(a){this.models=a};a.l.prototype.Ab=function(){return this.models};a.l.prototype.jd=function(){return this.Ab().length};a.l.prototype.KR=function(a){return a<this.jd()||this.Za()&&(!this.Jk()||0===this.jd())?!1:!0};a.l.prototype.Jk=function(){return void 0!==this.totalResults&&null!=this.totalResults};a.l.prototype.gS=function(a){this.Kv(a);
this.Ab().push(a);this.rf++;a.Ds(this.jd()-1)};a.l.prototype.wE=function(a){if(a)for(var b=0;b<a.length;b++)a[b]&&this.rf--};a.l.prototype.SF=function(a,b,d){for(var e=a;e<a+b;e++)this.UE(this.Ab()[e]);void 0===d?this.wE(this.Ab().splice(a,b)):(this.wE(this.Ab().splice(a,b,d)),this.Kv(d));0>this.rf&&(this.rf=0);this.vE(a)};a.l.prototype.bc=function(a){return this.Ab()[a]};a.l.prototype.vE=function(a){this.Ab().forEach(function(b,d){d>=a&&b&&b.Ds(d)})};a.l.prototype.UE=function(a){if(a){var b=a.Ux;
a=a.UV;b?b.Es(a):this.head=a;a?a.Yo(b):this.tail=b}};a.l.prototype.Kv=function(a){a.Es(this.head);this.head?this.head.Yo(a):this.tail=a;a.Yo(null);this.head=a};a.l.prototype.pT=function(a,b){var d=this.Ab()[a];this.UE(d);d||this.rf++;this.Ab()[a]=b;b.Ds(a);this.Kv(b)};a.l.prototype.JM=function(a){var b=this.tail,d,e,g=0;for(this.tail=null;b&&g<a;)d=b.index,(e=this.Ab()[d])&&e.yx()?(this.tail||(this.tail=b),b=b.Ux):(this.rf--,-1<d&&(this.Ab()[d]=void 0),b.Es(null),b=b.Yo(null),g++);this.tail||(this.tail=
b);0>this.rf&&(this.rf=0);0===this.rf&&(this.tail=this.head=null)};a.l.prototype.En=function(){this.rf=0;this.tail=this.head=null};a.l.prototype.di=function(a){if(this.Za()){var b=this.lC();-1<b&&this.rf+a>b&&this.JM(this.rf+a-b)}};a.l.prototype.clone=function(){return this.RA(!0)};a.b.g("Collection.prototype.clone",{clone:a.l.prototype.clone});a.l.prototype.RA=function(a){var b=new this.constructor,d;this.Za()&&(b=this.YM(b),b.$E());if(a)for(a=0;a<this.Oc();a+=1)(d=this.Oh(a,null,!0,!1))&&b.Zg(d.clone(),
{at:a},!0,!1);return b};a.l.prototype.YM=function(c){var b=["totalResults","hasMore",a.l.ed],d,e;for(e=0;e<b.length;e++)d=b[e],c[d]=this[d];return c};a.l.prototype.Oc=function(){return this.length};a.l.prototype.ji=function(){var a=this.jd();this.length=a;this.Za()||(this.totalResults=a)};a.l.prototype.un=function(c,b,d){var e=null;d=d||{};d.hY=!b;e=c instanceof a.q?c:this.model?a.q.$c(this.model)?new this.model(c,d):new this.model.constructor(c,d):new a.q(c,d);return d.validate&&e.validate&&(c=e.validate(e.attributes))?
(d.validationError=c,this.Qb(!1,a.X.v.INVALID,this,c,d),null):e};a.l.prototype.add=function(a,b){this.di(1);return this.Zg(a,b,!1,(b||{}).deferred)};a.b.g("Collection.prototype.add",{add:a.l.prototype.add});a.l.prototype.Zg=function(c,b,d,e){function g(c,e,g,f,h){var k,q=null;!n&&s&&g?(t=g.pJ(e,c.comparator,m),q=g):(n||(k=c.iC(f))&&d&&l!==k.index&&a.C.warn("Duplicate ID fetched or added without merging, the id \x3d "+k.we()),void 0===k?(void 0===l?(c.gS(f),r=c.jd()-1,c.bc(r).Xo()):(r=l,c.Za()&&d?
c.pT(r,f):c.SF(r,0,f),c.bc(r).Xo(),l+=1),void 0===f.Uo()&&f.Xl(c),c.ji(),c.aR(f),w=!0,q=f):q=k);d&&(b=b||{},b.fillIn=!0);t&&void 0===k&&!u&&void 0===l&&1<c.Oc()&&(-1<r&&(p=c.bc(r).cid),e={},a.jc.kf(e,b),e.add=!0,c.sort(e),-1<r&&(r=c.indexOf(c.nx(p),h)));w&&(f?f.Qb(m,a.X.v.ADD,f,c,b):g.Qb(m,a.X.v.ADD,g,c,b));return q}function f(c,e,l){var p=c.un(e,!0,b),h=null,m=null;if(null!=p){r=-1;p.Qg();h=e instanceof a.q?e:p;if(l)return n?a.b.ma(function(a){g(c,h,void 0,p,l);a()}):c.lj(h,null,l,!0).then(function(a){m=
a.m;a=g(c,h,m,p,l);y.push(a)});!n&&s&&(m=d?c.iC(h):c.get(h));(e=g(c,h,m,p,l))&&y.push(e)}}b=b||{};var k=[],l=b.at,m=b.silent,n=b.force,q,r,p,s=b.merge||!1,u=b.sort,t=!0,w=!1,y=[];c instanceof Array?k=c:k.push(c);if(!d&&(this.Za()||e)){var v=this;return a.b.ma(function(c){function b(a){return d(a+1)}function d(c){return a.b.ma(function(a){f(v,k[c],!0).then(function(){a(c)})})}var e=d(0);for(q=1;q<k.length;q++)e=e.then(b);e.then(function(){c(a.l.hF(y))})})}for(q=0;q<k.length;q++)f(this,k[q],!1);return a.l.hF(y)};
a.l.hF=function(a){return 1===a.length?a[0]:a};a.l.prototype.rv=function(){var a=this.comparator;return void 0!==a&&null!==a};a.l.prototype.sort=function(c){c=c||{};var b=c.silent,d=this.comparator,e;if(this.rv()){if(this.Za()){var g=this.totalResults;void 0!==g?this.Ej(Array(g)):(this.Ej([]),this.En(),this.ji())}else e=this,this.Ab().sort(function(c,b){return a.l.Gs(c,b,d,e,e)}),this.vE(0);c=c.add?{add:!0}:null;this.Qb(b,a.X.v.SORT,this,c,null)}};a.b.g("Collection.prototype.sort",{sort:a.l.prototype.sort});
a.l.Tm=function(c,b){return c instanceof a.q?c.get(b):a.q.$c(c[b])?c[b]():c[b]};a.l.Gs=function(c,b,d,e,g){var f,k,l;if(a.q.$c(d)){if(1===d.length){f=d.call(g,c);k=d.call(g,b);f=a.fb.Gd(f)?f.split(","):[f];var m=a.fb.Gd(k)?k.split(","):[k];for(l=0;l<f.length;l++)if(k=a.l.dh(f[l],m[l],e.sortDirection),0!==k)return k}return d.call(g,c,b)}if(a.fb.Gd(d))for(d=d.split(","),l=0;l<d.length;l++)if(f=a.l.Tm(c,d[l]),k=a.l.Tm(b,d[l]),k=a.l.dh(f,k,e.sortDirection),0!==k)return k;return 0};a.l.prototype.GI=function(c,
b){var d=b?b:this.comparator,e;if(!d)return-1;this.Fe("sortedIndex");e=this;return a.l.lO(this.Ab(),c,function(c,b){var f,l;if(a.q.$c(d)){if(1===d.length){f=d.call(e,c);l=d.call(e,b);f=a.fb.Gd(f)?f.split(","):[f];l=a.fb.Gd(l)?l.split(","):[l];var m,n;for(n=0;n<f.length;n++)if(m=a.l.dh(f[n],l[n],e.sortDirection),0!==m)return m}return d.call(e,c,b)}return a.fb.Gd(d)?(f=c.get(d),l=b.get(d),a.l.dh(f,l,e.sortDirection)):0})};a.b.g("Collection.prototype.sortedIndex",{GI:a.l.prototype.GI});a.l.lO=function(a,
b,d){function e(g,f){var k,l;if(g>f)return-1;k=b.bk();l=b.we();if(a[g].ck(l,k))return g;if(a[f].ck(l,k))return f;k=Math.floor((f+g)/2);return-1===d(a[k],b)?e(g+1,k):1===d(a[k],b)?e(k,f-1):k}return e(0,a.length-1)};a.l.dh=function(a,b,d){if(-1===d){if(a<b)return 1;if(b<a)return-1}else{if(a>b)return 1;if(b>a)return-1}return 0};a.l.prototype.unshift=function(c,b){var d={};a.jc.kf(d,b||{});d.at||(d.at=0);this.di(1);return this.Zg(c,d,!1,d.deferred)};a.b.g("Collection.prototype.unshift",{unshift:a.l.prototype.unshift});
a.l.prototype.shift=function(a){var b=this.Pd(a);if(this.Za()||b){var d=this;return this.at(0,a).then(function(b){return d.hi(b,0,a)})}return this.hi(this.at(0),0,a)};a.b.g("Collection.prototype.shift",{shift:a.l.prototype.shift});a.l.prototype.TH=function(a){void 0===a&&(a=1);var b=[],d;for(d=0;d<this.Oc()-a;d+=1)b.push(this.at(d));return b};a.b.g("Collection.prototype.initial",{TH:a.l.prototype.TH});a.l.prototype.Pd=function(a){return(a||{}).deferred};a.l.prototype.last=function(a,b){var d=this.Pd(b);
void 0===a&&(a=1);if(1===a){var e=this.jd();0===e&&(e=a);return 0<e?this.at(e-1,d):null}var g=[],e=this.Oc();if(d||this.Za())return g=e-a,0>g&&(g=0),0===e&&(e=a),this.Tl(g,e);for(d=e-a;d<e;d+=1)g.push(this.at(d));return g};a.b.g("Collection.prototype.last",{last:a.l.prototype.last});a.l.prototype.Tl=function(c,b){var d=[],e,g=this;return a.b.ma(function(f){function k(a){return l(a+1)}function l(c){return a.b.ma(function(a){g.eu(c,null).then(function(b){d.push(b);a(c)})})}var m=l(c);for(e=c+1;e<b;e++)m=
m.then(k);m.then(function(){f(d)})})};a.l.prototype.$B=function(c){return void 0===c||null===c?this[a.l.ed]:c};a.l.prototype.yM=function(){var c=this.lastFetchCount;if(void 0===c||null===c)c=this[a.l.ed];return void 0===this.offset||null===this.offset?c:this.offset+c};a.l.prototype.next=function(c,b){b=b||{};b[a.l.ed]=this.$B(c);var d=this.yM(),e=this.Oc();if(0===e&&0<b[a.l.ed])d=0;else if(d>=e)return b.success&&b.success.call(a.q.ag(b,this),this,null,b),null;b.startIndex=d;return this.fetch(b)};
a.b.g("Collection.prototype.next",{next:a.l.prototype.next});a.l.prototype.zM=function(a){return void 0===this.offset||null===this.offset?0:this.offset-a};a.l.prototype.previous=function(c,b){b=b||{};if(0===this.offset)return b.success&&this.lastFetchCount&&b.success.call(a.q.ag(b,this),this,null,b),null;b[a.l.ed]=this.$B(c);var d=this.zM(b[a.l.ed]);0>d&&(b[a.l.ed]=this.offset,d=0);b.startIndex=d;return this.fetch(b)};a.b.g("Collection.prototype.previous",{previous:a.l.prototype.previous});a.l.prototype.fy=
function(a){this.modelLimit=a;this.di(0)};a.b.g("Collection.prototype.setModelLimit",{fy:a.l.prototype.fy});a.l.prototype.lC=function(){return this.modelLimit};a.l.prototype.os=function(c){this[a.l.ed]=c};a.b.g("Collection.prototype.setFetchSize",{os:a.l.prototype.os});a.l.prototype.yI=function(a,b){var d=this.Pd(b);void 0===a&&(a=1);var e=[];if(this.Za()||d)return this.Tl(a,this.Oc());for(d=a;d<this.Oc();d+=1)e.push(this.at(d));return e};a.b.g("Collection.prototype.rest",{yI:a.l.prototype.yI});a.l.prototype.remove=
function(c,b){b=b||{};var d=[],e;c instanceof Array?d=c:d.push(c);for(e=d.length-1;0<=e;e-=1)this.hi(d[e],-1,b);this.Qb(b.silent,a.X.v.ALLREMOVED,this,d,b)};a.b.g("Collection.prototype.remove",{remove:a.l.prototype.remove});a.l.prototype.hi=function(c,b,d){d=d||{};c=-1==b?this.lj(c):a.l.kh(b,c);var e=d.silent;b=c.index;if(-1<b){var g=c.m;void 0!==g&&g.Uo()===this&&g.Xl(null);this.SF(b,1);this.ji();var f={};a.jc.kf(f,d);f.index=b;void 0!==g&&g.Qb(e,a.X.v.REMOVE,g,this,f);this.jG(g)}return c.m};a.l.prototype.jG=
function(a){void 0!==a&&a.off(null,null,this)};a.l.prototype.aR=function(c){c.Og(a.X.v.ALL,this.sR,this,!1,!0)};a.l.prototype.sR=function(c,b,d,e){c===a.X.v.DESTROY&&this.remove(b);void 0!==d&&d instanceof a.l&&d!==this||(Array.prototype.slice.call(arguments),this.Qb(e&&e.silent,c,b,d,e))};a.l.prototype.refresh=function(c){c=c||{};var b=this;return a.b.ma(function(d,e){if(b.Za()){var g=b.totalResults;void 0!==g&&(b.Ej(Array(g)),b.En());b.Qb(void 0!==c.silent&&c.silent,a.X.v.REFRESH,b,c,null);d()}else b.reset(null,
{silent:!0}),b.fetch({success:function(c,e,g){b.Qb(void 0!==g.silent&&g.silent,a.X.v.REFRESH,b,g,null);d({collection:c,response:e,options:g})},error:function(a,c,d){e({collection:b,xhr:a,status:c,error:d})}})})};a.b.g("Collection.prototype.refresh",{refresh:a.l.prototype.refresh});a.l.prototype.reset=function(c,b){b=b||{};b.previousModels=this.Ab();this.Ab().forEach(function(a){a&&(this.jG(a),a.Xl(null))},this);this.Ej([]);this.En();if(c)if(b.parse&&(c=this.parse(c)),c instanceof Array){this.di(c.length);
for(var d=0;d<c.length;d+=1)this.Zg(c[d],b,!0,!1)}else this.di(1),this.Zg(c,b,!0,!1);this.ji();this.Qb(void 0!==b.silent&&b.silent,a.X.v.RESET,this,b,null)};a.b.g("Collection.prototype.reset",{reset:a.l.prototype.reset});a.l.prototype.at=function(a,b){return this.Oh(a,b,!1,this.Pd(b))};a.b.g("Collection.prototype.at",{at:a.l.prototype.at});a.l.prototype.Oh=function(a,b,d,e){return 0>a||this.KR(a)?null:d||!this.Za()&&!e?this.bc(a):this.eu(a,b)};a.l.prototype.eu=function(c,b){var d=this,e=d.bc(c);return void 0===
e?a.b.ma(function(e,f){var k={};a.jc.kf(k,b||{});k.context=d;k.startIndex=c;k.error=function(a,b){f(b)};d.Zp(k,-1,!1).then(function(){e(d.bc(c))},function(a){f(a)})}):a.b.ma(function(a){a(e)})};a.l.prototype.nx=function(a){var b=null;this.Ab().some(function(d){return void 0!==d&&a===d.cid?(b=d,!0):!1});if(b)return b;if(this.Za())throw Error("Not found locally and not supported by server for virtual collections");return null};a.b.g("Collection.prototype.getByCid",{nx:a.l.prototype.nx});a.l.prototype.get=
function(c,b){var d=this.lj(c,b,this.Pd(b));if(d){if(f.isFunction(d.then))return a.b.ma(function(a){d.then(function(b){a(b.m)})});if(this.Za())return a.b.ma(function(a){a(d.m)});if(d.hasOwnProperty("m"))return d.m}return null};a.b.g("Collection.prototype.get",{get:a.l.prototype.get});a.l.prototype.iC=function(a){return(a=this.jC(a))?a.m:null};a.l.prototype.jC=function(c){var b=c;c instanceof a.q?(b=c.bk(),c=c.we()):void 0!==c&&null!=c&&void 0!==c.id&&(c=c.id);var d=null;this.Ab().some(function(e,
g){return void 0!==e&&e.ck(c,b)?(d=a.l.kh(g,e),!0):!1});return d?d:a.l.kh(-1,void 0)};a.l.prototype.lj=function(c,b,d,e){var g=c;void 0===e&&(e=!1);c instanceof a.q?(g=c.bk(),c=c.we()):void 0!==c&&null!=c&&void 0!==c.id&&(c=c.id);var f=null;this.Ab().some(function(b,d){return void 0!==b&&b.ck(c,g)?(f=a.l.kh(d,b),!0):!1});if(f)return d?a.b.ma(function(a){a(f)}):f;if(this.Za()){if(void 0===c&&void 0!==g)return a.b.ma(function(b){b(a.l.kh(-1,void 0))});var k=this;return a.b.ma(function(d,l){var f={};
a.jc.kf(f,b||{});f.context=k;f.startID=c;f.error=function(a,b){l(b)};k.Zp(f,-1,e).then(function(b){if(null!=b){b=k.Vu();var e=k.bc(b);void 0!==e&&e.ck(c,g)?d(a.l.kh(b,e)):d(a.l.kh(-1,void 0))}else d(a.l.kh(-1,void 0))},function(a){l(a)})})}var l=a.l.kh(-1,void 0);return d?a.b.ma(function(a){a(l)}):l};a.l.kh=function(a,b){return{index:a,m:b}};a.l.prototype.parse=function(a){var b;if(a instanceof Array||!a)return a;for(b in a)if(a.hasOwnProperty(b)&&a[b]instanceof Array)return a[b];return a};a.l.prototype.ps=
function(c,b){var d=this.Pu(c,b);if(d.start===c&&d.count===b)return a.b.ma(function(a){a(d)});var e=this.lC();-1<e&&e<b&&(this.modelLimit=b);var g=this;return a.b.ma(function(a,d){g.EF(c,b,-1,{start:c,count:b},a,d,!0)})};a.b.g("Collection.prototype.setRangeLocal",{ps:a.l.prototype.ps});a.l.prototype.EF=function(c,b,d,e,g,f,k){var l=this,m=this.Ru(c,b);this[a.l.ed]&&this[a.l.ed]>m-c&&(m=this[a.l.ed]+c);!this.Jk()&&m<c+b&&(m=c+b);var n=this.cC(c,m);n>c&&(c=n,m=this.Ru(n,b));m=this.Za()?{context:this,
startIndex:c,fetchSize:m-c}:{context:this};m.error=function(a,b){f(b)};this.Zp(m,d,-1<d).then(function(){var a=l.Pu(e.start,e.count);if(k&&l.Jk()&&a.count<e.count){var d=a.start+a.count,p=c+b;p<l.totalResults?l.EF(p,b,d,e,g,f,k):g(a)}else g(a)},function(a){f(a)})};a.l.prototype.Ru=function(a,b){var d=this.jd();return 0===d?a+b:a+b>d?d:a+b};a.l.prototype.Fx=function(a,b){var d=this.Pu(a,b);return a===d.start&&b===d.count};a.b.g("Collection.prototype.isRangeLocal",{Fx:a.l.prototype.Fx});a.l.prototype.Pu=
function(a,b){if(!this.Za())return 0<this.jd()?{start:a,count:b}:{start:a,count:0};var d=this.Ru(a,b);if(!this.Jk()&&d<a+b||0===d)return{start:a,count:0};d=this.cC(a,d);return-1<d?{start:a,count:d-a}:{start:a,count:b}};a.l.prototype.cC=function(a,b){for(var d=a;d<b;d++)if(void 0===this.bc(d))return d;return-1};a.l.prototype.fetch=function(a){return this.Zp(a,-1,!1)};a.b.g("Collection.prototype.fetch",{fetch:a.l.prototype.fetch});a.l.prototype.Zp=function(c,b,d){function e(a,b,c){a.Za()?c||a.$E():
b.add||b.oy||a.reset()}var g=c||{},f=g.success,k;g.set&&(g.oy=g.set?!0:!1);void 0===g.parse&&(g.parse=!0);k=this;g.success=function(l){k.qT(l,c);var m=k.parse(l,c),n=null;if(g.add||k.model){e(k,g,d);try{r=!1,-1===b&&(r=!0,b=k.Vu()),n=k.kO(m,b,r,g)}catch(q){g.error&&g.error.call(a.q.ag(c,k),k,q,c);return}}else if(!d)if(k.Za()){e(k,g,d);var r=!1;-1===b&&(r=!0,b=k.Vu());n=k.hS(m,b,r)}else g.oy?k.pw(m,!1,g,!1):k.reset(m);k.Za()&&n&&(k.lastFetchCount=n.length);k.Qb(!1,a.X.v.SYNC,k,l,g);f&&f.call(a.q.ag(c,
k),k,l,g)};return this.HB(g)};a.l.prototype.hS=function(a,b,d){var e;if(a){e=a instanceof Array?a:[a];a={};d&&this.di(e.length);d=this.Za();for(var g=null,f=0;f<e.length;f+=1)d&&(a={at:b},g=this.Oh(b,null,!0,!1)),a.silent=!0,this.Zg(e[f],a,!0,!1),this.Oh(b,null,!0,!1)!==g&&b++}return e};a.l.prototype.kO=function(c,b,d,e){e=e||{};var g=e.parse,f=a.l.ZA(this);if(c){var k=c instanceof Array?c:[c];c={};d&&this.di(k.length);d=this.Za();if(e.oy&&!d){for(var l=0;l<k.length;l+=1)b=f&&g?f.parse(k[l]):k[l],
k[l]=b;this.pw(k,!1,e,!1)}else{e=null;for(var m=b,l=0;l<k.length;l+=1)b=f&&g?f.parse(k[l]):k[l],d&&(c={at:m},e=this.Oh(m,c,!0,!1)),c.silent=!0,this.Zg(b,c,!0,!1),this.Oh(m,null,!0,!1)!==e&&m++}}return k};a.l.prototype.hO=function(c){var b=c||{},d=b.success,e,g;void 0===b.parse&&(b.parse=!0);g=this;b.success=function(f){var k,l;k=g.parse(f,c);var m=null,n=[];if(b.add||g.model)if(l=a.l.ZA(g),k)for(m=k instanceof Array?k:[k],k=0;k<m.length;k+=1)e=l&&b.parse?l.parse(m[k]):m[k],n.push(g.un(e));g.Qb(!1,
a.X.v.SYNC,g,f,b);d&&d.call(a.q.ag(c,g),g,n,b)};this.HB(b)};a.l.ZA=function(c){if(c.model)return a.q.$c(c.model)?new c.model:new c.model.constructor};a.l.prototype.HB=function(c){try{return a.q.gn("read",this,c)}catch(b){throw this.Qb(!1,a.X.v.ERROR,this,null,c),b;}};a.l.prototype.$E=function(){var a=this.totalResults;void 0!==a&&this.jd()!==a&&(this.Ej(Array(a)),this.En(),this.ji())};a.l.prototype.Rm=function(c){c=c||{};return c[a.l.ed]||this[a.l.ed]};a.l.prototype.Za=function(){return-1<this.Rm(null)};
a.l.prototype.sq=function(c,b,d,e,g){c=parseInt(a.l.Zu(c,b,d),10);return void 0===c||null===c||isNaN(c)?e?e:g:c};a.l.prototype.qT=function(c,b){var d={};this.customPagingOptions&&((d=this.customPagingOptions.call(this,c))||(d={}));b=b||{};this.lastFetchSize=this.sq(d,c,"limit",b.fetchSize,this.fetchSize);this.offset=this.sq(d,c,"offset",b.startIndex,0);this.lastFetchCount=this.sq(d,c,"count",this.lastFetchCount,this.lastFetchCount);this.totalResults=this.sq(d,c,"totalResults",this.totalResults,this.totalResults);
this.hasMore=this.NO(a.l.Zu(d,c,"hasMore"),this.offset,this.lastFetchSize,this.totalResults);!this.Za()&&this.totalResults&&this.totalResults!==this.lastFetchCount&&this.lastFetchSize&&this.os(this.lastFetchSize)};a.l.prototype.NO=function(a,b,d,e){return a&&void 0!==a?a:b+d>e?!1:!0};a.l.Zu=function(a,b,d){return a.hasOwnProperty(d)?a[d]:b?b[d]:void 0};a.l.prototype.Vu=function(){return void 0!==this.offset?this.offset:0};a.l.prototype.create=function(c,b){function d(b,d){b.save(c instanceof a.q?
null:c,d);return b}var e=this.Pd(b);b=b||{};var g=this.un(c,!0,b),f=b.success,k=b.context;b.context=this;b.success=function(a,b,c){f&&f.call(null!=k?k:this,a,b,c)};if(null==g)return!1;b.forceNew=null!=g.we();g.Xl(this);var l=this;if(e||this.Za())return a.b.ma(function(a){l.add(g,{merge:!0,deferred:!0}).then(function(){b.success=function(b,c,d){f&&f.call(null!=k?k:l,b,c,d);a(b)};var c=d(g,b);c||a(c)})});this.add(g,{merge:!0});return d(g,b)};a.b.g("Collection.prototype.create",{create:a.l.prototype.create});
a.l.prototype.rI=function(a){var b=[],d;this.Fe("pluck");for(d=0;d<this.Oc();d+=1)b.push(this.at(d).get(a));return b};a.b.g("Collection.prototype.pluck",{rI:a.l.prototype.rI});a.l.prototype.Nl=function(c,b){b=b||{};var d=this.Pd(b),e=this;if(this.Za())return a.b.ma(function(a,b){e.hO({query:c,all:!0,success:function(b,c){a(c)},error:function(a,c,d){b({collection:a,xhr:c,error:d})}})});var g=[],f,k;for(f=0;f<this.Oc();f+=1)k=this.at(f),k.eJ(c)&&g.push(k);return d?a.b.ma(function(a){a(g)}):g};a.b.g("Collection.prototype.where",
{Nl:a.l.prototype.Nl});a.l.prototype.YI=function(c,b){b=b||{};var d=this.Pd(b),e=this;if(this.Za()||d)return a.b.ma(function(a){return e.Nl(c,b).then(function(b){b=e.FD(b);a(b)})});d=this.Nl(c,b);d=this.FD(d);d[a.l.ed]=-1;d.ji();return d};a.b.g("Collection.prototype.whereToCollection",{YI:a.l.prototype.YI});a.l.prototype.FD=function(a){var b=this.RA(!1);b.Ej(a);b.En();b.ji();return b};a.l.prototype.Fe=function(a){if(this.Za())throw Error(a+" not valid on a virtual Collection");};a.l.prototype.map=
function(a,b){var d=[],e;this.Fe("map");this.Ab().forEach(function(g){e=a.call(b||this,g);d.push(e)});return d};a.b.g("Collection.prototype.map",{map:a.l.prototype.map});a.l.prototype.each=function(a,b){this.Fe("each");this.Ab().forEach(a,b)};a.b.g("Collection.prototype.each",{each:a.l.prototype.each});a.l.prototype.size=function(){return this.Oc()};a.b.g("Collection.prototype.size",{size:a.l.prototype.size});a.l.prototype.FI=function(c,b){var d=[],e;this.Fe("sortBy");this.Ab().forEach(function(a){d.push(a)});
e=this;d.sort(function(d,f){var k,l;if(a.q.$c(c))return k=c.call(b||e,d),l=c.call(b||e,f),a.l.dh(k,l,e.sortDirection);k=d.get(c);l=f.get(c);return a.l.dh(k,l,e.sortDirection)});return d};a.b.g("Collection.prototype.sortBy",{FI:a.l.prototype.FI});a.l.prototype.NH=function(c,b){var d={},e;this.Fe("groupBy");this.Ab().forEach(function(g){e=a.q.$c(c)?c.call(b||this,g):g.get(c);void 0===d[e]&&(d[e]=[]);d[e].push(g)},this);return d};a.b.g("Collection.prototype.groupBy",{NH:a.l.prototype.NH});a.l.prototype.min=
function(a,b){var d={},e,g;this.Fe("min");if(0==this.jd())return null;d=this.bc(0);e=a.call(b||this,this.bc(0));this.Ab().forEach(function(f,k){1<=k&&(g=a.call(b||this,f),g<e&&(d=f,e=g))},this);return d};a.b.g("Collection.prototype.min",{min:a.l.prototype.min});a.l.prototype.max=function(a,b){var d={},e,g;this.Fe("max");if(0==this.jd())return null;d=this.bc(0);e=a.call(b,this.bc(0));this.Ab().forEach(function(f,k){1<=k&&(g=a.call(b||this,f),g>e&&(d=f,e=g))},this);return d};a.b.g("Collection.prototype.max",
{max:a.l.prototype.max});a.l.prototype.filter=function(a,b){var d=[];this.Fe("filter");this.Ab().forEach(function(e){a.call(b||this,e)&&d.push(e)});return d};a.b.g("Collection.prototype.filter",{filter:a.l.prototype.filter});a.l.prototype.ZI=function(a){var b=[],d,e,g,f;this.Fe("without");for(var k,l=0;l<this.Ab().length;l++){f=!0;k=this.Ab()[l];for(d=0;d<arguments.length;d+=1)if(g=arguments[d].bk(),e=arguments[d].we(),k.ck(e,g)){f=!1;break}f&&b.push(k)}return b};a.b.g("Collection.prototype.without",
{ZI:a.l.prototype.ZI});a.l.prototype.isEmpty=function(){return 0===this.Oc()};a.b.g("Collection.prototype.isEmpty",{isEmpty:a.l.prototype.isEmpty});a.l.prototype.BG=function(a,b){this.Fe("any");for(var d,e=0;e<this.jd();e+=1)if(d=this.bc(e),a.call(b||this,d))return!0;return!1};a.b.g("Collection.prototype.any",{BG:a.l.prototype.BG});a.l.prototype.aH=function(c,b){var d=this.Pd(b),e=this;if(this.Za()||d)return a.b.ma(function(a){e.Nl(c,b).then(function(b){b&&0<b.length&&a(b[0]);a(null)})});d=this.Nl(c);
return 0<d.length?d[0]:null};a.b.g("Collection.prototype.findWhere",{aH:a.l.prototype.aH});a.l.prototype.slice=function(a,b,d){var e=this.Pd(d);d=[];if(void 0===b){if(this.JX&&!this.Jk())throw Error("End must be set for virtual collections with no totalResults");b=this.jd()}if(e||this.Za())return this.Tl(a,b);for(;a<b;a+=1)d.push(this.bc(a));return d};a.b.g("Collection.prototype.slice",{slice:a.l.prototype.slice});a.l.prototype.set=function(a,b){return this.pw(a,!0,b,this.Pd(b)||this.Za())};a.b.g("Collection.prototype.set",
{set:a.l.prototype.set});a.l.OE=function(a,b,d,e){if(b)for(b=a.jd()-1;0<=b;b-=1)-1==d.indexOf(b)&&a.hi(a.bc(b),b,e)};a.l.prototype.pw=function(c,b,d,e){d=d||{};var g=void 0===d.add?!0:d.add,f=void 0===d.remove?!0:d.remove,k=void 0===d.merge?!0:d.merge,l=[],m=null,n;b&&(c=this.parse(c));n=a.q.Sl(c)?c:[c];if(e)return this.EN(n,d,f,g,k,b);for(c=0;c<n.length;c+=1)m=this.oG(this.un(n[c],b,d),g,k,e),-1!==m&&l.push(m);a.l.OE(this,f,l,d)};a.l.prototype.EN=function(c,b,d,e,g,f){var k=[],l,m=this;return a.b.ma(function(n){function q(a){return r(a+
1)}function r(d){return a.b.ma(function(a){m.oG(m.un(c[d],f,b),e,g,!0).then(function(b){-1!==b&&k.push(b);a(d)})})}var p=r(0);for(l=1;l<c.length;l+=1)p=p.then(q);p.then(function(){a.l.OE(m,d,k,b);n()})})};a.l.prototype.oG=function(c,b,d,e){function g(e,g,f){var h=g?g.index:-1;if(g&&g.m){if(d){var k={merge:d};if(f)return a.b.ma(function(a){e.Zg(c,k,!1,!0).then(function(){a(h)})});e.add(c,k)}}else if(b){if(f)return a.b.ma(function(a){e.add(c,{deferred:!0}).then(function(){a(e.Oc()-1)})});e.add(c);h=
e.Oc()-1}return h}if(e||this.Za()){var f=this;return a.b.ma(function(a){f.lj(c,null,e).then(function(b){g(f,b,!0).then(function(b){a(b)})})})}var k=this.lj(c);return g(this,k,!1)};a.l.prototype.toJSON=function(){var a=[];this.Fe("toJSON");this.Ab().forEach(function(b){a.push(b.toJSON())});return a};a.b.g("Collection.prototype.toJSON",{toJSON:a.l.prototype.toJSON});a.l.prototype.first=function(a,b){var d=this.Pd(b),e=this.Oc(),g=[];a?e=a:a=1;d=this.Za()||d;if(1===a)return d?this.eu(0,null):0<this.jd()?
this.bc(0):null;e>this.jd()&&(!this.Za()||this.Jk())&&(e=this.jd());if(d)return this.Tl(0,e);for(d=0;d<e;d+=1)g.push(this.bc(d));return g};a.b.g("Collection.prototype.first",{first:a.l.prototype.first});a.l.prototype.indexOf=function(a,b){var d=this.Pd(b);return this.Za()||d?this.lj(a,null,!0).then(function(a){return a.index}):this.lj(a).index};a.b.g("Collection.prototype.indexOf",{indexOf:a.l.prototype.indexOf});a.l.prototype.jR=function(a){a=this.jC(a);return void 0!==a?a.index:-1};a.l.prototype.pop=
function(a){var b=this.Pd(a);if(this.Za()||b){var d=this;return this.at(this.Oc()-1,{deferred:b}).then(function(b){d.remove(b,a);return b})}b=this.at(this.Oc()-1);this.remove(b,a);return b};a.b.g("Collection.prototype.pop",{pop:a.l.prototype.pop});a.l.prototype.push=function(a,b){var d=this.Pd(b);this.di(1);return this.Zg(a,b,!1,d)};a.b.g("Collection.prototype.push",{push:a.l.prototype.push});a.l.prototype.lastIndexOf=function(c,b){var d;this.Fe("lastIndexOf");void 0===b&&(b=0);for(d=this.Oc()-1;d>=
b;d-=1)if(a.b.Yi(c,this.at(d)))return d;return-1};a.b.g("Collection.prototype.lastIndexOf",{lastIndexOf:a.l.prototype.lastIndexOf});a.l.prototype.cv=function(a){return void 0===a?[]:a.split(",")};a.l.jP=function(c){c=a.q.Sl(c)?c:[c];var b="",d,e,g,f;for(g=0;g<c.length;g++){d=c[g];for(f in d)if(d.hasOwnProperty(f))for(var k=a.q.Sl(d[f])?d[f]:[d[f]],l=0;l<k.length;l++){if(a.q.Dy(k[l])){e=k[l].value;var m=null,m=k[l].comparator,m=a.q.$c(m)?m(null,f,e):m;e=f+m+e}else e=f+"\x3d"+d[f];b+=e+"+"}b=b.substring(0,
b.length-1)+","}return","===b.substring(b.length-1)?b.substring(0,b.length-1):b};a.l.prototype.tJ=function(c){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);if((c=this.comparator)&&a.fb.Gd(c)){c=this.cv(c);for(d=0;d<c.length;d++)b.sort=0===d?c[d]:b.sort+(","+c[d]);b.sortDir=this.dv()}this.Za()&&(b[a.l.ed]=this.Rm(b));return b};a.l.prototype.jJ=function(c){var b=a.q.$c(this.url)?this.url():this.url;if(this.Za()){var d=c.all,e=null;e=d?(e=this.totalResults)?e:this.Rm(c):this.Rm(c);b+="?limit\x3d"+
e;d||(c.startIndex&&(b+="\x26offset\x3d"+c.startIndex),c.startID&&(b+="\x26fromID\x3d"+c.startID),c.since&&(b+="\x26since\x3d"+c.since),c.until&&(b+="\x26until\x3d"+c.until));c.query&&(c=a.l.jP(c.query))&&0<c.length&&(b+="\x26q\x3d"+c);if(c=this.comparator)for(c=this.cv(c),d=this.dv(),e=0;e<c.length;e++)b=0===e?b+("\x26orderBy\x3d"+c[e]+":"+d):b+(","+c[e]+":"+d);b+="\x26totalResults\x3dtrue"}return b};a.l.prototype.dv=function(){return-1===this.sortDirection?"desc":"asc"};a.l.prototype.sync=function(a,
b,d){return window.oj.sync(a,b,d)};a.l.ed="fetchSize";a.Cb=function(a,b){this.Io=a;this.Of=b;f.support.cors=!0};a.Cb.ik="headers";a.Cb.Un=function(c,b,d){var e;c=f.extend(!0,c,d);for(e in b)b.hasOwnProperty(e)&&"oauthHeader"!==e&&(c.hasOwnProperty(e)||(c[e]=b[e]),e===a.Cb.ik&&(c[e]=f.extend(!0,c[e],b[e])));if(b.oauthHeader)for(e in c[a.Cb.ik]||(c[a.Cb.ik]={}),b.oauthHeader)b.oauthHeader.hasOwnProperty(e)&&(c[a.Cb.ik].hasOwnProperty(e)||(c[a.Cb.ik][e]=b.oauthHeader[e]));return c};a.Cb.prototype.pV=
function(c,b,d,e){d=d||{};var g="jsonp"===d.dataType,f=this.$m("read",this.Io,this.Of,null,e,d);c={crossDomain:d.crossDomain||!g,dataType:d.dataType||"json",jsonpCallback:d.jsonpCallback,context:null!==e?e:this,success:c,error:b};c=this.wp(c);c=a.Cb.Un(c,d,f);d.xhr=this.ajax(c);return d.xhr};a.Cb.prototype.wp=function(c){c[a.Cb.ik]={"Accept-Language":this.Ke()};return c};a.Cb.prototype.oV=function(c,b,d,e,g){e=e||{};var f="jsonp"===e.dataType;d=this.$m("read",this.Io,this.Of,d,g,e);c={crossDomain:e.crossDomain||
!f,dataType:e.dataType||"json",jsonpCallback:e.jsonpCallback,context:null!==g?g:this,success:c,error:b};c=this.wp(c);c=a.Cb.Un(c,e,d);e.xhr=this.ajax(c);return e.xhr};a.Cb.prototype.WI=function(c,b,d,e,g,f,k){g=g||{};var l="jsonp"===g.dataType;b=this.$m(k?"patch":"update",this.Io,this.Of,b,f,g);c={crossDomain:g.crossDomain||!l,contentType:g.contentType||"application/json",dataType:g.dataType||"json",jsonpCallback:g.jsonpCallback,data:JSON.stringify(d),success:c,error:e,context:null!==f?f:this};c=
this.wp(c);c=a.Cb.Un(c,g,b);g.xhr=this.ajax(c);return g.xhr};a.Cb.prototype.Ju=function(a,b){return b.type?b.type:"create"===a?"POST":"delete"===a?"DELETE":"patch"===a?"PATCH":"update"===a?"PUT":"GET"};a.Cb.prototype.eT=function(c,b,d){b=b instanceof a.l?b.tJ(d):{};c&&(b.recordID=c);return b};a.Cb.prototype.$m=function(c,b,d,e,g,f){if(a.q.$c(d)){d=d.call(this,c,g,this.eT(e,g,f));if(a.fb.Gd(d))return{url:d,type:this.Ju(c,f)};if(d)return d.url=d.hasOwnProperty("url")?d.url:b,d.type=d.hasOwnProperty("type")?
d.type:this.Ju(c,f),d}return{url:b,type:this.Ju(c,f)}};a.Cb.prototype.XU=function(c,b,d,e){d=d||{};var g="jsonp"===d.dataType;c=this.$m("delete",this.Io,this.Of,c,e,d);b={crossDomain:d.crossDomain||!g,success:d.success,error:b,context:null!==e?e:this};b=a.Cb.Un(b,d,c);d.xhr=this.ajax(b);return d.xhr};a.Cb.prototype.nU=function(c,b,d,e){d=d||{};var g=JSON.stringify(c),f="jsonp"===d.dataType;c=this.$m("create",this.Io,this.Of,null,e,d);b={crossDomain:d.crossDomain||!f,contentType:d.contentType||"application/json",
dataType:d.dataType||"json",jsonpCallback:d.jsonpCallback,data:g,success:d.success,error:b,context:null!==e?e:this};b=this.wp(b);b=a.Cb.Un(b,d,c);d.xhr=this.ajax(b);return d.xhr};a.Cb.prototype.Ke=function(){return a.ha.Ke()};a.Cb.prototype.ajax=function(a){return window.oj.ajax(a)};a.cb=function(c,b){b=b||{};a.cb._init(this,b,c||"Authorization")};o_("OAuth",a.cb,a);a.b.qa(a.cb,a.b,"OAuth.OAuth");a.cb.prototype.Init=function(){a.cb.t.Init.call(this)};a.cb.prototype.tH=function(){var a={};this.ni.access_token||
this.cx();a[this.qg.IG]="Bearer "+this.ni.access_token;return a};a.b.g("OAuth.prototype.getHeader",{tH:a.cb.prototype.tH});a.cb.prototype.$H=function(){return this.ni.QX?!0:!1};a.b.g("OAuth.prototype.isInitialized",{$H:a.cb.prototype.$H});a.cb.prototype.cx=function(){var c={},b=this;c[b.qg.IG]="Basic "+a.cb.kM(b.qg.client_id+":"+b.qg.client_secret);f.ajax({type:"POST",async:!1,url:this.qg.bearer_url,data:"grant_type\x3dclient_credentials",headers:c,success:function(c){a.cb.dn(b.ni,c)},error:function(a){throw Error(a.responseText);
}})};a.b.g("OAuth.prototype.clientCredentialGrant",{cx:a.cb.prototype.cx});a.cb.prototype.CI=function(c){a.cb.dn(this.ni,c)};a.b.g("OAuth.prototype.setAccessTokenResponse",{CI:a.cb.prototype.CI});a.cb.prototype.iH=function(){return this.ni};a.b.g("OAuth.prototype.getAccessTokenResponse",{iH:a.cb.prototype.iH});a.cb.prototype.MG=function(){a.cb.IA(this.ni)};a.b.g("OAuth.prototype.cleanAccessTokenResponse",{MG:a.cb.prototype.MG});a.cb.prototype.BI=function(c){a.cb.dn(this.qg,c)};a.b.g("OAuth.prototype.setAccessTokenRequest",
{BI:a.cb.prototype.BI});a.cb.prototype.hH=function(){return this.qg};a.b.g("OAuth.prototype.getAccessTokenRequest",{hH:a.cb.prototype.hH});a.cb.prototype.LG=function(){a.cb.IA(this.qg)};a.b.g("OAuth.prototype.cleanAccessTokenRequest",{LG:a.cb.prototype.LG});a.cb._init=function(c,b,d){c.Init();c.qg={};c.ni={};b.access_token?a.cb.dn(c.ni,b):b.client_id&&b.client_secret&&b.bearer_url&&a.cb.dn(c.qg,b);c.qg.IG=d};a.cb.dn=function(a,b){var d;b=b||{};for(d in b)a[d]=b[d]};a.cb.IA=function(a){for(var b in a)a.hasOwnProperty(b)&&
"auth_header"!==b&&(a[b]=null,delete a[b])};a.cb.kM=function(a){var b,d,e,g,f=0,k=0,l=[];do b=a.charCodeAt(f++),d=a.charCodeAt(f++),e=a.charCodeAt(f++),g=b<<16|d<<8|e,b=g>>18&63,d=g>>12&63,e=g>>6&63,g&=63,l[k++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(g);
while(f<a.length);l=l.join("");b=a.length%3;return(b?l.slice(0,b-3):l)+"\x3d\x3d\x3d".slice(b||3)}});
//# sourceMappingURL=oj-modular.map