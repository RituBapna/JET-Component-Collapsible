/*
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
*/
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojvalidation","ojs/ojpopup"],function(a,f){a.Va=function(a){this.Init(a)};a.Ua.wy(a.Ua.fd.lp,a.Va);a.b.ra(a.Va,a.Tb,"oj.PopupMessagingStrategy");a.Va.Xg={ojRadioset:{position:"launcher",zg:{open:"focusin mouseover",close:"mouseout"}},ojCheckboxset:{position:"launcher",zg:{open:"focusin mouseover",close:"mouseout"}},"default":{zg:{open:"focusin"}}};a.Va.xK="oj-component-icon oj-message-status-icon ";a.Va.prototype.vi=function(b){a.Va.t.vi.call(this,
b);this.ED()};a.Va.prototype.Wo=function(b){a.Va.t.Wo.call(this,b);this.VG()};a.Va.prototype.update=function(){a.Va.t.update.call(this);this.VG()};a.Va.prototype.yg=function(){var b=a.Va.Xg[this.Ue().widgetName],b=b?b.zg:a.Va.Xg["default"].zg;b.open&&(this.vd().off(b.open,this.DE),this.vd().off(b.open,this.as));b.close&&this.vd().off(b.close,this.ou);this.oO();a.Va.t.yg.call(this)};a.Va.prototype.ou=function(a){a=a.data&&a.data.strategy;a.Md.ojPopup("close",a.vd())};a.Va.prototype.ED=function(){var b=
this.vd(),c=a.Va.Xg[this.Ue().widgetName],c=c?c.zg:a.Va.Xg["default"].zg;if(!this.Zk())b.on(c.open,{strategy:this},this.as)};a.Va.prototype.DE=function(a){(a.data&&a.data.strategy).Iu()};a.Va.prototype.Iu=function(){var b=this.WA(),c;this.Zk()&&b&&(c=this.Md[0],c.innerHTML="",c.innerHTML=b,b=this.vd(),c=b.is("[id]")?b.attr("id"):b.uniqueId().attr("id"),this.Md.ojPopup("widget").attr(a.da.cg,c),this.Md.ojPopup("open",b))};a.Va.prototype.ou=function(a){a=a.data&&a.data.strategy;a.Md.ojPopup("close",
a.vd())};a.Va.prototype.ED=function(){var b=this.vd(),c=a.Va.Xg[this.Ue().widgetName],c=c?c.zg:a.Va.Xg["default"].zg;if(!this.Zk())b.on(c.open,{strategy:this},this.as)};a.Va.prototype.VG=function(){var a;a=!1;var b,c;this.Zk()&&(a=this.Md.ojPopup("isOpen"),b=this.WA(),c=document.activeElement===this.vd()[0]?!0:!1,a?b?(a=this.Md[0],a.innerHTML="",a.innerHTML=b):this.Md.ojPopup("close",this.vd()):c&&b&&this.Iu())};a.Va.prototype.as=function(b){b=b.data&&b.data.strategy;if(!b.Zk()){var c=b.vd(),d=b.MP(),
e=a.Va.Xg[b.Ue().widgetName],e=e?e.zg:a.Va.Xg["default"].zg;b.Ue().widget();b.Md=f("\x3cdiv class\x3d'oj-messaging-popup-container'\x3e\x3c/div\x3e");f("body").append(b.Md);b.Md.ojPopup({rootAttributes:{"class":"oj-messaging-popup"},initialFocus:"none",tail:"simple",autoDismiss:"focusLoss",position:{my:"start bottom",at:"end top",collision:"flip",of:d}});d={strategy:b};if(e.open)c.on(e.open,d,b.DE);if(e.close)c.on(e.close,d,b.ou);b.vd().off(e.open,b.as);b.Iu()}};a.Va.prototype.MP=function(){var b=
a.Va.Xg[this.Ue().widgetName];return b&&b.position&&"launcher"===b.position?this.vd():this.Ue().widget()};a.Va.prototype.oO=function(){this.Zk()&&this.Md&&(this.Md.ojPopup("destroy"),this.Md.remove())};a.Va.prototype.WA=function(){var a="",b=this.Ue().document[0],c=[],d=!1,e=this;this.hK()&&c.push(this.YM());(this.dt()||this.jz()||this.iz())&&c.push(this.XM(b));f.each(c,function(c,g){g&&(d?a=a.concat(e.TP(b)):d=!0,a=a.concat(g))});return a};a.Va.prototype.YM=function(){var b,c="",d,e,g,f,h;e=this.Yy();
var k,u={};b=[];if(this.$y()){b=this.Zy();for(d=0;d<b.length;d++)h=b[d],h=h instanceof a.U?h:new a.U(h.summary,h.detail,h.severity),f=a.U.Kl(h.severity),u[f]||(u[f]=[]),u[f].push(h);for(d=e;d>=a.U.Lb.CONFIRMATION;d--)for(b=u[d]||[],e=0;e<b.length;e++)h=b[e],a.i.mb(h,a.U),f=a.U.Kl(h.severity),g=this.WP(f),k=h.summary||g,h=h.detail||"",c=c.concat("\x3cdiv class\x3d'oj-message'\x3e").concat("\x3cspan class\x3d'"+this.VP(f)+"' title\x3d'"+g+"' role\x3d'img'\x3e\x3c/span\x3e").concat("\x3cspan class\x3d'oj-message-content'\x3e").concat("\x3cdiv class\x3d'oj-message-summary'\x3e"+
k+"\x3c/div\x3e"),h&&(c=c.concat("\x3cdiv class\x3d'oj-message-detail'\x3e"+h+"\x3c/div\x3e")),c=c.concat("\x3c/div\x3e")}return c};a.Va.prototype.XM=function(a){var b=[],c,d="";this.dt()&&(b=this.Xy(),b=b.length?b[0]:"",d+=this.Tt(a,"oj-form-control-hint-converter",b));if(this.jz())for(b=this.RJ(),c=0;c<b.length;c++)d+=this.Tt(a,"oj-form-control-hint-validator",b[c]);this.iz()&&(d+=this.Tt(a,"oj-form-control-hint-title",this.QJ()));return d?"\x3cdiv class\x3d'oj-form-control-hints'\x3e"+d+"\x3c/div\x3e":
""};a.Va.prototype.Tt=function(a,b,c){var d,e="oj-form-control-hint";c&&(d=f(a.createElement("div")),d.addClass(e+(" "+b)),d.append(this.tP(a,c)));return d?d.get(0).outerHTML:""};a.Va.prototype.tP=function(b,c){var d=null;a.da.yW(c)?d=a.da.sV(c.substring(6,c.length-7)):(d=f(b.createElement("div")),d.text(c),d=d.get(0));return d};a.Va.prototype.TP=function(a){return(a=f(a.createElement("hr")))?a.get(0).outerHTML:""};a.Va.prototype.WP=function(b){var c;switch(b){case a.U.Lb.FATAL:c=a.ea.J("oj-message.fatal");
break;case a.U.Lb.ERROR:c=a.ea.J("oj-message.error");break;case a.U.Lb.WARNING:c=a.ea.J("oj-message.warning");break;case a.U.Lb.INFO:c=a.ea.J("oj-message.info");break;case a.U.Lb.CONFIRMATION:c=a.ea.J("oj-message.confirmation")}return c};a.Va.prototype.VP=function(b){var c;switch(b){case a.U.Lb.FATAL:c="oj-message-error-icon";break;case a.U.Lb.ERROR:c="oj-message-error-icon";break;case a.U.Lb.WARNING:c="oj-message-warning-icon";break;case a.U.Lb.INFO:c="oj-message-info-icon";break;case a.U.Lb.CONFIRMATION:c=
"oj-message-confirmation-icon"}return a.Va.xK+c};a.Va.prototype.Zk=function(){return this.Md?this.Md.is(":oj-popup"):!1};var c={HJ:1,Sy:2,Uy:3,dz:4,ez:5,fz:6,cK:7,jK:8,mz:9,nz:10,lK:11},b={Fl:!0,xf:c.Sy},d={Fl:!0,xf:c.Uy},e={Fl:!0,xf:c.fz},g={Fl:!0,xf:c.dz},h={Fl:!0,xf:c.ez},k={Fl:!0,xf:c.nz};a.La("oj.editableValue",f.oj.baseComponent,{widgetEventPrefix:"oj",options:{disabled:void 0,displayOptions:void 0,help:{definition:null,source:null},messagesCustom:void 0,messagesHidden:void 0,messagesShown:void 0,
required:void 0,title:void 0,validators:void 0,value:void 0,optionChange:void 0},getNodeBySubId:function(a){return this._super(a)},isValid:function(){return void 0===this.lx?!0:this.lx},refresh:function(){this._super();this.ZB(!0)},reset:function(){this.Zp();this.Vn(this.Ff.cK);this.Hw(this.options.value,!0)},showMessages:function(){var b=this.options.messagesHidden,c,d=!1,e,g=[];for(e=0;e<b.length;e++)d=!0,c=b[e],c instanceof a.Sb&&c.VO(),g.push(c.clone());d&&(this.nu(),this.kx(g))},validate:function(){return this.Ad(this.Yg(),
null,this.Ht)},Dm:{Vy:1,kK:2,gz:3},Ff:c,Ht:{po:!1,xf:c.mz},_InitOptions:function(a,b){this._super(a,b);this.uw=[]},_ComponentCreate:function(){var a=this.element,b=this.ot(a);this._super();this.options.messagesCustom=this.options.messagesCustom||[];this.options.messagesHidden=[];this.options.messagesShown=0<this.options.messagesCustom.length?this.rN(this.options.messagesCustom):[];"boolean"===typeof this.options.disabled&&a.prop("disabled",this.options.disabled);this.Iz()&&(this._SetPlaceholder(this.options.placeholder),
this.zu=!0);f.each(["required","title"],function(c,d){d in b&&a.removeAttr(d)})},Rh:function(){this._super();this.JN();this.ZB(!1);this.Yq();this.GM();this.CT();this.widget().addClass("oj-form-control")},sz:function(a,b,c){switch(a){case "converter":this.mK(a);break;case "disabled":this.tz(a,d);break;case "displayOptions":this.Yq();break;case "help":this.Ef(a,this.options[a]);break;case "messagesCustom":this.ZR(b,c);break;case "placeholder":this.zS(c);break;case "readOnly":this.tz(a,g);break;case "required":this.nK(a);
break;case "title":this.wU();break;case "translations":this.refresh();break;case "value":this.oK(a,b,c);break;case "validators":this.pk(a)}},mK:function(a){var c=!1;this.QL();this.Vq()&&(c=!0);c?(this.$p(),this.Yr(b)):this.Ef(a,this.options[a],!0)},tz:function(a,b){var c=!this.options[a];this.Ef(a,this.options[a]);c&&this.NF(b)},nK:function(a){this.Ef(a,this.options[a]);this.NF(e)},oK:function(a,b,c){var d=!1,e;this.TU(b,c);c&&(d=c._oj_originalEvent?!0:!1,e=c._oj_doNotClearMessages||!1);d||(e||this.Zp(null),
this.Vn(this.Ff.lK));this.Ef(a,this.options[a],!0)},pk:function(){var a=!1;this.lA();this.Vq()&&(a=!0);a&&(this.$p(),this.Yr(k))},jt:function(){var a=this.options.readOnly||!1;return this.options.disabled||a?!1:!0},_destroy:function(){var a=this.widget();this.Zp(null,!0);this.Mk().yg();f.each(this.$g,function(){a.removeClass(this.toString())});a.removeClass("oj-form-control");this.element.removeAttr("aria-required");this.Rb&&this.Rb._ojLabel("destroy");return this._super()},Focus:function(){this.Cf().focus();
return!0},_setOption:function(b,c,d){var e,g;e=!1;if("string"===typeof b&&void 0!==c)switch(b){case "messagesCustom":g=this.options.messagesCustom||[];break;case "messagesHidden":e=!0;break;case "messagesShown":e=!0;break;case "value":g=this.options.value}if(e)return a.C.error(b+" option cannot be set"),this;e=this._superApply(arguments);this.sz(b,g,d);return e},Cf:function(){return this.element},LK:function(){var a=this.qC(this.element);if(null!==a&&0!==a.length)return a;a=this.element.prop("id");
if(void 0!==a&&(a=f("label[for\x3d'"+a+"']"),0!==a.length))return a;a=this.element.closest("[aria-labelledby]");return 0!==a.length&&(a=this.qC(a),null!==a&&0!==a.length)?a:null},sk:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this.Cf()},kc:function(){this.Vb||(this.Vb=a.Ba.getConverterInstance(this.options.converter));return this.Vb||null},ym:function(){this.vD||(this.vD={});return this.vD},Yg:function(){return this.Cf().val()},Gz:function(){if(!this.Jm){var b=
[],c=this.options.validators,d,e=!0,g=this.ym(),f=[],h,k;k=Object.keys(g);for(h in k)d=k[h],f.push(g[d]);b=b.concat(f);if(c){f=[];for(k=0;k<c.length;k++)d=c[k],"object"===typeof d?(d.validate&&"function"===typeof d.validate||(e=!1),e||(h=d.type)&&"string"===typeof h&&((g=a.ga.ik(h))?(d=a.ic.hf({},d.options)||{},d.converter=d.converter||this.kc(),d.label=d.label||this.iv(),d=g.createValidator(d)):a.C.error("Unable to locate a validatorFactory for the requested type: "+h)),f.push(d)):a.C.error("Unable to parse the validator provided:"+
d);b=b.concat(f)}this.Jm=b}return this.Jm||[]},lA:function(){this.Jm&&(this.Jm.length=0);this.Jm=null;this.Mk().update(this.af(this.Be.oz))},QL:function(){this.Vb=null;this.Mk().update(this.af(this.Be.Ry))},UK:function(a,b){this.uw.push({option:a,previousValue:b})},Am:function(){return this.options.required},tp:function(a){var b=this.Yg();this.Ad(b,a)},Ef:function(a,b,c){switch(a){case "converter":b=this.options.value;this.Hw(b,c);break;case "disabled":this.mF("disabled",this.options.disabled);break;
case "help":a=this.options.help.definition;b=this.options.help.source;c=this.SA(b);this.Rb&&(this.Rb._ojLabel("option","describedById",c),this.Rb._ojLabel("option","help",{definition:a,source:b}));break;case "required":this.mF("required",this.Am());this.At(b);this.Rb&&this.Rb._ojLabel("option","required",b);break;case "value":this.Hw(b,c)}},At:function(a){var b=this.Cf();a&&b?b.attr("aria-required",a):b.removeAttr("aria-required")},PL:function(){this.Vb=this.Uv=null;this.lA()},hg:function(a){this.Cf().val(a)},
_SetPlaceholder:function(a){this.Cf().attr("placeholder",a)},nA:function(a){this.options.placeholder=a},Iz:function(){return this.options.placeholder},Dz:function(){this.nA("");this._SetPlaceholder("")},Ad:function(b,c,d){var e=d&&"boolean"===typeof d.po?d.po:!0;if(void 0===b)return a.C.warn("Attempt to set a value of undefined"),!1;if(e&&b===this.yE)a.C.Po>a.C.Qh&&a.C.info("Validation skipped and value option not updated as submitted value '"+b.toString?b.toString():b+" same as previous.");else if(b=
this.wA(b,c,d),void 0!==b&&this.isValid())return this.XG(b,c,d&&d.xf),!0;return!1},wA:function(b,c,d){var e=d&&d.yX?d.yX:this.Dm.Vy,g=d&&d.xf?d.xf:this.Ff.jK;d=d&&d.Fl||!1;if(void 0===b)a.C.warn("Attempt to set a value of undefined");else if(this.jt()){d||this.Zp(c);this.cG(b);try{return this.DT(b,e,g,c)}catch(f){}}else a.C.Po>a.C.Qh&&a.C.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.")},Gt:function(b,
c,d,e){a.i.iH(b,"");d=d?{writeback:"shouldWrite"}:{writeback:"shouldNotWrite"};c={option:b,component:a.Components.ws(this.element),previousValue:c,value:this.options[b],optionMetadata:d};switch(b){case "messagesShown":case "messagesHidden":case "messagesCustom":this._trigger("optionChange",e||null,c);break;case "value":this._trigger("optionChange",e||null,c)}},xA:function(b,c){return a.b.Ch(b,c)},_GetDefaultStyleClass:function(){a.i.fa();return""},Be:{gm:1,pz:2,Ry:3,oz:4,lz:5},$g:{disabled:"oj-disabled",
required:"oj-required"},GM:function(){var a=this;f.each(this.uw,function(b,c){a.Gt(c.option,c.previousValue,!0)});this.uw=null},Zp:function(a,b){b?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this.nu(a),this.nN(a),this.mN(a))},$p:function(){var b=this.options.messagesShown,c=b.length,d,e={};this.nu();for(var g=c-1;0<=g;g--)d=b[g],d instanceof a.Sb&&b.splice(g,1);e.changed=this.options.messagesShown.length!==c?!0:!1;this.Hn("messagesShown",this.options.messagesShown,
e)},nu:function(a){var b={};b.changed=0<this.options.messagesHidden.length?!0:!1;a&&(b._oj_originalEvent=a);this.options.messagesHidden=[];this.rE(this.options.messagesHidden,b)},nN:function(a){var b={};b.changed=0<this.options.messagesShown.length?!0:!1;a&&(b._oj_originalEvent=a);this.options.messagesShown=[];this.kw(this.options.messagesShown,b)},mN:function(a){var b={},c={};c.changed=0<this.options.messagesCustom.length?!0:!1;b.messagesCustom=[];a&&(c._oj_originalEvent=a);this.option(b,c)},rN:function(b){var c,
d=[],e;if(b&&0<b.length)for(e=0;e<b.length;e++)c=b[e],c instanceof a.U?d.push(c.clone()):(c=new a.U(c.summary,c.detail,c.severity),c=Object.freeze?Object.freeze(c):c,d.push(c));return d},JN:function(){if(this.Rb=this.LK()){var a=this.options.help.definition,b=this.options.help.source,c=this.SA(b);this.Rb._ojLabel({rootAttributes:{"class":this._GetDefaultStyleClass()+"-label"},describedById:c,required:this.options.required,help:{definition:a,source:b}})}},ZB:function(a){var b=!1;a?(this.Rb&&this.Rb._ojLabel("refresh"),
this.PL(),this.Yq(),this.Vq()&&(b=!0),this.$p(),b?this.Yr(h):(this.Am()&&this.Vn(h.xf),this.Ef("value",this.options.value,!0))):(this.Ef("value",this.options.value),this.Ef("required",this.options.required));this.Ef("disabled",this.options.disabled)},ZX:function(){return this.zE},YX:function(){return this.yE},qC:function(a){a=a.attr("aria-labelledby");return void 0!==a?f("label[id\x3d'"+a+"']"):null},SA:function(a){this.element.uniqueId();var b=this.element.prop("id")+"Icons";a&&this.Cf().each(function(){var a=
f(this).attr("aria-describedby");a?f(this).attr("aria-describedby",a+" "+b):f(this).attr("aria-describedby",b)});return b},Iq:function(){return this.options.messagesShown.concat(this.options.messagesHidden)},iv:function(){if(this.Rb)return this.Rb.text()},jD:function(){this.aH||(this.aH=new a.zf(this.isValid(),this.Iq()));return this.aH},Uq:function(){return!a.U.isValid(this.Iq())},Vq:function(){return!this.isValid()&&0<this.options.messagesShown.length},UQ:function(){for(var b=this.options.messagesShown,
c,d,e=0;e<b.length;e++)c=b[e],c instanceof a.Sb&&c.TD()&&(d=d||[],d.push(c));return void 0===d?!1:!a.U.isValid(d)},Yq:function(){var a=this.Mk(),b=this._GetMessagingLauncherElement(),c=this.af(this.Be.gm);this.zu||this.Dz();a.vi(b,c)},rE:function(a,b){this.Hn("messagesHidden",a,b)},kw:function(a,b){this.Hn("messagesShown",a,b)},ZR:function(b,c){var d=this.options.messagesCustom,e=this.options.messagesShown,g,f=[],h;for(h=0;h<e.length;h++)g=e[h],g instanceof a.Sb&&g.TD()&&f.push(g);this.options.messagesShown=
f;for(h=0;h<d.length;h++)this.options.messagesShown.push(d[h]);this.Hn("messagesCustom",b,c);this.Hn("messagesShown",e,c)},Hn:function(a,b,c){var d=!1,e=this.options[a],g;c&&(d=c.changed||!1,g=c._oj_originalEvent||null);this.OU();this.Mk().update(this.af());!d&&this.$R(b,e)||this.Gt(a,b,!1,g)},zS:function(a){a=a&&a._oj_messaging_update?!1:!0;this._SetPlaceholder(this.options.placeholder);a?(this.zu=!0,this.Yq()):this.zu=!1},WT:function(a){this.zE=a},cG:function(a){this.yE=a},wU:function(){this.Mk().update(this.af(this.Be.lz))},
MU:function(b,c){var d={},e,g;a.i.mb(b,a.U);if("object"===typeof b&&Array.isArray(b))for(d.changed=!0,e=b.length,g=0;g<e;g++)this.options.messagesHidden.push(b[g]);c&&(d._oj_originalEvent=c);this.rE(this.options.messagesHidden,d)},kx:function(b,c){var d={},e,g;a.i.mb(b,a.U);if("object"===typeof b&&Array.isArray(b))for(d.changed=!0,e=b.length,g=0;g<e;g++)this.options.messagesShown.push(b[g]);c&&(d._oj_originalEvent=c);this.kw(this.options.messagesShown,d)},XG:function(a,b,c){var d={},e={},g=!1;d.value=
a;b&&(e._oj_originalEvent=b);switch(c){case this.Ff.Sy:case this.Ff.Uy:case this.Ff.dz:case this.Ff.ez:case this.Ff.fz:case this.Ff.mz:case this.Ff.nz:g=!0,e._oj_doNotClearMessages=!0}e.shouldWriteback=g;this.option(d,e)},OU:function(){var a=this.Iq(),a=a&&0!==a.length;this.lx=!0;a&&(this.lx=!this.Uq())},TU:function(a,b){var c=this.options.value,d=!1,e=!1,g;b&&(d=b.changed||!1,g=b._oj_originalEvent||null,e=b.shouldWriteback||g?!0:!1);!d&&this.xA(a,c)||this.Gt("value",a,e,g)},XO:function(b){var c=
b,d=this.kc();d&&"object"===typeof d&&(d.format&&"function"===typeof d.format?c=d.format(b):a.C.Po>a.C.Qh&&a.C.info("converter does not support the format method."));return c},Mk:function(){this.ij||(this.ij=new a.Ua(this));return this.ij},uP:function(a){var b,c=[];b="";var d;this.Am()&&(b=this.GC(),b.getHint&&"function"===typeof b.getHint&&(b=b.getHint())&&c.push(b));for(d=0;d<a.length;d++)b=a[d],"object"===typeof b&&b.getHint&&"function"===typeof b.getHint&&(b=b.getHint())&&c.push(b);return c},
GC:function(){var b;b={};var c;null==this.Uv&&(b=this.options.translations?this.options.translations.required||{}:{},c={hint:b.hint||null,label:this.iv(),messageSummary:b.messageSummary||null,messageDetail:b.messageDetail||null},this.Uv=(b=a.ga.ik(a.jc.VALIDATOR_TYPE_REQUIRED))?b.createValidator(c):null);return this.Uv},af:function(a){var b={},c=this.kc(),d=[];a=a||this.Be.pz;if(a===this.Be.gm||a===this.Be.pz)d=this.Iq(),this.jD().update(this.isValid(),d),b.validityState=this.jD();(a===this.Be.gm||
a===this.Be.Ry)&&c&&"object"===typeof c&&c.getHint&&"function"===typeof c.getHint&&(c=c.getHint()||"",b.converterHint=c);if(a===this.Be.gm||a===this.Be.oz)c=this.Gz(),d=this.uP(c)||[],b.validatorHint=d;if(a===this.Be.gm||a===this.Be.lz)b.title=this.options.title||"";return b},$R:function(b,c){var d=-1,e,g=!0,p=f.extend([],b),h=f.extend([],c);if(p===h)return!0;if(null==p||null==h||p.length!==h.length)return!1;f.each(p,function(b,c){c instanceof a.U?e=c:(e=new a.U(c.summary,c.detail,c.severity),e=Object.freeze?
Object.freeze(e):e);d=-1;f.each(h,function(a,b){e.Ci(b)&&(d=a)});-1<d?h.splice(d,1):g=!1});return g},JE:function(b){var c=this.kc(),d=b;c&&"object"===typeof c&&(c.parse&&"function"===typeof c.parse?d=c.parse(b):a.C.Po>a.C.Qh&&a.C.info("converter does not support the parse method."));return d},Lt:function(b,c){var d,e,g;b instanceof a.sd||b instanceof a.Ae?(d=b.Jl(),a.i.mb(d,a.U),g=d.severity,e=d.summary,d=d.detail):(g=a.U.Lb.ERROR,e=a.ea.J("oj-message.error"),d=b.message||a.ea.J("oj-converter.detail"));
c.push({summary:e,detail:d,severity:g})},Bw:function(b,c,d){var e={},g=[],f=b.Gn||[];e.context=c||0;e.display=d||a.Sb.lk.$s;0===f.length&&this.Lt(b,f);for(c=0;c<f.length;c++)b=f[c],g.push(this.EN(b.summary,b.detail,b.severity,e));return g||null},EN:function(b,c,d,e){b=new a.Sb(b,c,d,e);return b=Object.seal?Object.seal(b):b},Hw:function(a,b){var c=a||this.options.value,d;d=this.zE;(b||c!==d)&&this.KU(c)},mF:function(a,b){-1!=Object.keys(this.$g).indexOf(a)&&this.widget().toggleClass(this.$g[a],!!b)},
Vn:function(b){if(this.jt())try{this.$G(this.options.value,this.Dm.gz)}catch(c){(b=this.Bw(c,b,a.Sb.lk.Ys))&&this.MU(b)}else a.C.Po>a.C.Qh&&a.C.info("Deferred validation skipped as component is readonly or disabled.")},CT:function(){this.Vn(this.Ff.HJ);0<this.options.messagesShown.length&&this.kw([],{changed:!0})},DT:function(a,b,c,d){var e=a;try{b===this.Dm.Vy&&(e=this.JE(a)),this.$G(e,b===this.Dm.gz)}catch(g){throw a=this.Bw(g,c),this.kx(a,d),g;}return e},NF:function(a){var b=!0;this.Vq()&&(b=!1);
this.$p();b?this.Am()&&this.Vn(a.xf):this.Yr(a)},KU:function(a,b){var c,d;this.WT(a);c=a;try{c=this.XO(a)}catch(e){d=this.Bw(e),this.kx(d,b)}this.hg(c);this.cG(this.Yg())},Yr:function(a){var b;b=this.wA(this.Yg(),null,a);void 0===b||!this.isValid()&&this.UQ()||this.XG(b,null,a.xf)},$G:function(b,c){var d=this.Gz(),e,g,f=[];if(this.Am()){e=this.GC();try{e.validate(a.hb.trim(b))}catch(h){this.Lt(h,f)}}if(!c)for(g=0;g<d.length;g++)if(e=d[g],"object"===typeof e)if(e.validate&&"function"===typeof e.validate)try{e.validate(b)}catch(k){this.Lt(k,
f)}else a.C.Po>a.C.Qh&&a.C.info("validator does not support the validate method.");if(0<f.length)throw d=Error(),d.Gn=f,d;}});a.Components.Ey({editableValue:{displayOptions:a.Components.Vj(function(){return{messages:["notewindow"],converterHint:["placeholder","notewindow"],validatorHint:["notewindow"],title:["notewindow"]}})}});a.La("oj._ojLabel",f.oj.baseComponent,{version:"1.0.0",defaultElement:"\x3clabel\x3e",widgetEventPrefix:"oj",options:{describedById:null,help:{definition:null,source:null},
required:null,rootAttributes:void 0},eb:{gM:"tooltipHelp",iM:"tooltipRequired"},widget:function(){return this.Og},refresh:function(){this._super();this.fF();this.cF()},_create:function(){this._super();this.zO()},zO:function(){var a=this.options.help.source||this.options.required,b=null;this.Og=this.element.wrap(this.EU()).closest(".oj-component");this.jS();a&&(b=this.uu());if(this.options.help.definition||this.options.help.source)this.HD(b),this.BA();this.options.required&&b.append(this.DF())},jS:function(){var a=
this.element.attr("class");this.oy=[];if(a)for(var a=a.split(/\s+/),b=a.length,c=0;c<b;c++){var d=a[c];0<d.indexOf("-label")&&(this.Og.addClass(d),this.element.removeClass(d),this.oy.push(d))}},uu:function(){return this.Og.find(".oj-label-group").prepend("\x3cspan id\x3d'"+this.options.describedById+"'\x3e\x3c/span\x3e").children().first()},EU:function(){var a;this.options.rootAttributes&&(a=this.options.rootAttributes["class"]);return null!==a?"\x3cdiv class\x3d'oj-label oj-component "+a+"'\x3e\x3cdiv class\x3d'oj-label-group'\x3e\x3c/div\x3e\x3c/div\x3e":
"\x3cdiv class\x3d'oj-label oj-component'\x3e\x3cdiv class\x3d'oj-label-group'\x3e\x3c/div\x3e\x3c/div\x3e"},DF:function(){return"\x3cspan class\x3d'oj-label-required-icon oj-component-icon' title\x3d'"+this.J(this.eb.iM)+"' role\x3d'img'\x3e\x3c/span\x3e"},VQ:function(a,b){if(b){var c;c="\x3ca href\x3d'"+b+"' target\x3d'_blank' class\x3d'oj-label-help-icon-anchor'\x3e\x3cspan class\x3d'oj-label-help-icon oj-component-icon oj-clickable-icon' title\x3d'";if(a)c+=a;else{var d=this.J(this.eb.gM);c+=
d}c+="' role\x3d'img'\x3e\x3c/span\x3e";c+="\x3c/a\x3e"}return c},BA:function(){var a=this.options.help.definition;if(a){this.element.addClass("oj-label-help-def");var b=this.element.attr("title");b?this.element.attr("title",b+" "+a):this.element.attr("title",a)}},vF:function(){this.element.removeClass("oj-label-help-def");this.element.attr("title","")},HD:function(a){var b=this.options.help.source;b&&a.prepend(this.VQ(this.options.help.definition,b))},cF:function(){var a="#"+this.options.describedById;
this.vF();var b=this.Og.find(".oj-label-help-icon");1===b.length&&b.parent().remove();b=this.options.help.source;a=this.Og.find(a);null!=b&&0===a.length?a=this.uu():null==b&&0<a.length&&0===a.children().size()&&a.remove();this.HD(a);this.BA()},fF:function(){var a="#"+this.options.describedById;this.options.required?0===this.Og.find(".oj-label-required-icon").length&&(a=this.Og.find(a),0===a.length&&(a=this.uu()),a.append(this.DF())):(this.Og.find(".oj-label-required-icon").remove(),a=this.Og.find(a),
0<a.length&&0===a.children().size()&&a.remove())},_setOption:function(a,b){this._superApply(arguments);"required"===a&&this.fF();"help"===a&&this.cF()},getNodeBySubId:function(a){var b=this._super(a);b||(a=a.subId,"oj-label-help-icon"===a&&(b=this.widget().find(".oj-label-help-icon")[0]),"oj-label-help-icon-anchor"===a&&(b=this.widget().find(".oj-label-help-icon").parent()[0]),"oj-label-required-icon"===a&&(b=this.widget().find(".oj-label-required-icon")[0]));return b||null},_destroy:function(){this._super();
for(var a=0;a<this.oy.length;a++)this.element.addClass(this.oy[a]);this.vF();this.Og.replaceWith(this.element)}});a.ud={};o_("EditableValueUtils",a.ud,a);a.ud.RV=function(a,b){var c,d,e={};if(a&&b)switch(b){case "disabled":c=void 0!==a.attr("disabled")?!!a.prop("disabled"):void 0;break;case "pattern":c=a.prop("pattern")||void 0;break;case "placeholder":c=a.prop("placeholder")||void 0;break;case "readonly":c=void 0!==a.attr("readonly")?!!a.prop("readonly"):void 0;break;case "required":c=a.attr("required");
d=a.prop("required");c=void 0!==c?void 0!==d?!!d:!!c:void 0;break;case "title":c=a.prop("title");break;case "value":c=a.val()||void 0;break;default:c=a.attr(b)||void 0}void 0!==c?(e.LH=!0,e.value=c):e.LH=!1;return e};a.ud.Ji=function(b,c,d){f.each(b,function(b,e){var g=e.attribute,f=e.option||g,h=e.coerceDomValue,l=e.validateOption,k=d.element,v=d.options[f];void 0===c[f]&&(v=d.options[f],g=a.ud.RV(k,g),g.LH?(g=g.value,h&&("boolean"===typeof h?g=a.ud.uV(f,g):"function"===typeof h&&(g=h.call(d,g))),
d.options[f]=g,d.UK(f,v)):void 0===v&&(d.options[f]=e.defaultOptionValue));l&&("boolean"===typeof l?a.ud.xX(f,d.options[f]):"function"===typeof l&&l.call(d))})};a.ud.xX=function(a,b){var c=!1;switch(a){case "required":null!==b&&"boolean"!==typeof b&&(c=!0);break;case "readOnly":case "disabled":null!==b&&"boolean"!==typeof b&&(c=!0)}if(c)throw"Option '"+a+" 'has invalid value set: "+b;};a.ud.uV=function(a,b){var c=b;switch(a){case "required":c=b?!0:!1}return c}});
//# sourceMappingURL=oj-modular.map