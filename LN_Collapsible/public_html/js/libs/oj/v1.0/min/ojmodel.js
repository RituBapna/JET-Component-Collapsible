/*
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
*/
define(["ojs/ojcore","jquery","promise"],function(a,f){a.X=window.oj.Events={on:function(a,b,d){return this.Vg(a,b,d,!1,!1)},off:function(a,b,d){return this.qw(a,b,d,!1)},trigger:function(c){var b=Array.prototype.slice.call(arguments);b.unshift(!1);return a.X.Ub.apply(this,b)},once:function(a,b,d){return this.BE(a,b,d,!1)},listenTo:function(c,b,d){var e,g,h,f,l={};b.constructor===String?l[b]=d:l=b;for(f in l)if(l.hasOwnProperty(f))for(b=a.X.qj(f),d=0;d<b.length;d+=1)e=b[d].event,g=b[d].Ob,h={event:e,
Ob:g,object:c,gc:l[f]},this.hu(this.$b,h,a.X.aE),e=g?e+":"+g:e,void 0===this.$b&&(this.$b=[]),this.$b.push(h),c.Vg(e,l[f],null,!0,!1);return this},listenToOnce:function(c,b,d){var e,g,h,f,l={};b.constructor===String?l[b]=d:l=b;for(f in l)if(l.hasOwnProperty(f))for(b=a.X.qj(f),d=0;d<b.length;d+=1)e=b[d].event,g=b[d].Ob,h={event:e,Ob:g,object:c,gc:l[f]},this.hu(this.$b,h,a.X.aE),e=g?e+":"+g:e,void 0===this.$b&&(this.$b=[]),this.$b.push(h),c.BE(e,l[f],null,!0);return this},stopListening:function(c,b,
d){var e,g={},h,f,l,m,n,q,r,p,s;if(null==arguments||0==arguments.length){n=this.$b?this.$b.length:0;for(p=0;p<n;p++)q=this.$b[p].object.qw,q.apply(this.$b[p].object,[this.$b[p].event,this.$b[p].gc,this.$b[p].context,!0]);this.$b=[];return this}e=b;c&&c.constructor===String&&(e=c);e.constructor===String?g[e]=d:g=e;for(s in g)if(g.hasOwnProperty(s))for(e=a.X.qj(s),h=0;h<e.length;h+=1)for(f=e[h].event,l=e[h].Ob,n=this.$b?this.$b.length:0,p=n-1;0<=p;p-=1)m=this.$b[p],n=c?c===m.object:!0,q=f?f===m.event:
!0,r=d?g[s]===m.gc:!0,m=l?l===m.Ob:!0,n&&q&&r&&m&&(q=this.$b[p].object.qw,q.apply(this.$b[p].object,[this.$b[p].event,this.$b[p].gc,this.$b[p].context,!0]),this.$b.splice(p,1));return this}};a.X.bind=a.X.on;a.X.unbind=a.X.off;a.X.v={ADD:"add",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",DESTROY:"destroy",ALLREMOVED:"allremoved",REQUEST:"request",SYNC:"sync",ERROR:"error",INVALID:"invalid",ALL:"all"};o_("Events.EventType",a.X.v,a);a.X.kp=function(a,b){var d,e=b||this;
for(d in e)"function"===typeof e[d]&&(a[d]=e[d]);a.hc={};a.$b=[]};a.X.BE=function(a,b,d,e){var g,h,f,l;f=this.bv(a,b);for(l in f)if(f.hasOwnProperty(l))for(a=this.qj(l),b=0;b<a.length;b+=1)g=a[b].event,h=a[b].Ob,void 0===this.hc&&(this.hc=[]),void 0===this.hc[g]&&(this.hc[g]=[]),this.hc[g].push({gc:f[l],context:d,Ob:h,Jh:!0,fired:!1,Ki:e});return this};a.X.lG=function(a){return a.Jh?a.fired?!1:a.fired=!0:!0};a.X.Ub=function(c,b){var d=this.qj(b),e,g,h,f,l,m;f=[];for(e=0;e<d.length;e+=1)g=d[e].event,
h=d[e].Ob,f.push({event:g,Ob:h});for(e=0;e<f.length;e+=1){l=this.Hq(this.hc,a.X.v.ALL);d=a.X.Hq(this.hc,f[e].event,!1);for(g=0;g<(d?d.length:0);g+=1)d[g].Ob===f[e].Ob&&d[g].gc&&(h=Array.prototype.slice.call(arguments),d&&d[g]&&d[g].Jh&&this.uF(a.X.Hq(this.hc,f[e].event,!0),d[g]),d&&d[g]&&this.lG(d[g])&&(m=d[g].gc,c&&!d[g].vI||m.apply(d[g].context||this,h.slice(2))));for(g=0;g<(l?l.length:0);g+=1)h=Array.prototype.slice.call(arguments),0<h.length&&(h[1]=f[e].Ob?f[e].event+":"+f[e].Ob:f[e].event),l&&
l[g]&&l[g].gc&&this.lG(l[g])&&(m=l[g].gc,c&&!l[g].vI||m.apply(l[g].context||this,h.slice(1))),l&&l[g]&&l[g].Jh&&this.uF(this.Hq(this.hc,a.X.v.ALL,!0),l[g])}return this};a.X.Vg=function(c,b,d,e,g){var h,f,l,m;c=this.bv(c,b);for(h in c)if(c.hasOwnProperty(h))for(b=this.qj(h),f=0;f<b.length;f+=1)l=b[f].event,m=b[f].Ob,void 0===this.hc&&(this.hc=[]),void 0===this.hc[l]&&(this.hc[l]=[]),m={gc:c[h],context:d,Ob:m,Ki:e,vI:g},-1===this.hu(this.hc[l],m,a.X.RQ)&&this.hc[l].push(m);return this};a.X.qw=function(a,
b,d,e){var g,h;if(null==arguments||0==arguments.length)return this.hc={},this;if(null==a)return this.tF(a,b,d,e),this;g=this.bv(a,b);for(h in g)g.hasOwnProperty(h)&&this.tF(h,g[h],d,e);return this};a.X.bv=function(a,b){var d={};a.constructor===String?d[a]=b:d=a;return d};a.X.tF=function(c,b,d,e){var g=[],h,f,l,m,n,q,r,p;if(c)g=a.X.qj(c);else if(void 0!==this.hc)for(f in this.hc)this.hc.hasOwnProperty(f)&&g.push({event:f});for(c=0;c<g.length;c+=1)if(f=g[c].event,l=g[c].Ob,void 0!==this.hc&&this.hc[f]instanceof
Array){m=this.hc[f];for(h=m.length-1;0<=h;h-=1)n=void 0===b||null===b||m[h].gc==b,q=void 0===d||null===d||m[h].context==d,r=void 0===l||null===l||m[h].Ob==l,p=void 0===e||null===e||m[h].Ki==e,n&&q&&r&&p&&m.splice(h,1);0===m.length&&delete this.hc[f]}};a.X.uF=function(a,b){var d,e,g,h,f,l;for(d=a.length-1;0<=d;d-=1)e=void 0===b.gc||null===b.gc||a[d].gc==b.gc,g=void 0===b.context||null===b.context||a[d].context==b.context,h=void 0===b.Ob||null===b.Ob||a[d].Ob==b.Ob,f=void 0===b.Ki||null===b.Ki||a[d].Ki==
b.Ki,l=void 0===b.Jh||null===b.Jh||a[d].Jh==b.Jh,e&&g&&h&&f&&l&&a.splice(d,1)};a.X.qj=function(a){a=a?a.split(" "):[];var b=[],d,e,g;for(d=0;d<a.length;d+=1)e=a[d].split(":"),g=e[0],e=1<e.length?e[1]:null,b.push({event:g,Ob:e});return b};a.X.RQ=function(a,b){return a.gc===b.gc&&a.Ob===b.Ob&&a.context===b.context&&a.Ki===b.Ki&&a.Jh===b.Jh};a.X.aE=function(a,b){return a.event===b.event&&a.Ob===b.Ob&&a.context===b.context&&a.object===b.object};a.X.hu=function(a,b,d){var e;if(void 0===a)return-1;for(e=
0;e<a.length;e+=1)if(d(a[e],b))return e;return-1};a.X.Hq=function(a,b,d){if(a&&a[b]instanceof Array){if(d)return a[b];d=[];var e;for(e=0;e<a[b].length;e++)d.push(a[b][e]);return d}return null};a.q=function(c,b){a.q._init(this,c,b,null)};o_("Model",a.q,a);a.b.ra(a.q,a.b,"Model.Model");a.q.prototype.Init=function(){a.q.t.Init.call(this)};a.q.prototype.attributes={};a.b.g("Model.prototype.attributes",{attributes:a.q.prototype.attributes});a.q.prototype.wc={};a.b.g("Model.prototype.defaults",{wc:a.q.prototype.wc});
a.q.prototype.id=null;a.b.g("Model.prototype.id",{id:a.q.prototype.id});a.q.prototype.Oe=null;a.b.g("Model.prototype.idAttribute",{Oe:a.q.prototype.Oe});a.q.prototype.CJ=null;a.b.g("Model.prototype.urlRoot",{CJ:a.q.prototype.CJ});a.q.prototype.Of=null;a.b.g("Model.prototype.customURL",{Of:a.q.prototype.Of});a.q.Sv=0;a.q._init=function(c,b,d,e){var g=null,h;if(!a.q.Bn){c.Init();a.X.kp(c);c.Ck();c.sy={};c.Fs=!1;c.index=-1;d=d||{};c.attributes={};c.defaults&&(c.attributes=a.q.gh(a.q.bd(c.defaults)?c.defaults():
c.defaults,null));for(g in e)e.hasOwnProperty(g)&&(c[g]=e[g]);if(b)if(e=d.parse,a.q.bd(e)&&(c.parse=e),h=a.q.gh(b,c.attributes),h=e?c.parse(h):h,null==h||void 0===h)c.attributes={};else for(g in h)h.hasOwnProperty(g)&&c.ol(g,h[g],!1,!1,d);c.mp();c.om(d.collection);d.customURL&&(c.customURL=d.customURL);d.url&&(c.url=d.url);d.urlRoot&&(c.urlRoot=d.urlRoot);c.initialize&&c.initialize(b,d);c.Wg()}};a.q.extend=function(c,b){a.q.Bn=!0;var d,e;d=new a.q;a.q.Bn=!1;a.X.kp(d,this.prototype);c=c||{};for(e in c)c.hasOwnProperty(e)&&
(d[e]=c[e]);var g;g=c&&c.constructor&&c.hasOwnProperty("constructor")?c.constructor:function(b,d){a.q._init(this,b,d,c)};g.prototype=d;g.extend=a.q.extend;g.prototype.constructor=g;a.X.kp(g,this);if(b)for(e in b)b.hasOwnProperty(e)&&(g[e]=b[e]);return g};o_("Model.extend",a.q.extend,a);a.q.prototype.Ub=function(){};a.q.prototype.mp=function(){this.mk()||(this.cid="id"+a.q.Sv,a.q.Sv+=1)};a.q.prototype.mk=function(){return this.cid};a.q.prototype.bt=function(a){this.index=a};a.q.prototype.ct=function(a){this.JW=
a};a.q.prototype.np=function(a){var b=this.ty;this.ty=a;return b};a.q.prototype.VJ=function(c,b,d){var e,g=!1,h=a.hb.Id(b),f,l=!1;for(e in c.attributes)c.attributes.hasOwnProperty(e)&&(f=this.attributes[e]!=c.attributes[e],h?e===b&&f&&(g=!0):f&&(g=!0),f&&(l=!0,this.attributes[e]=c.attributes[e],this.Kt(e,c.attributes[e]),this.vq(e,this.attributes[e],null,d)));this.Wg();l&&this.wq(null,d);return g};a.q.vj=function(a){var b;if(a&&a instanceof Object)for(b in a)if(a.hasOwnProperty(b))return!0;return!1};
a.q.prototype.om=function(a){null==a?delete this.collection:this.collection=a};a.q.prototype.jp=function(){return this.collection};a.q.prototype.vq=function(c,b,d,e){null!=c&&this.Ub(e,a.X.v.CHANGE+":"+c,this,b,d)};a.q.prototype.wq=function(c,b){this.Ub(b,a.X.v.CHANGE,this,c,null)};a.q.prototype.Wg=function(){var a=this.hv();this.id=null!=this.attributes?this.attributes[a]:null};a.q.prototype.Qw=function(c,b,d){var e=a.b.dj(this.attributes[c],b);return d||!e?(this.attributes[c]=b,this.Wg(),!e):!1};
a.q.prototype.Ck=function(){this.changed={}};a.q.prototype.Kt=function(a,b){this.changed[a]=b};a.q.prototype.ol=function(c,b,d,e,g){if(null==c)return!0;var h={},f,l=this.Fs;g=a.q.dq(g);if(e)for(f in c)c.hasOwnProperty(f)&&(h[f]=c[f]);else h[c]=b;g=g||{};if(!this.Om(h,{validate:g.validate},!1))return!1;l||(this.Ck(),this.lo=[]);this.Fs||(this.sy=a.q.gh(this.attributes,null));this.Fs=!0;for(f in h)h.hasOwnProperty(f)&&(this.Qw(f,h[f],d)?(this.Kt(f,h[f]),this.lo.push(f)):delete h[f]);c=g.silent;for(f in h)h.hasOwnProperty(f)&&
(!c&&(0<this.lo.length||l&&-1===this.lo.indexOf(f))&&(this.TI=!0),this.vq(f,h[f],g,c));if(l)return!0;if(!c&&!l)for(;this.TI;)this.TI=!1,this.wq(g,c);this.Fs=!1;return!0};a.q.prototype.clear=function(c){var b,d={silent:!0},e;c=c||{};e=c.silent;d.validate=c.validate;this.Ck();for(b in this.attributes)if(this.attributes.hasOwnProperty(b)){if(!this.Tr(b,d,!0))return!1;this.Ub(e,a.X.v.CHANGE+":"+b,this,void 0,null)}this.attributes={};this.Wg();this.vq(null,null,null,e);this.wq(null,e);return this};a.b.g("Model.prototype.clear",
{clear:a.q.prototype.clear});a.q.gh=function(c,b){var d;if(null===c)return null;b=b||{};var e=!1;for(d in c)if(e=!0,c.hasOwnProperty(d))if("object"!==typeof c[d])b.hasOwnProperty(d)?void 0!==c[d]&&(b[d]=c[d]):b[d]=c[d];else if(a.q.im(c[d]))if(null===c[d])b[d]=null;else if(b[d]=[],0===c[d].length)b[d]=c[d];else for(var g=0;g<c[d].length;g++)b[d].push(a.q.gh(c[d][g],null));else b[d]=a.q.gh(c[d],null);return e||"object"===typeof c?b:c};a.q.prototype.clone=function(){var c=new this.constructor,b;for(b in this)this.hasOwnProperty(b)&&
this[b]!==this.attributes&&(c[b]=this[b]);c.attributes=a.q.gh(this.attributes,null);delete c.cid;c.mp();c.Wg();return c};a.b.g("Model.prototype.clone",{clone:a.q.prototype.clone});a.q.prototype.nk=function(a,b){var d=this.ze();if(void 0!==d&&d==a)return!0;d=this.cid;return void 0!==d&&d==b?!0:!1};a.q.prototype.set=function(c,b,d){var e={},g=!1,h,f=!0;if(arguments&&0<arguments.length)if(1<arguments.length&&arguments[arguments.length-1]&&(g=!0,e=arguments[arguments.length-1]||{}),a.q.vj(c))if(e.unset)for(h in c)c.hasOwnProperty(h)&&
this.Tr(h,null,!1);else this.ol(c,null,!0,!0,e)||(f=!1);else for(h=0;h<arguments.length;h+=2)if(void 0!==arguments[h]||h<arguments.length-1||!g&&h===arguments.length-1)e.unset?this.Tr(arguments[h],null,!1):this.ol(arguments[h],arguments[h+1],!1,!1,e)||(f=!1);return f?this:!1};a.b.g("Model.prototype.set",{set:a.q.prototype.set});a.q.prototype.AJ=function(a,b){return this.Tr(a,b,!1)};a.b.g("Model.prototype.unset",{AJ:a.q.prototype.AJ});a.q.prototype.Tr=function(a,b,d){b=b||{};var e=b.silent,g={};if(this.has(a)){if(!this.Om(g,
b,!1))return!1;d||this.Ck();delete this.attributes[a];this.Kt(a,void 0);this.vq(a,null,null,e);this.wq(null,e)}this.Wg();return!0};a.q.prototype.get=function(a){return this.attributes[a]};a.b.g("Model.prototype.get",{get:a.q.prototype.get});a.q.prototype.has=function(a){return void 0!==this.attributes[a]&&null!==this.attributes[a]};a.b.g("Model.prototype.has",{has:a.q.prototype.has});a.q.prototype.fetch=function(c){c=c||{};var b=c.success,d=c.error,e=this,g;g=a.q.dq(c);g.error=function(b,g,l){e.Ub(!1,
a.X.v.ERROR,e,b,c);d&&d.call(e,arguments)};g.success=function(d){a.q.xq(e,d,g);a.q.bd(this.parse)&&this.set(this.parse(d),g);b&&b.call(e,this,d,c)};a.q.yn("read",this,g)};a.b.g("Model.prototype.fetch",{fetch:a.q.prototype.fetch});a.q.prototype.parse=function(a){return a};a.q.prototype.url=function(){var c=this.iD(),b=this.ze();if(c)return b?c+"/"+encodeURIComponent(b):c;if(c=this.collection)return c=a.q.bd(c.url)?c.url():c.url,b&&c?(b="/"==a.q.wP(c)?"":"/",c+b+encodeURIComponent(this.ze())):c;throw"No URL defined";
};a.b.g("Model.prototype.url",{url:a.q.prototype.url});a.q.prototype.keys=function(){var a,b=[];for(a in this.attributes)this.attributes.hasOwnProperty(a)&&b.push(a);return b};a.b.g("Model.prototype.keys",{keys:a.q.prototype.keys});a.q.prototype.values=function(){var a,b=[];for(a in this.attributes)this.attributes.hasOwnProperty(a)&&b.push(this.get(a));return b};a.b.g("Model.prototype.values",{values:a.q.prototype.values});a.q.prototype.pairs=function(){var a,b=[],d;for(a in this.attributes)this.attributes.hasOwnProperty(a)&&
(d=[],d.push(a),d.push(this.get(a)),b.push(d));return b};a.b.g("Model.prototype.pairs",{pairs:a.q.prototype.pairs});a.q.prototype.SI=function(a){var b=[],d,e,g={};if(a instanceof Array)b=a;else for(d=0;d<arguments.length;d++)b.push(arguments[d]);for(e in this.attributes)this.attributes.hasOwnProperty(e)&&-1==b.indexOf(e)&&(g[e]=this.get(e));return g};a.b.g("Model.prototype.omit",{SI:a.q.prototype.SI});a.q.prototype.UI=function(a){var b=[],d,e={};if(a instanceof Array)b=a;else for(d=0;d<arguments.length;d++)b.push(arguments[d]);
for(d=0;d<b.length;d++)this.attributes.hasOwnProperty(b[d])&&(e[b[d]]=this.get(b[d]));return e};a.b.g("Model.prototype.pick",{UI:a.q.prototype.UI});a.q.prototype.yI=function(){var a,b={},d;for(a in this.attributes)this.attributes.hasOwnProperty(a)&&(d=this.get(a),b[d]=a);return b};a.b.g("Model.prototype.invert",{yI:a.q.prototype.yI});a.q.wP=function(a){return a.charAt(a.length-1)};a.q.prototype.GT=function(){var a=this.iD();return a?a:this.jp()?this.jp().url:null};a.q.prototype.iD=function(){return a.q.bd(this.urlRoot)?
this.urlRoot():this.urlRoot};a.q.prototype.parseSave=function(a){return a};a.q.prototype.isValid=function(){var a={};a.validate=this.validate;return this.Om(this.attributes,a,!1)};a.b.g("Model.prototype.isValid",{isValid:a.q.prototype.isValid});a.q.AR=function(a,b){a=a||{};return void 0!==a.validate&&null!==a.validate?a.validate:b};a.q.prototype.Om=function(c,b,d){b=b||{};var e=this.validate;return e&&a.q.AR(b,d)&&(this.validationError=e.call(this,c,b))?(this.Ub(!1,a.X.v.INVALID,this,this.validationError,
b),!1):!0};a.q.HS=function(c){var b=!1,d={},e,g={};if(c&&0<c.length){1<c.length&&c[c.length-1]&&a.q.vj(c[c.length-1])&&(b=!0,d=c[c.length-1]||{});if(null==c[0])return{attributes:null,options:d};if(a.q.vj(c[0]))for(e in c[0])c[0].hasOwnProperty(e)&&(g[e]=c[0][e]);else for(e=0;e<c.length;e+=2)if(void 0!==c[e]||e<c.length-1||!b&&e===c.length-1)g[c[e]]=c[e+1]}return{attributes:g,options:d}};a.q.dq=function(a){var b={},d;a=a||{};for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b};a.q.prototype.save=
function(c,b){var d,e,g,h,f,l;d=a.q.HS(arguments);var m,n,q;q=void 0===c?void 0:d.attributes;m=a.q.dq(d.options);m.wait||this.set(q);if(!this.Om(this.attributes,m,!0))return!1;d=void 0===m.forceNew?!1:m.forceNew;h=this;f=m.error;l=m.patch;m.error=function(c,d,e){h.Ub(!1,a.X.v.ERROR,h,c,b);f&&f.call(h,arguments)};m.saveAttrs=m.wait?this.LM(q):this.attributes;n=this.attributes;this.attributes=m.saveAttrs;m.saveAttrs=this.toJSON();this.attributes=n;if(!d&&!this.zs())return e=m.success,m.success=function(c){var d;
c&&(d=a.q.bd(this.parse)?this.parse(c):c,h.attributes=d,h.Wg());a.q.xq(h,c,m);e&&e.call(a.q.$f(m,h),h,c,b);h.Ck()},m.attrs=void 0===q?void 0:l?q:m.saveAttrs,a.q.yn(l?"patch":"update",this,m);g=a.q.bD(m);m.success=function(c){var d;if(c){d=a.q.bd(h.parse)?h.parse(c):c;if(!h.Om(d,m,!0))return;h.attributes=d;h.Wg()}m.wait&&h.set(q);a.q.xq(h,c,m);g&&g.call(a.q.$f(m,h),h,c,b);h.Ck()};m.attrs=m.saveAttrs;m.parse=!0;return a.q.yn("create",this,m)};a.b.g("Model.prototype.save",{save:a.q.prototype.save});
a.q.prototype.LM=function(a){var b={},d;for(d in this.attributes)this.attributes.hasOwnProperty(d)&&(b[d]=this.attributes[d]);for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b};a.q.im=function(a){return null!=a&&a.constructor===Array};a.q.bd=function(a){return a instanceof Function};a.q.az=function(a){return a&&a.hasOwnProperty("value")&&a.hasOwnProperty("comparator")};a.q.prototype.TQ=function(c){for(var b in c)if(c.hasOwnProperty(b)){if(!this.attributes.hasOwnProperty(b))return!1;for(var d=a.q.im(c[b])?
c[b]:[c[b]],e=0;e<d.length;e++)if(a.q.az(d[e])){var g=d[e].comparator,h=d[e].value;if(a.hb.Id(g))throw Error("String comparator invalid for local where/findWhere");if(!g(this,b,h))return!1}else if(c[b]!==this.attributes[b])return!1}return!0};a.q.prototype.KJ=function(a){a=a.constructor===Array?a:[a];var b;for(b=0;b<a.length;b++)if(this.TQ(a[b]))return!0;return!1};a.q.bD=function(a){return null!=a&&a.success?a.success:null};a.q.$f=function(a,b){return void 0!==a&&void 0!==a.context?a.context:b};a.q.prototype.zs=
function(){return void 0==this.ze()};a.b.g("Model.prototype.isNew",{zs:a.q.prototype.zs});a.q.prototype.hv=function(){return this.idAttribute||"id"};a.q.prototype.ze=function(){return this.id};a.q.prototype.vx=function(c){if(c){var b={},d;for(d in c)c.hasOwnProperty(d)&&(a.b.dj(c[d],this.attributes[d])||(b[d]=c[d]));return a.b.isEmpty(b)?!1:b}return a.b.isEmpty(this.changed)?!1:this.changed};a.b.g("Model.prototype.changedAttributes",{vx:a.q.prototype.vx});a.q.prototype.Vx=function(c){return void 0!==
c?a.q.vj(this.changed)&&this.changed.hasOwnProperty(c):a.q.vj(this.changed)};a.b.g("Model.prototype.hasChanged",{Vx:a.q.prototype.Vx});a.q.prototype.destroy=function(c){c=c||{};var b=c.wait,d,e=c.error,g=this,h,f;f=a.q.dq(c);d=a.q.bD(f);f.success=function(e){b&&g.Pu();a.q.xq(g,e,f);d&&d.call(a.q.$f(f,g),g,e,c)};f.error=function(c,b,d){g.Ub(!1,a.X.v.ERROR,g,c,f);e&&e.call(g,arguments)};if(!this.zs())return h=a.q.yn("delete",this,f),b||this.Pu(),h;b||this.Pu();d&&d.call(a.q.$f(f,g),g,null,c);return!1};
a.b.g("Model.prototype.destroy",{destroy:a.q.prototype.destroy});a.q.prototype.Pu=function(){this.Ub(!1,a.X.v.DESTROY,this,this.collection,null)};a.q.xq=function(c,b,d){c.Ub(!1,a.X.v.SYNC,c,b,d)};a.q.prototype.toJSON=function(){var a={},b;for(b in this.attributes)this.attributes.hasOwnProperty(b)&&(Array.isArray(this.attributes[b])?a[b]=this.attributes[b].slice(0):a[b]=this.attributes[b]);return a};a.b.g("Model.prototype.toJSON",{toJSON:a.q.prototype.toJSON});a.q.prototype.previous=function(a){return this.sy[a]};
a.b.g("Model.prototype.previous",{previous:a.q.prototype.previous});a.q.prototype.ZI=function(){return this.sy};a.b.g("Model.prototype.previousAttributes",{ZI:a.q.prototype.ZI});a.q.prototype.sync=function(a,b,d){return window.oj.sync(a,b,d)};a.q.yn=function(a,b,d){d=d||{};b.oauth&&(d.oauthHeader=b.oauth.getHeader());!d.dataType&&b.dataType&&(d.dataType=b.dataType);!d.jsonpCallback&&b.jsonpCallback&&(d.jsonpCallback=b.jsonpCallback);if("create"===a||"patch"===a||"update"===a)d.ry=b.parseSave.call(b,
"patch"===a?b.changed:d.saveAttrs);return b.sync(a,b,d)};a.rX=function(c,b,d){d=d||{};var e,g=d.success,h=d.error;e=b.customURL;if("create"===c.valueOf())return e=new a.Eb(b.GT(),e),e.$U(d.ry,h,d,b);if("read"===c.valueOf()){if(b instanceof a.q)return e=new a.Eb(b.url(),e),e.bW(g,h,b.ze(),d,a.q.$f(d,b));e=new a.Eb(b.PJ(d),e);return e.cW(g,h,d,b)}e=new a.Eb(b.url(),e);var f=null;b instanceof a.q&&(f=b.ze());return"update"===c.valueOf()?e.BJ(g,f,d.ry,h,d,b,!1):"patch"===c.valueOf()?e.BJ(g,f,d.ry,h,d,
b,!0):"delete"===c.valueOf()?e.JV(f,h,d,b):null};o_("sync",a.rX,a);a.q.QU=function(a){if(!a.url)throw Error("The url property or function must be specified");};a.ajax=function(){arguments&&0<arguments.length&&a.q.QU(arguments[0]);return f.ajax.apply(window.oj,arguments)};a.l=function(c,b){a.l.Bn||a.l._init(this,c,b,null)};o_("Collection",a.l,a);a.l.prototype.Ro=null;a.b.g("Collection.prototype.model",{Ro:a.l.prototype.Ro});a.l.prototype.length=0;a.b.g("Collection.prototype.length",{length:a.l.prototype.length});
a.l.prototype.NI=[];a.b.g("Collection.prototype.models",{NI:a.l.prototype.NI});a.l.prototype.url=null;a.b.g("Collection.prototype.url",{url:a.l.prototype.url});a.l.prototype.Of=function(){return null};a.b.g("Collection.prototype.customURL",{Of:a.l.prototype.Of});a.l.prototype.zH=function(){return null};a.b.g("Collection.prototype.customPagingOptions",{zH:a.l.prototype.zH});a.l.prototype.HI=0;a.b.g("Collection.prototype.lastFetchSize",{HI:a.l.prototype.HI});a.l.prototype.hasMore=!1;a.b.g("Collection.prototype.hasMore",
{hasMore:a.l.prototype.hasMore});a.l.prototype.vJ=0;a.b.g("Collection.prototype.totalResults",{vJ:a.l.prototype.vJ});a.l.prototype.GI=0;a.b.g("Collection.prototype.lastFetchCount",{GI:a.l.prototype.GI});a.l.prototype.MI=-1;a.b.g("Collection.prototype.modelLimit",{MI:a.l.prototype.MI});a.l.prototype.offset=0;a.b.g("Collection.prototype.offset",{offset:a.l.prototype.offset});a.l.prototype.Gx=-1;a.b.g("Collection.prototype.fetchSize",{Gx:a.l.prototype.Gx});a.l.prototype.bm=1;a.b.g("Collection.prototype.sortDirection",
{bm:a.l.prototype.bm});a.l.prototype.gf=null;a.b.g("Collection.prototype.comparator",{gf:a.l.prototype.gf});a.l.prototype.Tf=!0;a.b.g("Collection.prototype.sortSupported",{Tf:a.l.prototype.Tf});a.b.ra(a.l,a.b,"Collection.Collection");a.l.prototype.Init=function(){a.l.t.Init.call(this)};a.l.extend=function(c){a.l.Bn=!0;var b=new a.l;a.l.Bn=!1;var d;d=c&&c.constructor&&c.hasOwnProperty("constructor")?c.constructor:function(b,d){a.l._init(this,b,d,c)};d.prototype=b;return d.prototype.constructor=d};
o_("Collection.extend",a.l.extend,a);a.l._init=function(c,b,d,e){var g,h;c.Init();a.X.kp(c);if(e)for(g in e)e.hasOwnProperty(g)&&(c[g]=e[g]);d=d||{};h=["url","comparator","model",a.l.gd,"modelLimit","customURL"];for(g=0;g<h.length;g++)d.hasOwnProperty(h[g])&&void 0!==d[h[g]]&&(c[h[g]]=d[h[g]]);void 0===c.hn(null)&&c.Ns(-1);void 0===c.modelLimit&&c.Fy(-1);c.hasMore=!1;c.qf=0;c.Jj([]);d.parse&&(b=c.parse(b));if(null!=b&&void 0!==b)for(h=b instanceof Array?b:[b],g=0;g<h.length;g+=1)c.add(h[g],d);c.oi();
e&&e.initialize&&e.initialize.call(c,b,d)};a.l.prototype.on=function(){};a.l.prototype.Vg=function(){};a.l.prototype.Ub=function(){};a.l.prototype.Jj=function(a){this.models=a};a.l.prototype.Cb=function(){return this.models};a.l.prototype.ld=function(){return this.Cb().length};a.l.prototype.sS=function(a){return a<this.ld()||this.$a()&&(!this.Vk()||0===this.ld())?!1:!0};a.l.prototype.Vk=function(){return void 0!==this.totalResults&&null!=this.totalResults};a.l.prototype.PS=function(a){this.hw(a);
this.Cb().push(a);this.qf++;a.bt(this.ld()-1)};a.l.prototype.aF=function(a){if(a)for(var b=0;b<a.length;b++)a[b]&&this.qf--};a.l.prototype.wG=function(a,b,d){for(var e=a;e<a+b;e++)this.xF(this.Cb()[e]);void 0===d?this.aF(this.Cb().splice(a,b)):(this.aF(this.Cb().splice(a,b,d)),this.hw(d));0>this.qf&&(this.qf=0);this.$E(a)};a.l.prototype.Xb=function(a){return this.Cb()[a]};a.l.prototype.$E=function(a){this.Cb().forEach(function(b,d){d>=a&&b&&b.bt(d)})};a.l.prototype.xF=function(a){if(a){var b=a.ty;
a=a.JW;b?b.ct(a):this.head=a;a?a.np(b):this.tail=b}};a.l.prototype.hw=function(a){a.ct(this.head);this.head?this.head.np(a):this.tail=a;a.np(null);this.head=a};a.l.prototype.ZT=function(a,b){var d=this.Cb()[a];this.xF(d);d||this.qf++;this.Cb()[a]=b;b.bt(a);this.hw(b)};a.l.prototype.oN=function(a){var b=this.tail,d,e,g=0;for(this.tail=null;b&&g<a;)d=b.index,(e=this.Cb()[d])&&e.Vx()?(this.tail||(this.tail=b),b=b.ty):(this.qf--,-1<d&&(this.Cb()[d]=void 0),b.ct(null),b=b.np(null),g++);this.tail||(this.tail=
b);0>this.qf&&(this.qf=0);0===this.qf&&(this.tail=this.head=null)};a.l.prototype.Sn=function(){this.qf=0;this.tail=this.head=null};a.l.prototype.ii=function(a){if(this.$a()){var b=this.NC();-1<b&&this.qf+a>b&&this.oN(this.qf+a-b)}};a.l.prototype.clone=function(){return this.pB(!0)};a.b.g("Collection.prototype.clone",{clone:a.l.prototype.clone});a.l.prototype.pB=function(a){var b=new this.constructor,d;this.$a()&&(b=this.CN(b),b.EF());if(a)for(a=0;a<this.Uc();a+=1)(d=this.Uh(a,null,!0,!1))&&b.bh(d.clone(),
{at:a},!0,!1);return b};a.l.prototype.CN=function(c){var b=["totalResults","hasMore",a.l.gd],d,e;for(e=0;e<b.length;e++)d=b[e],c[d]=this[d];return c};a.l.prototype.Uc=function(){return this.length};a.l.prototype.oi=function(){var a=this.ld();this.length=a;this.$a()||(this.totalResults=a)};a.l.prototype.Kn=function(c,b,d){var e=null;d=d||{};d.PY=!b;e=c instanceof a.q?c:this.model?a.q.bd(this.model)?new this.model(c,d):new this.model.constructor(c,d):new a.q(c,d);return d.validate&&e.validate&&(c=e.validate(e.attributes))?
(d.validationError=c,this.Ub(!1,a.X.v.INVALID,this,c,d),null):e};a.l.prototype.add=function(a,b){this.ii(1);return this.bh(a,b,!1,(b||{}).deferred)};a.b.g("Collection.prototype.add",{add:a.l.prototype.add});a.l.prototype.bh=function(c,b,d,e){function g(c,e,g,f,h){var k,q=null;!n&&s&&g?(u=g.VJ(e,c.comparator,m),q=g):(n||(k=c.KC(f))&&d&&l!==k.index&&a.C.warn("Duplicate ID fetched or added without merging, the id \x3d "+k.ze()),void 0===k?(void 0===l?(c.PS(f),r=c.ld()-1,c.Xb(r).mp()):(r=l,c.$a()&&d?
c.ZT(r,f):c.wG(r,0,f),c.Xb(r).mp(),l+=1),void 0===f.jp()&&f.om(c),c.oi(),c.JR(f),x=!0,q=f):q=k);d&&(b=b||{},b.fillIn=!0);u&&void 0===k&&!t&&void 0===l&&1<c.Uc()&&(-1<r&&(p=c.Xb(r).cid),e={},a.ic.hf(e,b),e.add=!0,c.sort(e),-1<r&&(r=c.indexOf(c.Ix(p),h)));x&&(f?f.Ub(m,a.X.v.ADD,f,c,b):g.Ub(m,a.X.v.ADD,g,c,b));return q}function h(c,e,l){var p=c.Kn(e,!0,b),f=null,h=null;if(null!=p){r=-1;p.Wg();f=e instanceof a.q?e:p;if(l)return n?a.b.la(function(a){g(c,f,void 0,p,l);a()}):c.rj(f,null,l,!0).then(function(a){h=
a.m;a=g(c,f,h,p,l);v.push(a)});!n&&s&&(h=d?c.KC(f):c.get(f));(e=g(c,f,h,p,l))&&v.push(e)}}b=b||{};var f=[],l=b.at,m=b.silent,n=b.force,q,r,p,s=b.merge||!1,t=b.sort,u=!0,x=!1,v=[];c instanceof Array?f=c:f.push(c);if(!d&&(this.$a()||e)){var A=this;return a.b.la(function(c){function b(a){return d(a+1)}function d(c){return a.b.la(function(a){h(A,f[c],!0).then(function(){a(c)})})}var e=d(0);for(q=1;q<f.length;q++)e=e.then(b);e.then(function(){c(a.l.MF(v))})})}for(q=0;q<f.length;q++)h(this,f[q],!1);return a.l.MF(v)};
a.l.MF=function(a){return 1===a.length?a[0]:a};a.l.prototype.Pv=function(){var a=this.comparator;return void 0!==a&&null!==a};a.l.prototype.sort=function(c){c=c||{};var b=c.silent,d=this.comparator,e;if(this.Pv()){if(this.$a()){var g=this.totalResults;void 0!==g?this.Jj(Array(g)):(this.Jj([]),this.Sn(),this.oi())}else e=this,this.Cb().sort(function(c,b){return a.l.kz(c,b,d,e,e)}),this.$E(0);c=c.add?{add:!0}:null;this.Ub(b,a.X.v.SORT,this,c,null)}};a.b.g("Collection.prototype.sort",{sort:a.l.prototype.sort});
a.l.kn=function(c,b){return c instanceof a.q?c.get(b):a.q.bd(c[b])?c[b]():c[b]};a.l.kz=function(c,b,d,e,g){var f,k,l;if(a.q.bd(d)){if(1===d.length){f=d.call(g,c);k=d.call(g,b);f=a.hb.Id(f)?f.split(","):[f];var m=a.hb.Id(k)?k.split(","):[k];for(l=0;l<f.length;l++)if(k=a.l.ih(f[l],m[l],e.sortDirection),0!==k)return k}return d.call(g,c,b)}if(a.hb.Id(d))for(d=d.split(","),l=0;l<d.length;l++)if(f=a.l.kn(c,d[l]),k=a.l.kn(b,d[l]),k=a.l.ih(f,k,e.sortDirection),0!==k)return k;return 0};a.l.prototype.lJ=function(c,
b){var d=b?b:this.comparator,e;if(!d)return-1;this.He("sortedIndex");e=this;return a.l.OO(this.Cb(),c,function(c,b){var f,l;if(a.q.bd(d)){if(1===d.length){f=d.call(e,c);l=d.call(e,b);f=a.hb.Id(f)?f.split(","):[f];l=a.hb.Id(l)?l.split(","):[l];var m,n;for(n=0;n<f.length;n++)if(m=a.l.ih(f[n],l[n],e.sortDirection),0!==m)return m}return d.call(e,c,b)}return a.hb.Id(d)?(f=c.get(d),l=b.get(d),a.l.ih(f,l,e.sortDirection)):0})};a.b.g("Collection.prototype.sortedIndex",{lJ:a.l.prototype.lJ});a.l.OO=function(a,
b,d){function e(g,f){var k,l;if(g>f)return-1;k=b.mk();l=b.ze();if(a[g].nk(l,k))return g;if(a[f].nk(l,k))return f;k=Math.floor((f+g)/2);return-1===d(a[k],b)?e(g+1,k):1===d(a[k],b)?e(k,f-1):k}return e(0,a.length-1)};a.l.ih=function(a,b,d){if(-1===d){if(a<b)return 1;if(b<a)return-1}else{if(a>b)return 1;if(b>a)return-1}return 0};a.l.prototype.unshift=function(c,b){var d={};a.ic.hf(d,b||{});d.at||(d.at=0);this.ii(1);return this.bh(c,d,!1,d.deferred)};a.b.g("Collection.prototype.unshift",{unshift:a.l.prototype.unshift});
a.l.prototype.shift=function(a){var b=this.Sd(a);if(this.$a()||b){var d=this;return this.at(0,a).then(function(b){return d.mi(b,0,a)})}return this.mi(this.at(0),0,a)};a.b.g("Collection.prototype.shift",{shift:a.l.prototype.shift});a.l.prototype.wI=function(a){void 0===a&&(a=1);var b=[],d;for(d=0;d<this.Uc()-a;d+=1)b.push(this.at(d));return b};a.b.g("Collection.prototype.initial",{wI:a.l.prototype.wI});a.l.prototype.Sd=function(a){return(a||{}).deferred};a.l.prototype.last=function(a,b){var d=this.Sd(b);
void 0===a&&(a=1);if(1===a){var e=this.ld();0===e&&(e=a);return 0<e?this.at(e-1,d):null}var g=[],e=this.Uc();if(d||this.$a())return g=e-a,0>g&&(g=0),0===e&&(e=a),this.jm(g,e);for(d=e-a;d<e;d+=1)g.push(this.at(d));return g};a.b.g("Collection.prototype.last",{last:a.l.prototype.last});a.l.prototype.jm=function(c,b){var d=[],e,g=this;return a.b.la(function(f){function k(a){return l(a+1)}function l(c){return a.b.la(function(a){g.Bu(c,null).then(function(b){d.push(b);a(c)})})}var m=l(c);for(e=c+1;e<b;e++)m=
m.then(k);m.then(function(){f(d)})})};a.l.prototype.AC=function(c){return void 0===c||null===c?this[a.l.gd]:c};a.l.prototype.eN=function(){var c=this.lastFetchCount;if(void 0===c||null===c)c=this[a.l.gd];return void 0===this.offset||null===this.offset?c:this.offset+c};a.l.prototype.next=function(c,b){b=b||{};b[a.l.gd]=this.AC(c);var d=this.eN(),e=this.Uc();if(0===e&&0<b[a.l.gd])d=0;else if(d>=e)return b.success&&b.success.call(a.q.$f(b,this),this,null,b),null;b.startIndex=d;return this.fetch(b)};
a.b.g("Collection.prototype.next",{next:a.l.prototype.next});a.l.prototype.fN=function(a){return void 0===this.offset||null===this.offset?0:this.offset-a};a.l.prototype.previous=function(c,b){b=b||{};if(0===this.offset)return b.success&&this.lastFetchCount&&b.success.call(a.q.$f(b,this),this,null,b),null;b[a.l.gd]=this.AC(c);var d=this.fN(b[a.l.gd]);0>d&&(b[a.l.gd]=this.offset,d=0);b.startIndex=d;return this.fetch(b)};a.b.g("Collection.prototype.previous",{previous:a.l.prototype.previous});a.l.prototype.Fy=
function(a){this.modelLimit=a;this.ii(0)};a.b.g("Collection.prototype.setModelLimit",{Fy:a.l.prototype.Fy});a.l.prototype.NC=function(){return this.modelLimit};a.l.prototype.Ns=function(c){this[a.l.gd]=c};a.b.g("Collection.prototype.setFetchSize",{Ns:a.l.prototype.Ns});a.l.prototype.cJ=function(a,b){var d=this.Sd(b);void 0===a&&(a=1);var e=[];if(this.$a()||d)return this.jm(a,this.Uc());for(d=a;d<this.Uc();d+=1)e.push(this.at(d));return e};a.b.g("Collection.prototype.rest",{cJ:a.l.prototype.cJ});a.l.prototype.remove=
function(c,b){b=b||{};var d=[],e;c instanceof Array?d=c:d.push(c);for(e=d.length-1;0<=e;e-=1)this.mi(d[e],-1,b);this.Ub(b.silent,a.X.v.ALLREMOVED,this,d,b)};a.b.g("Collection.prototype.remove",{remove:a.l.prototype.remove});a.l.prototype.mi=function(c,b,d){d=d||{};c=-1==b?this.rj(c):a.l.ph(b,c);var e=d.silent;b=c.index;if(-1<b){var g=c.m;void 0!==g&&g.jp()===this&&g.om(null);this.wG(b,1);this.oi();var f={};a.ic.hf(f,d);f.index=b;void 0!==g&&g.Ub(e,a.X.v.REMOVE,g,this,f);this.PG(g)}return c.m};a.l.prototype.PG=
function(a){void 0!==a&&a.off(null,null,this)};a.l.prototype.JR=function(c){c.Vg(a.X.v.ALL,this.bS,this,!1,!0)};a.l.prototype.bS=function(c,b,d,e){c===a.X.v.DESTROY&&this.remove(b);void 0!==d&&d instanceof a.l&&d!==this||(Array.prototype.slice.call(arguments),this.Ub(e&&e.silent,c,b,d,e))};a.l.prototype.refresh=function(c){c=c||{};var b=this;return a.b.la(function(d,e){if(b.$a()){var g=b.totalResults;void 0!==g&&(b.Jj(Array(g)),b.Sn());b.Ub(void 0!==c.silent&&c.silent,a.X.v.REFRESH,b,c,null);d()}else b.reset(null,
{silent:!0}),b.fetch({success:function(c,e,g){b.Ub(void 0!==g.silent&&g.silent,a.X.v.REFRESH,b,g,null);d({collection:c,response:e,options:g})},error:function(a,c,d){e({collection:b,xhr:a,status:c,error:d})}})})};a.b.g("Collection.prototype.refresh",{refresh:a.l.prototype.refresh});a.l.prototype.reset=function(c,b){b=b||{};b.previousModels=this.Cb();this.Cb().forEach(function(a){a&&(this.PG(a),a.om(null))},this);this.Jj([]);this.Sn();if(c)if(b.parse&&(c=this.parse(c)),c instanceof Array){this.ii(c.length);
for(var d=0;d<c.length;d+=1)this.bh(c[d],b,!0,!1)}else this.ii(1),this.bh(c,b,!0,!1);this.oi();this.Ub(void 0!==b.silent&&b.silent,a.X.v.RESET,this,b,null)};a.b.g("Collection.prototype.reset",{reset:a.l.prototype.reset});a.l.prototype.at=function(a,b){return this.Uh(a,b,!1,this.Sd(b))};a.b.g("Collection.prototype.at",{at:a.l.prototype.at});a.l.prototype.Uh=function(a,b,d,e){return 0>a||this.sS(a)?null:d||!this.$a()&&!e?this.Xb(a):this.Bu(a,b)};a.l.prototype.Bu=function(c,b){var d=this,e=d.Xb(c);return void 0===
e?a.b.la(function(e,f){var k={};a.ic.hf(k,b||{});k.context=d;k.startIndex=c;k.error=function(a,c){f(c)};d.rq(k,-1,!1).then(function(){e(d.Xb(c))},function(a){f(a)})}):a.b.la(function(a){a(e)})};a.l.prototype.Ix=function(a){var b=null;this.Cb().some(function(d){return void 0!==d&&a===d.cid?(b=d,!0):!1});if(b)return b;if(this.$a())throw Error("Not found locally and not supported by server for virtual collections");return null};a.b.g("Collection.prototype.getByCid",{Ix:a.l.prototype.Ix});a.l.prototype.get=
function(c,b){var d=this.rj(c,b,this.Sd(b));if(d){if(f.isFunction(d.then))return a.b.la(function(a){d.then(function(c){a(c.m)})});if(this.$a())return a.b.la(function(a){a(d.m)});if(d.hasOwnProperty("m"))return d.m}return null};a.b.g("Collection.prototype.get",{get:a.l.prototype.get});a.l.prototype.KC=function(a){return(a=this.LC(a))?a.m:null};a.l.prototype.LC=function(c){var b=c;c instanceof a.q?(b=c.mk(),c=c.ze()):void 0!==c&&null!=c&&void 0!==c.id&&(c=c.id);var d=null;this.Cb().some(function(e,
g){return void 0!==e&&e.nk(c,b)?(d=a.l.ph(g,e),!0):!1});return d?d:a.l.ph(-1,void 0)};a.l.prototype.rj=function(c,b,d,e){var g=c;void 0===e&&(e=!1);c instanceof a.q?(g=c.mk(),c=c.ze()):void 0!==c&&null!=c&&void 0!==c.id&&(c=c.id);var f=null;this.Cb().some(function(b,d){return void 0!==b&&b.nk(c,g)?(f=a.l.ph(d,b),!0):!1});if(f)return d?a.b.la(function(a){a(f)}):f;if(this.$a()){if(void 0===c&&void 0!==g)return a.b.la(function(c){c(a.l.ph(-1,void 0))});var k=this;return a.b.la(function(d,l){var f={};
a.ic.hf(f,b||{});f.context=k;f.startID=c;f.error=function(a,c){l(c)};k.rq(f,-1,e).then(function(b){if(null!=b){b=k.qv();var e=k.Xb(b);void 0!==e&&e.nk(c,g)?d(a.l.ph(b,e)):d(a.l.ph(-1,void 0))}else d(a.l.ph(-1,void 0))},function(a){l(a)})})}var l=a.l.ph(-1,void 0);return d?a.b.la(function(a){a(l)}):l};a.l.ph=function(a,b){return{index:a,m:b}};a.l.prototype.parse=function(a){var b;if(a instanceof Array||!a)return a;for(b in a)if(a.hasOwnProperty(b)&&a[b]instanceof Array)return a[b];return a};a.l.prototype.Os=
function(c,b){var d=this.kv(c,b);if(d.start===c&&d.count===b)return a.b.la(function(a){a(d)});var e=this.NC();-1<e&&e<b&&(this.modelLimit=b);var g=this;return a.b.la(function(a,d){g.hG(c,b,-1,{start:c,count:b},a,d,!0)})};a.b.g("Collection.prototype.setRangeLocal",{Os:a.l.prototype.Os});a.l.prototype.hG=function(c,b,d,e,g,f,k){var l=this,m=this.mv(c,b);this[a.l.gd]&&this[a.l.gd]>m-c&&(m=this[a.l.gd]+c);!this.Vk()&&m<c+b&&(m=c+b);var n=this.DC(c,m);n>c&&(c=n,m=this.mv(n,b));m=this.$a()?{context:this,
startIndex:c,fetchSize:m-c}:{context:this};m.error=function(a,c){f(c)};this.rq(m,d,-1<d).then(function(){var a=l.kv(e.start,e.count);if(k&&l.Vk()&&a.count<e.count){var d=a.start+a.count,p=c+b;p<l.totalResults?l.hG(p,b,d,e,g,f,k):g(a)}else g(a)},function(a){f(a)})};a.l.prototype.mv=function(a,b){var d=this.ld();return 0===d?a+b:a+b>d?d:a+b};a.l.prototype.by=function(a,b){var d=this.kv(a,b);return a===d.start&&b===d.count};a.b.g("Collection.prototype.isRangeLocal",{by:a.l.prototype.by});a.l.prototype.kv=
function(a,b){if(!this.$a())return 0<this.ld()?{start:a,count:b}:{start:a,count:0};var d=this.mv(a,b);if(!this.Vk()&&d<a+b||0===d)return{start:a,count:0};d=this.DC(a,d);return-1<d?{start:a,count:d-a}:{start:a,count:b}};a.l.prototype.DC=function(a,b){for(var d=a;d<b;d++)if(void 0===this.Xb(d))return d;return-1};a.l.prototype.fetch=function(a){return this.rq(a,-1,!1)};a.b.g("Collection.prototype.fetch",{fetch:a.l.prototype.fetch});a.l.prototype.rq=function(c,b,d){function e(a,c,b){a.$a()?b||a.EF():
c.add||c.Oy||a.reset()}var g=c||{},f=g.success,k;g.set&&(g.Oy=g.set?!0:!1);void 0===g.parse&&(g.parse=!0);k=this;g.success=function(l){k.$T(l,c);var m=k.parse(l,c),n=null;if(g.add||k.model){e(k,g,d);try{r=!1,-1===b&&(r=!0,b=k.qv()),n=k.NO(m,b,r,g)}catch(q){g.error&&g.error.call(a.q.$f(c,k),k,q,c);return}}else if(!d)if(k.$a()){e(k,g,d);var r=!1;-1===b&&(r=!0,b=k.qv());n=k.QS(m,b,r)}else g.Oy?k.Ow(m,!1,g,!1):k.reset(m);k.$a()&&n&&(k.lastFetchCount=n.length);k.Ub(!1,a.X.v.SYNC,k,l,g);f&&f.call(a.q.$f(c,
k),k,l,g)};return this.fC(g)};a.l.prototype.QS=function(a,b,d){var e;if(a){e=a instanceof Array?a:[a];a={};d&&this.ii(e.length);d=this.$a();for(var g=null,f=0;f<e.length;f+=1)d&&(a={at:b},g=this.Uh(b,null,!0,!1)),a.silent=!0,this.bh(e[f],a,!0,!1),this.Uh(b,null,!0,!1)!==g&&b++}return e};a.l.prototype.NO=function(c,b,d,e){e=e||{};var g=e.parse,f=a.l.xB(this);if(c){var k=c instanceof Array?c:[c];c={};d&&this.ii(k.length);d=this.$a();if(e.Oy&&!d){for(var l=0;l<k.length;l+=1)b=f&&g?f.parse(k[l]):k[l],
k[l]=b;this.Ow(k,!1,e,!1)}else{e=null;for(var m=b,l=0;l<k.length;l+=1)b=f&&g?f.parse(k[l]):k[l],d&&(c={at:m},e=this.Uh(m,c,!0,!1)),c.silent=!0,this.bh(b,c,!0,!1),this.Uh(m,null,!0,!1)!==e&&m++}}return k};a.l.prototype.KO=function(c){var b=c||{},d=b.success,e,g;void 0===b.parse&&(b.parse=!0);g=this;b.success=function(f){var k,l;k=g.parse(f,c);var m=null,n=[];if(b.add||g.model)if(l=a.l.xB(g),k)for(m=k instanceof Array?k:[k],k=0;k<m.length;k+=1)e=l&&b.parse?l.parse(m[k]):m[k],n.push(g.Kn(e));g.Ub(!1,
a.X.v.SYNC,g,f,b);d&&d.call(a.q.$f(c,g),g,n,b)};this.fC(b)};a.l.xB=function(c){if(c.model)return a.q.bd(c.model)?new c.model:new c.model.constructor};a.l.prototype.fC=function(c){try{return a.q.yn("read",this,c)}catch(b){throw this.Ub(!1,a.X.v.ERROR,this,null,c),b;}};a.l.prototype.EF=function(){var a=this.totalResults;void 0!==a&&this.ld()!==a&&(this.Jj(Array(a)),this.Sn(),this.oi())};a.l.prototype.hn=function(c){c=c||{};return c[a.l.gd]||this[a.l.gd]};a.l.prototype.$a=function(){return-1<this.hn(null)};
a.l.prototype.Nq=function(c,b,d,e,g){c=parseInt(a.l.uv(c,b,d),10);return void 0===c||null===c||isNaN(c)?e?e:g:c};a.l.prototype.$T=function(c,b){var d={};this.customPagingOptions&&((d=this.customPagingOptions.call(this,c))||(d={}));b=b||{};this.lastFetchSize=this.Nq(d,c,"limit",b.fetchSize,this.fetchSize);this.offset=this.Nq(d,c,"offset",b.startIndex,0);this.lastFetchCount=this.Nq(d,c,"count",this.lastFetchCount,this.lastFetchCount);this.totalResults=this.Nq(d,c,"totalResults",this.totalResults,this.totalResults);
this.hasMore=this.rP(a.l.uv(d,c,"hasMore"),this.offset,this.lastFetchSize,this.totalResults);!this.$a()&&this.totalResults&&this.totalResults!==this.lastFetchCount&&this.lastFetchSize&&this.Ns(this.lastFetchSize)};a.l.prototype.rP=function(a,b,d,e){return a&&void 0!==a?a:b+d>e?!1:!0};a.l.uv=function(a,b,d){return a.hasOwnProperty(d)?a[d]:b?b[d]:void 0};a.l.prototype.qv=function(){return void 0!==this.offset?this.offset:0};a.l.prototype.create=function(c,b){function d(b,d){b.save(c instanceof a.q?
null:c,d);return b}var e=this.Sd(b);b=b||{};var g=this.Kn(c,!0,b),f=b.success,k=b.context;b.context=this;b.success=function(a,b,c){f&&f.call(null!=k?k:this,a,b,c)};if(null==g)return!1;b.forceNew=null!=g.ze();g.om(this);var l=this;if(e||this.$a())return a.b.la(function(a){l.add(g,{merge:!0,deferred:!0}).then(function(){b.success=function(b,c,d){f&&f.call(null!=k?k:l,b,c,d);a(b)};var c=d(g,b);c||a(c)})});this.add(g,{merge:!0});return d(g,b)};a.b.g("Collection.prototype.create",{create:a.l.prototype.create});
a.l.prototype.WI=function(a){var b=[],d;this.He("pluck");for(d=0;d<this.Uc();d+=1)b.push(this.at(d).get(a));return b};a.b.g("Collection.prototype.pluck",{WI:a.l.prototype.WI});a.l.prototype.dm=function(c,b){b=b||{};var d=this.Sd(b),e=this;if(this.$a())return a.b.la(function(a,b){e.KO({query:c,all:!0,success:function(b,c){a(c)},error:function(a,c,d){b({collection:a,xhr:c,error:d})}})});var g=[],f,k;for(f=0;f<this.Uc();f+=1)k=this.at(f),k.KJ(c)&&g.push(k);return d?a.b.la(function(a){a(g)}):g};a.b.g("Collection.prototype.where",
{dm:a.l.prototype.dm});a.l.prototype.DJ=function(c,b){b=b||{};var d=this.Sd(b),e=this;if(this.$a()||d)return a.b.la(function(a){return e.dm(c,b).then(function(b){b=e.jE(b);a(b)})});d=this.dm(c,b);d=this.jE(d);d[a.l.gd]=-1;d.oi();return d};a.b.g("Collection.prototype.whereToCollection",{DJ:a.l.prototype.DJ});a.l.prototype.jE=function(a){var b=this.pB(!1);b.Jj(a);b.Sn();b.oi();return b};a.l.prototype.He=function(a){if(this.$a())throw Error(a+" not valid on a virtual Collection");};a.l.prototype.map=
function(a,b){var d=[],e;this.He("map");this.Cb().forEach(function(g){e=a.call(b||this,g);d.push(e)});return d};a.b.g("Collection.prototype.map",{map:a.l.prototype.map});a.l.prototype.each=function(a,b){this.He("each");this.Cb().forEach(a,b)};a.b.g("Collection.prototype.each",{each:a.l.prototype.each});a.l.prototype.size=function(){return this.Uc()};a.b.g("Collection.prototype.size",{size:a.l.prototype.size});a.l.prototype.kJ=function(c,b){var d=[],e;this.He("sortBy");this.Cb().forEach(function(a){d.push(a)});
e=this;d.sort(function(d,f){var k,l;if(a.q.bd(c))return k=c.call(b||e,d),l=c.call(b||e,f),a.l.ih(k,l,e.sortDirection);k=d.get(c);l=f.get(c);return a.l.ih(k,l,e.sortDirection)});return d};a.b.g("Collection.prototype.sortBy",{kJ:a.l.prototype.kJ});a.l.prototype.qI=function(c,b){var d={},e;this.He("groupBy");this.Cb().forEach(function(g){e=a.q.bd(c)?c.call(b||this,g):g.get(c);void 0===d[e]&&(d[e]=[]);d[e].push(g)},this);return d};a.b.g("Collection.prototype.groupBy",{qI:a.l.prototype.qI});a.l.prototype.min=
function(a,b){var d={},e,g;this.He("min");if(0==this.ld())return null;d=this.Xb(0);e=a.call(b||this,this.Xb(0));this.Cb().forEach(function(f,k){1<=k&&(g=a.call(b||this,f),g<e&&(d=f,e=g))},this);return d};a.b.g("Collection.prototype.min",{min:a.l.prototype.min});a.l.prototype.max=function(a,b){var d={},e,g;this.He("max");if(0==this.ld())return null;d=this.Xb(0);e=a.call(b,this.Xb(0));this.Cb().forEach(function(f,k){1<=k&&(g=a.call(b||this,f),g>e&&(d=f,e=g))},this);return d};a.b.g("Collection.prototype.max",
{max:a.l.prototype.max});a.l.prototype.filter=function(a,b){var d=[];this.He("filter");this.Cb().forEach(function(e){a.call(b||this,e)&&d.push(e)});return d};a.b.g("Collection.prototype.filter",{filter:a.l.prototype.filter});a.l.prototype.EJ=function(a){var b=[],d,e,g,f;this.He("without");for(var k,l=0;l<this.Cb().length;l++){f=!0;k=this.Cb()[l];for(d=0;d<arguments.length;d+=1)if(g=arguments[d].mk(),e=arguments[d].ze(),k.nk(e,g)){f=!1;break}f&&b.push(k)}return b};a.b.g("Collection.prototype.without",
{EJ:a.l.prototype.EJ});a.l.prototype.isEmpty=function(){return 0===this.Uc()};a.b.g("Collection.prototype.isEmpty",{isEmpty:a.l.prototype.isEmpty});a.l.prototype.fH=function(a,b){this.He("any");for(var d,e=0;e<this.ld();e+=1)if(d=this.Xb(e),a.call(b||this,d))return!0;return!1};a.b.g("Collection.prototype.any",{fH:a.l.prototype.fH});a.l.prototype.FH=function(c,b){var d=this.Sd(b),e=this;if(this.$a()||d)return a.b.la(function(a){e.dm(c,b).then(function(b){b&&0<b.length&&a(b[0]);a(null)})});d=this.dm(c);
return 0<d.length?d[0]:null};a.b.g("Collection.prototype.findWhere",{FH:a.l.prototype.FH});a.l.prototype.slice=function(a,b,d){var e=this.Sd(d);d=[];if(void 0===b){if(this.rY&&!this.Vk())throw Error("End must be set for virtual collections with no totalResults");b=this.ld()}if(e||this.$a())return this.jm(a,b);for(;a<b;a+=1)d.push(this.Xb(a));return d};a.b.g("Collection.prototype.slice",{slice:a.l.prototype.slice});a.l.prototype.set=function(a,b){return this.Ow(a,!0,b,this.Sd(b)||this.$a())};a.b.g("Collection.prototype.set",
{set:a.l.prototype.set});a.l.rF=function(a,b,d,e){if(b)for(b=a.ld()-1;0<=b;b-=1)-1==d.indexOf(b)&&a.mi(a.Xb(b),b,e)};a.l.prototype.Ow=function(c,b,d,e){d=d||{};var g=void 0===d.add?!0:d.add,f=void 0===d.remove?!0:d.remove,k=void 0===d.merge?!0:d.merge,l=[],m=null,n;b&&(c=this.parse(c));n=a.q.im(c)?c:[c];if(e)return this.hO(n,d,f,g,k,b);for(c=0;c<n.length;c+=1)m=this.UG(this.Kn(n[c],b,d),g,k,e),-1!==m&&l.push(m);a.l.rF(this,f,l,d)};a.l.prototype.hO=function(c,b,d,e,g,f){var k=[],l,m=this;return a.b.la(function(n){function q(a){return r(a+
1)}function r(d){return a.b.la(function(a){m.UG(m.Kn(c[d],f,b),e,g,!0).then(function(b){-1!==b&&k.push(b);a(d)})})}var p=r(0);for(l=1;l<c.length;l+=1)p=p.then(q);p.then(function(){a.l.rF(m,d,k,b);n()})})};a.l.prototype.UG=function(c,b,d,e){function g(e,g,f){var h=g?g.index:-1;if(g&&g.m){if(d){var k={merge:d};if(f)return a.b.la(function(a){e.bh(c,k,!1,!0).then(function(){a(h)})});e.add(c,k)}}else if(b){if(f)return a.b.la(function(a){e.add(c,{deferred:!0}).then(function(){a(e.Uc()-1)})});e.add(c);h=
e.Uc()-1}return h}if(e||this.$a()){var f=this;return a.b.la(function(a){f.rj(c,null,e).then(function(b){g(f,b,!0).then(function(b){a(b)})})})}var k=this.rj(c);return g(this,k,!1)};a.l.prototype.toJSON=function(){var a=[];this.He("toJSON");this.Cb().forEach(function(b){a.push(b.toJSON())});return a};a.b.g("Collection.prototype.toJSON",{toJSON:a.l.prototype.toJSON});a.l.prototype.first=function(a,b){var d=this.Sd(b),e=this.Uc(),g=[];a?e=a:a=1;d=this.$a()||d;if(1===a)return d?this.Bu(0,null):0<this.ld()?
this.Xb(0):null;e>this.ld()&&(!this.$a()||this.Vk())&&(e=this.ld());if(d)return this.jm(0,e);for(d=0;d<e;d+=1)g.push(this.Xb(d));return g};a.b.g("Collection.prototype.first",{first:a.l.prototype.first});a.l.prototype.indexOf=function(a,b){var d=this.Sd(b);return this.$a()||d?this.rj(a,null,!0).then(function(a){return a.index}):this.rj(a).index};a.b.g("Collection.prototype.indexOf",{indexOf:a.l.prototype.indexOf});a.l.prototype.SR=function(a){a=this.LC(a);return void 0!==a?a.index:-1};a.l.prototype.pop=
function(a){var b=this.Sd(a);if(this.$a()||b){var d=this;return this.at(this.Uc()-1,{deferred:b}).then(function(b){d.remove(b,a);return b})}b=this.at(this.Uc()-1);this.remove(b,a);return b};a.b.g("Collection.prototype.pop",{pop:a.l.prototype.pop});a.l.prototype.push=function(a,b){var d=this.Sd(b);this.ii(1);return this.bh(a,b,!1,d)};a.b.g("Collection.prototype.push",{push:a.l.prototype.push});a.l.prototype.lastIndexOf=function(c,b){var d;this.He("lastIndexOf");void 0===b&&(b=0);for(d=this.Uc()-1;d>=
b;d-=1)if(a.b.dj(c,this.at(d)))return d;return-1};a.b.g("Collection.prototype.lastIndexOf",{lastIndexOf:a.l.prototype.lastIndexOf});a.l.prototype.Av=function(a){return void 0===a?[]:a.split(",")};a.l.OP=function(c){c=a.q.im(c)?c:[c];var b="",d,e,g,f;for(g=0;g<c.length;g++){d=c[g];for(f in d)if(d.hasOwnProperty(f))for(var k=a.q.im(d[f])?d[f]:[d[f]],l=0;l<k.length;l++){if(a.q.az(k[l])){e=k[l].value;var m=null,m=k[l].comparator,m=a.q.bd(m)?m(null,f,e):m;e=f+m+e}else e=f+"\x3d"+d[f];b+=e+"+"}b=b.substring(0,
b.length-1)+","}return","===b.substring(b.length-1)?b.substring(0,b.length-1):b};a.l.prototype.ZJ=function(c){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);if((c=this.comparator)&&a.hb.Id(c)){c=this.Av(c);for(d=0;d<c.length;d++)b.sort=0===d?c[d]:b.sort+(","+c[d]);b.sortDir=this.Bv()}this.$a()&&(b[a.l.gd]=this.hn(b));return b};a.l.prototype.PJ=function(c){var b=a.q.bd(this.url)?this.url():this.url;if(this.$a()){var d=c.all,e=null;e=d?(e=this.totalResults)?e:this.hn(c):this.hn(c);b+="?limit\x3d"+
e;d||(c.startIndex&&(b+="\x26offset\x3d"+c.startIndex),c.startID&&(b+="\x26fromID\x3d"+c.startID),c.since&&(b+="\x26since\x3d"+c.since),c.until&&(b+="\x26until\x3d"+c.until));c.query&&(c=a.l.OP(c.query))&&0<c.length&&(b+="\x26q\x3d"+c);if(c=this.comparator)for(c=this.Av(c),d=this.Bv(),e=0;e<c.length;e++)b=0===e?b+("\x26orderBy\x3d"+c[e]+":"+d):b+(","+c[e]+":"+d);b+="\x26totalResults\x3dtrue"}return b};a.l.prototype.Bv=function(){return-1===this.sortDirection?"desc":"asc"};a.l.prototype.sync=function(a,
b,d){return window.oj.sync(a,b,d)};a.l.gd="fetchSize";a.Eb=function(a,b){this.Yo=a;this.Of=b;f.support.cors=!0};a.Eb.tk="headers";a.Eb.io=function(c,b,d){var e;c=f.extend(!0,c,d);for(e in b)b.hasOwnProperty(e)&&"oauthHeader"!==e&&(c.hasOwnProperty(e)||(c[e]=b[e]),e===a.Eb.tk&&(c[e]=f.extend(!0,c[e],b[e])));if(b.oauthHeader)for(e in c[a.Eb.tk]||(c[a.Eb.tk]={}),b.oauthHeader)b.oauthHeader.hasOwnProperty(e)&&(c[a.Eb.tk].hasOwnProperty(e)||(c[a.Eb.tk][e]=b.oauthHeader[e]));return c};a.Eb.prototype.cW=
function(c,b,d,e){d=d||{};var g="jsonp"===d.dataType,f=this.sn("read",this.Yo,this.Of,null,e,d);c={crossDomain:d.crossDomain||!g,dataType:d.dataType||"json",jsonpCallback:d.jsonpCallback,context:null!==e?e:this,success:c,error:b};c=this.Np(c);c=a.Eb.io(c,d,f);d.xhr=this.ajax(c);return d.xhr};a.Eb.prototype.Np=function(c){c[a.Eb.tk]={"Accept-Language":this.re()};return c};a.Eb.prototype.bW=function(c,b,d,e,g){e=e||{};var f="jsonp"===e.dataType;d=this.sn("read",this.Yo,this.Of,d,g,e);c={crossDomain:e.crossDomain||
!f,dataType:e.dataType||"json",jsonpCallback:e.jsonpCallback,context:null!==g?g:this,success:c,error:b};c=this.Np(c);c=a.Eb.io(c,e,d);e.xhr=this.ajax(c);return e.xhr};a.Eb.prototype.BJ=function(c,b,d,e,g,f,k){g=g||{};var l="jsonp"===g.dataType;b=this.sn(k?"patch":"update",this.Yo,this.Of,b,f,g);c={crossDomain:g.crossDomain||!l,contentType:g.contentType||"application/json",dataType:g.dataType||"json",jsonpCallback:g.jsonpCallback,data:JSON.stringify(d),success:c,error:e,context:null!==f?f:this};c=
this.Np(c);c=a.Eb.io(c,g,b);g.xhr=this.ajax(c);return g.xhr};a.Eb.prototype.ev=function(a,b){return b.type?b.type:"create"===a?"POST":"delete"===a?"DELETE":"patch"===a?"PATCH":"update"===a?"PUT":"GET"};a.Eb.prototype.NT=function(c,b,d){b=b instanceof a.l?b.ZJ(d):{};c&&(b.recordID=c);return b};a.Eb.prototype.sn=function(c,b,d,e,g,f){if(a.q.bd(d)){d=d.call(this,c,g,this.NT(e,g,f));if(a.hb.Id(d))return{url:d,type:this.ev(c,f)};if(d)return d.url=d.hasOwnProperty("url")?d.url:b,d.type=d.hasOwnProperty("type")?
d.type:this.ev(c,f),d}return{url:b,type:this.ev(c,f)}};a.Eb.prototype.JV=function(c,b,d,e){d=d||{};var g="jsonp"===d.dataType;c=this.sn("delete",this.Yo,this.Of,c,e,d);b={crossDomain:d.crossDomain||!g,success:d.success,error:b,context:null!==e?e:this};b=a.Eb.io(b,d,c);d.xhr=this.ajax(b);return d.xhr};a.Eb.prototype.$U=function(c,b,d,e){d=d||{};var g=JSON.stringify(c),f="jsonp"===d.dataType;c=this.sn("create",this.Yo,this.Of,null,e,d);b={crossDomain:d.crossDomain||!f,contentType:d.contentType||"application/json",
dataType:d.dataType||"json",jsonpCallback:d.jsonpCallback,data:g,success:d.success,error:b,context:null!==e?e:this};b=this.Np(b);b=a.Eb.io(b,d,c);d.xhr=this.ajax(b);return d.xhr};a.Eb.prototype.re=function(){return a.ja.re()};a.Eb.prototype.ajax=function(a){return window.oj.ajax(a)};a.fb=function(c,b){b=b||{};a.fb._init(this,b,c||"Authorization")};o_("OAuth",a.fb,a);a.b.ra(a.fb,a.b,"OAuth.OAuth");a.fb.prototype.Init=function(){a.fb.t.Init.call(this)};a.fb.prototype.YH=function(){var a={};this.ti.access_token||
this.xx();a[this.vg.lH]="Bearer "+this.ti.access_token;return a};a.b.g("OAuth.prototype.getHeader",{YH:a.fb.prototype.YH});a.fb.prototype.CI=function(){return this.ti.yY?!0:!1};a.b.g("OAuth.prototype.isInitialized",{CI:a.fb.prototype.CI});a.fb.prototype.xx=function(){var c={},b=this;c[b.vg.lH]="Basic "+a.fb.RM(b.vg.client_id+":"+b.vg.client_secret);f.ajax({type:"POST",async:!1,url:this.vg.bearer_url,data:"grant_type\x3dclient_credentials",headers:c,success:function(c){a.fb.wn(b.ti,c)},error:function(a){throw Error(a.responseText);
}})};a.b.g("OAuth.prototype.clientCredentialGrant",{xx:a.fb.prototype.xx});a.fb.prototype.gJ=function(c){a.fb.wn(this.ti,c)};a.b.g("OAuth.prototype.setAccessTokenResponse",{gJ:a.fb.prototype.gJ});a.fb.prototype.NH=function(){return this.ti};a.b.g("OAuth.prototype.getAccessTokenResponse",{NH:a.fb.prototype.NH});a.fb.prototype.pH=function(){a.fb.iB(this.ti)};a.b.g("OAuth.prototype.cleanAccessTokenResponse",{pH:a.fb.prototype.pH});a.fb.prototype.fJ=function(c){a.fb.wn(this.vg,c)};a.b.g("OAuth.prototype.setAccessTokenRequest",
{fJ:a.fb.prototype.fJ});a.fb.prototype.MH=function(){return this.vg};a.b.g("OAuth.prototype.getAccessTokenRequest",{MH:a.fb.prototype.MH});a.fb.prototype.oH=function(){a.fb.iB(this.vg)};a.b.g("OAuth.prototype.cleanAccessTokenRequest",{oH:a.fb.prototype.oH});a.fb._init=function(c,b,d){c.Init();c.vg={};c.ti={};b.access_token?a.fb.wn(c.ti,b):b.client_id&&b.client_secret&&b.bearer_url&&a.fb.wn(c.vg,b);c.vg.lH=d};a.fb.wn=function(a,b){var d;b=b||{};for(d in b)a[d]=b[d]};a.fb.iB=function(a){for(var b in a)a.hasOwnProperty(b)&&
"auth_header"!==b&&(a[b]=null,delete a[b])};a.fb.RM=function(a){var b,d,e,g,f=0,k=0,l=[];do b=a.charCodeAt(f++),d=a.charCodeAt(f++),e=a.charCodeAt(f++),g=b<<16|d<<8|e,b=g>>18&63,d=g>>12&63,e=g>>6&63,g&=63,l[k++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(g);
while(f<a.length);l=l.join("");b=a.length%3;return(b?l.slice(0,b-3):l)+"\x3d\x3d\x3d".slice(b||3)}});
//# sourceMappingURL=oj-modular.map